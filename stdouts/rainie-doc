/root/Targets/rainie-doc
└─┬ rainie-doc@0.0.4 
  ├── co@4.6.0 
  ├── colors@1.1.2 
  ├── commander@2.11.0 
  ├─┬ fs-promise@1.0.0 
  │ ├── any-promise@1.3.0 
  │ ├─┬ fs-extra@1.0.0 
  │ │ ├── graceful-fs@4.1.11 
  │ │ ├── jsonfile@2.4.0 
  │ │ └── klaw@1.3.1 
  │ ├─┬ mz@2.7.0 
  │ │ └── object-assign@4.1.1 
  │ └─┬ thenify-all@1.6.0 
  │   └── thenify@3.3.0 
  ├─┬ jsdoc-to-markdown@2.0.1 
  │ ├─┬ array-back@1.0.4 
  │ │ └── typical@2.6.1 
  │ ├─┬ command-line-tool@0.6.4 
  │ │ ├── ansi-escape-sequences@3.0.0 
  │ │ ├─┬ command-line-args@3.0.5 
  │ │ │ └── find-replace@1.0.3 
  │ │ └─┬ command-line-usage@3.0.8 
  │ │   └─┬ table-layout@0.3.0 
  │ │     ├── deep-extend@0.4.2 
  │ │     └── wordwrapjs@2.0.0 
  │ ├─┬ config-master@2.0.4 
  │ │ └─┬ babel-polyfill@6.26.0 
  │ │   ├─┬ babel-runtime@6.26.0 
  │ │   │ └── regenerator-runtime@0.11.0 
  │ │   └── regenerator-runtime@0.10.5 
  │ ├── core-js@2.5.1 
  │ ├─┬ dmd@2.1.2 
  │ │ ├─┬ cache-point@0.3.4 
  │ │ │ └─┬ mkdirp@0.5.1 
  │ │ │   └── minimist@0.0.8 
  │ │ ├── common-sequence@1.0.2 
  │ │ ├─┬ file-set@1.1.1 
  │ │ │ └─┬ glob@7.1.2 
  │ │ │   ├── fs.realpath@1.0.0 
  │ │ │   ├─┬ inflight@1.0.6 
  │ │ │   │ └── wrappy@1.0.2 
  │ │ │   ├── inherits@2.0.3 
  │ │ │   ├─┬ minimatch@3.0.4 
  │ │ │   │ └─┬ brace-expansion@1.1.8 
  │ │ │   │   ├── balanced-match@1.0.0 
  │ │ │   │   └── concat-map@0.0.1 
  │ │ │   ├── once@1.4.0 
  │ │ │   └── path-is-absolute@1.0.1 
  │ │ ├─┬ handlebars@3.0.3 
  │ │ │ ├─┬ optimist@0.6.1 
  │ │ │ │ └── wordwrap@0.0.3 
  │ │ │ ├─┬ source-map@0.1.43 
  │ │ │ │ └── amdefine@1.0.1 
  │ │ │ └─┬ uglify-js@2.3.6 
  │ │ │   ├── async@0.2.10 
  │ │ │   └── optimist@0.3.7 
  │ │ ├── marked@0.3.6 
  │ │ ├── object-get@2.1.0 
  │ │ ├── reduce-flatten@1.0.1 
  │ │ ├── reduce-unique@1.0.0 
  │ │ ├── reduce-without@1.0.1 
  │ │ └── test-value@2.1.0 
  │ ├── feature-detect-es6@1.3.1 
  │ ├─┬ jsdoc-api@2.0.6 
  │ │ ├─┬ collect-all@1.0.3 
  │ │ │ ├── stream-connect@1.0.2 
  │ │ │ └── stream-via@1.0.4 
  │ │ ├── fs-then-native@1.0.2 
  │ │ ├─┬ jsdoc-75lb@3.6.0 
  │ │ │ ├── bluebird@3.4.7 
  │ │ │ ├─┬ catharsis@0.8.9 
  │ │ │ │ └─┬ underscore-contrib@0.3.0 
  │ │ │ │   └── underscore@1.6.0 
  │ │ │ ├── escape-string-regexp@1.0.5 
  │ │ │ ├─┬ espree@3.1.7 
  │ │ │ │ ├── acorn@3.3.0 
  │ │ │ │ └── acorn-jsx@3.0.1 
  │ │ │ ├── js2xmlparser@1.0.0 
  │ │ │ ├─┬ requizzle@0.2.1 
  │ │ │ │ └── underscore@1.6.0 
  │ │ │ ├── strip-json-comments@2.0.1 
  │ │ │ ├── taffydb@2.6.2 
  │ │ │ └── underscore@1.8.3 
  │ │ ├── object-to-spawn-args@1.1.1 
  │ │ └── temp-path@1.0.0 
  │ ├─┬ jsdoc-parse@2.0.5 
  │ │ ├── lodash.omit@4.5.0 
  │ │ ├── lodash.pick@4.4.0 
  │ │ ├─┬ reduce-extract@1.0.0 
  │ │ │ └── test-value@1.1.0 
  │ │ └── sort-array@1.1.2 
  │ ├─┬ jsdoc2md-stats@1.0.6 
  │ │ └─┬ app-usage-stats@0.4.1 
  │ │   ├── home-path@1.0.5 
  │ │   └─┬ usage-stats@0.8.6 
  │ │     ├─┬ cli-commands@0.1.0 
  │ │     │ └── command-line-commands@1.0.4 
  │ │     ├── mkdirp2@1.0.3 
  │ │     ├─┬ req-then@0.5.1 
  │ │     │ └── defer-promise@1.0.1 
  │ │     └── uuid@3.1.0 
  │ └── walk-back@2.0.1 
  └── thunkify@2.1.2 

Setup Done exists, not setting up
:../FeatureTester/libs/:/root/Targets/rainie-doc/node_modules
Set Default Z3_PATH to ./node_modules/z3javascript/bin/libz3.so
ExpoSE Master: /root/ExpoSE/lib/Harness/src/harness.js max concurrent: 16 max paths: 1000000
Setting timeout to 900000
*** [0 done /0 queued / 1 running / 0 errors / 0% coverage ] ****** [0 done /0 queued / 1 running / 0 errors / 0% coverage ] ****** [1 done /0 queued / 0 running / 1 errors / 33% coverage ] ***
*-- Stat Module Output --*
*-- concretizations: ["defineProperty","bound log"]
*-- Stat Module Done --*
*-- Test Case {"_bound":0} start 0.09 took 4.0018s
*-- Errors occured in test {"_bound":0}
* Error: Tropigate failed because SyntaxError: Unexpected character '#' (1:78) on program #!/usr/bin/env node

/**
 * Copyright (c) 2016-present, rainie, Inc.
 * All rights reserved.
 *
 * @flow
 */

const path = require('path');
const colors = require('colors');
const childProcess = require('child_process');
const co = require('co');
const thunkify = require('thunkify');
const program = require('commander');
const generateDocsJson = require('./generateDocsJson.js');
const file = require('./lib/file.js');
const packageJson = require('./package.json');

const root = process.cwd();
// 生成文档目录
const docsPath = path.join(root, 'docs');

// 用户配置文件路径
let docJsonPath = path.join(root, 'rainie-doc.json');

program
  .version(packageJson.version)
  .description('前端自动文档页面生成工具')
  .option('-c , --config <file>', '配置文件路径')
  .parse(process.argv);

if (program.config) {
  docJsonPath = path.join(root, program.config);
}

main();

function main() {
  co(function * () {
    // 获得用户配置
    const docConfig = yield file.read(docJsonPath);
    // 创建导出目录docs
    yield file.mkDir(docsPath);
    // 生成docjson数据
    yield generateDocsJson(docConfig);
    // 复制docs resource到项目目录
    yield * copyDocsResource(docsPath);
    console.log('😁  Good Job!');
  }).catch(err => {
    console.log('😟  ' + err.message.red);
    process.exit(1);
  });
}

/**
 * 复制docs resource到项目目录
 */
function *copyDocsResource(dirpath) {
  const resourcePath = yield thunkify(getResourcePath)();
  yield thunkify(copyDir)(resourcePath, dirpath);
  console.log('✅  copy docs resource to: ./docs'.green);
}

function getResourcePath(callback) {
  const command = 'npm root -g';
  childProcess.exec(command, (err, stdout) => {
    const resource_path = path.join(stdout, 'rainie-doc/dist/*').replace(/\s/, '');
    callback(err, resource_path);
  });
}

function copyDir(src, dist, callback) {
  const command = `cp -a ${src} ${dist}`;
  childProcess.exec(command, (err, stdout) => {
    callback(err, stdout);
  });
}
 at SyntaxError: Unexpected character '#' (1:78)
    at Parser.pp$4.raise (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:2221:15)
    at Parser.pp$7.getTokenFromCode (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:2756:10)
    at Parser.pp$7.readToken (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:2477:17)
    at Parser.readToken (/root/ExpoSE/lib/Tropigate/bin/Tokens.js:124:26)
    at Parser.pp$7.nextToken (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:2468:15)
    at Parser.pp$7.next (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:2413:10)
    at Parser.pp.eat (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:536:12)
    at Parser.pp.semicolon (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:581:15)
    at Parser.pp$1.parseVarStatement (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:918:10)
    at Parser.pp$1.parseStatement (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:706:19)
*-- Replay with NO_COMPILE=1 expoSE replay '/root/ExpoSE/lib/Harness/src/harness.js' '{"_bound":0}'
*-- Coverage Data
*- File /root/ExpoSE/lib/Harness/src/harness.js. Coverage (Term): 18% Coverage (LOC): 24%
*- File /root/ExpoSE/lib/S$/bin/symbols.js. Coverage (Term): 16% Coverage (LOC): 34%
*- Re-run with EXPOSE_PRINT_COVERAGE=1 to print line by line coverage information
** ExpoSE Finished. 1 paths with 1 errors **
