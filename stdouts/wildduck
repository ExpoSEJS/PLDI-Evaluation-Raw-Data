
> dtrace-provider@0.8.5 install /root/Targets/wildduck/node_modules/dtrace-provider
> node scripts/install.js


> @ronomon/crypto-async@2.2.0 install /root/Targets/wildduck/node_modules/@ronomon/crypto-async
> node-gyp rebuild

make: Entering directory '/root/Targets/wildduck/node_modules/@ronomon/crypto-async/build'
  CXX(target) Release/obj.target/binding/binding.o
  SOLINK_MODULE(target) Release/obj.target/binding.node
  COPY Release/binding.node
  COPY /root/Targets/wildduck/node_modules/@ronomon/crypto-async/binding.node
  TOUCH Release/obj.target/copy.stamp
make: Leaving directory '/root/Targets/wildduck/node_modules/@ronomon/crypto-async/build'

> modern-syslog@1.1.4 install /root/Targets/wildduck/node_modules/modern-syslog
> node-gyp rebuild

make: Entering directory '/root/Targets/wildduck/node_modules/modern-syslog/build'
  CXX(target) Release/obj.target/core/core.o
  SOLINK_MODULE(target) Release/obj.target/core.node
  COPY Release/core.node
make: Leaving directory '/root/Targets/wildduck/node_modules/modern-syslog/build'

> @ronomon/crypto-async@2.2.0 postinstall /root/Targets/wildduck/node_modules/@ronomon/crypto-async
> node-gyp clean

/root/Targets/wildduck
└─┬ wildduck@1.0.81 
  ├─┬ @ronomon/crypto-async@2.2.0 
  │ ├── @ronomon/queue@2.1.0 
  │ └── nan@2.7.0 
  ├── addressparser@1.0.1 
  ├── bcryptjs@2.4.3 
  ├─┬ bugsnag@1.12.2 
  │ ├── json-stringify-safe@5.0.1 
  │ ├─┬ promise@7.3.1 
  │ │ └── asap@2.0.6 
  │ ├─┬ request@2.82.0 
  │ │ ├── aws-sign2@0.7.0 
  │ │ ├── aws4@1.6.0 
  │ │ ├── caseless@0.12.0 
  │ │ ├─┬ combined-stream@1.0.5 
  │ │ │ └── delayed-stream@1.0.0 
  │ │ ├── extend@3.0.1 
  │ │ ├── forever-agent@0.6.1 
  │ │ ├─┬ form-data@2.3.1 
  │ │ │ └── asynckit@0.4.0 
  │ │ ├─┬ har-validator@5.0.3 
  │ │ │ ├─┬ ajv@5.2.2 
  │ │ │ │ ├── co@4.6.0 
  │ │ │ │ ├── fast-deep-equal@1.0.0 
  │ │ │ │ ├── json-schema-traverse@0.3.1 
  │ │ │ │ └─┬ json-stable-stringify@1.0.1 
  │ │ │ │   └── jsonify@0.0.0 
  │ │ │ └── har-schema@2.0.0 
  │ │ ├─┬ hawk@6.0.2 
  │ │ │ ├── boom@4.3.1 
  │ │ │ ├─┬ cryptiles@3.1.2 
  │ │ │ │ └── boom@5.2.0 
  │ │ │ └── sntp@2.0.2 
  │ │ ├── is-typedarray@1.0.0 
  │ │ ├── isstream@0.1.2 
  │ │ ├─┬ mime-types@2.1.17 
  │ │ │ └── mime-db@1.30.0 
  │ │ ├── oauth-sign@0.8.2 
  │ │ ├── performance-now@2.1.0 
  │ │ ├── safe-buffer@5.1.1 
  │ │ ├── stringstream@0.0.5 
  │ │ ├─┬ tough-cookie@2.3.3 
  │ │ │ └── punycode@1.4.1 
  │ │ └── tunnel-agent@0.6.0 
  │ └── stack-trace@0.0.10 
  ├── generate-password@1.3.0 
  ├── he@1.1.1 
  ├─┬ html-to-text@3.3.0 
  │ ├─┬ htmlparser2@3.9.2 
  │ │ ├── domelementtype@1.3.0 
  │ │ ├── domhandler@2.4.1 
  │ │ ├─┬ domutils@1.6.2 
  │ │ │ └─┬ dom-serializer@0.1.0 
  │ │ │   └── domelementtype@1.1.3 
  │ │ ├── entities@1.1.1 
  │ │ ├── inherits@2.0.3 
  │ │ └── readable-stream@2.3.3 
  │ ├─┬ optimist@0.6.1 
  │ │ ├── minimist@0.0.10 
  │ │ └── wordwrap@0.0.3 
  │ ├── underscore@1.8.3 
  │ └─┬ underscore.string@3.3.4 
  │   ├── sprintf-js@1.1.1 
  │   └── util-deprecate@1.0.2 
  ├── humanname@0.2.2 
  ├─┬ humanparser@1.5.0 
  │ └── underscore@1.6.0 
  ├── iconv-lite@0.4.19 
  ├─┬ joi@11.0.2 
  │ ├── hoek@4.2.0 
  │ ├─┬ isemail@3.0.0 
  │ │ └── punycode@2.1.0 
  │ ├── items@2.1.1 
  │ └── topo@2.0.2 
  ├─┬ js-yaml@3.10.0 
  │ ├─┬ argparse@1.0.9 
  │ │ └── sprintf-js@1.0.3 
  │ └── esprima@4.0.0 
  ├── libbase64@0.2.0 
  ├─┬ libmime@3.1.0 
  │ ├── iconv-lite@0.4.15 
  │ └── libbase64@0.1.0 
  ├── libqp@1.1.0 
  ├─┬ linkify-it@2.0.3 
  │ └── uc.micro@1.0.3 
  ├─┬ mailsplit@4.0.2 
  │ └── libbase64@0.1.0 
  ├─┬ mobileconfig@2.1.0 
  │ ├─┬ handlebars@4.0.10 
  │ │ ├── async@1.5.2 
  │ │ ├─┬ source-map@0.4.4 
  │ │ │ └── amdefine@1.0.1 
  │ │ └─┬ uglify-js@2.8.29 
  │ │   ├── source-map@0.5.7 
  │ │   ├── uglify-to-browserify@1.0.2 
  │ │   └─┬ yargs@3.10.0 
  │ │     ├── camelcase@1.2.1 
  │ │     ├─┬ cliui@2.1.0 
  │ │     │ ├─┬ center-align@0.1.3 
  │ │     │ │ ├─┬ align-text@0.1.4 
  │ │     │ │ │ ├─┬ kind-of@3.2.2 
  │ │     │ │ │ │ └── is-buffer@1.1.5 
  │ │     │ │ │ ├── longest@1.0.1 
  │ │     │ │ │ └── repeat-string@1.6.1 
  │ │     │ │ └── lazy-cache@1.0.4 
  │ │     │ ├── right-align@0.1.3 
  │ │     │ └── wordwrap@0.0.2 
  │ │     ├── decamelize@1.2.0 
  │ │     └── window-size@0.1.0 
  │ ├── jsrsasign@8.0.4 
  │ └─┬ plist@2.1.0 
  │   ├── base64-js@1.2.0 
  │   ├── xmlbuilder@8.2.2 
  │   └── xmldom@0.1.27 
  ├── modern-syslog@1.1.4 
  ├─┬ mongo-cursor-pagination@5.0.0 
  │ ├── base64-url@1.3.3 
  │ └─┬ mongodb-extended-json@1.10.0 
  │   ├── async@2.5.0 
  │   ├── bson@1.0.4 
  │   ├─┬ event-stream@3.3.4 
  │   │ ├── duplexer@0.1.1 
  │   │ ├── from@0.1.7 
  │   │ ├── map-stream@0.1.0 
  │   │ ├── pause-stream@0.0.11 
  │   │ ├── split@0.3.3 
  │   │ └── stream-combiner@0.0.4 
  │   ├─┬ JSONStream@1.3.1 
  │   │ ├── jsonparse@1.3.1 
  │   │ └── through@2.3.8 
  │   ├── lodash.isfunction@3.0.8 
  │   ├── lodash.transform@4.6.0 
  │   ├── moment@2.18.1 
  │   └── raf@3.3.2 
  ├─┬ mongodb@2.2.31 
  │ ├── es6-promise@3.2.1 
  │ ├─┬ mongodb-core@2.1.15 
  │ │ └─┬ require_optional@1.0.1 
  │ │   └── resolve-from@2.0.0 
  │ └─┬ readable-stream@2.2.7 
  │   ├── buffer-shims@1.0.0 
  │   ├── core-util-is@1.0.2 
  │   ├── isarray@1.0.0 
  │   ├── process-nextick-args@1.0.7 
  │   └── string_decoder@1.0.3 
  ├─┬ node-redis-scripty@0.0.5 
  │ ├── extend@1.3.0 
  │ └── lru-cache@2.7.3 
  ├── nodemailer@4.1.0 
  ├─┬ npmlog@4.1.2 
  │ ├─┬ are-we-there-yet@1.1.4 
  │ │ └── delegates@1.0.0 
  │ ├── console-control-strings@1.1.0 
  │ ├─┬ gauge@2.7.4 
  │ │ ├── aproba@1.2.0 
  │ │ ├── has-unicode@2.0.1 
  │ │ ├── object-assign@4.1.1 
  │ │ ├── signal-exit@3.0.2 
  │ │ ├─┬ string-width@1.0.2 
  │ │ │ ├── code-point-at@1.1.0 
  │ │ │ └─┬ is-fullwidth-code-point@1.0.0 
  │ │ │   └── number-is-nan@1.0.1 
  │ │ ├─┬ strip-ansi@3.0.1 
  │ │ │ └── ansi-regex@2.1.1 
  │ │ └── wide-align@1.1.2 
  │ └── set-blocking@2.0.0 
  ├─┬ openpgp@2.5.10 
  │ ├─┬ node-fetch@1.7.3 
  │ │ ├── encoding@0.1.12 
  │ │ └── is-stream@1.1.0 
  │ └─┬ node-localstorage@1.3.0 
  │   └─┬ write-file-atomic@1.3.4 
  │     ├── graceful-fs@4.1.11 
  │     ├── imurmurhash@0.1.4 
  │     └── slide@1.1.6 
  ├─┬ qrcode@0.9.0 
  │ ├── colors@1.1.2 
  │ ├── dijkstrajs@1.0.1 
  │ ├── isarray@2.0.2 
  │ └── pngjs@2.3.1 
  ├── redfour@1.0.2 
  ├─┬ redis@2.8.0 
  │ ├── double-ended-queue@2.1.0-0 
  │ ├── redis-commands@1.3.1 
  │ └── redis-parser@2.6.0 
  ├─┬ restify@6.0.1 
  │ ├── assert-plus@1.0.0 
  │ ├─┬ bunyan@1.8.12 
  │ │ ├─┬ mv@2.1.1 
  │ │ │ ├─┬ mkdirp@0.5.1 
  │ │ │ │ └── minimist@0.0.8 
  │ │ │ ├── ncp@2.0.0 
  │ │ │ └─┬ rimraf@2.4.5 
  │ │ │   └── glob@6.0.4 
  │ │ └── safe-json-stringify@1.0.4 
  │ ├─┬ clone-regexp@1.0.0 
  │ │ ├── is-regexp@1.0.0 
  │ │ └── is-supported-regexp-flag@1.0.0 
  │ ├─┬ csv@1.1.1 
  │ │ ├── csv-generate@1.0.0 
  │ │ ├── csv-parse@1.2.2 
  │ │ ├─┬ csv-stringify@1.0.4 
  │ │ │ └── lodash.get@4.4.2 
  │ │ └── stream-transform@0.1.2 
  │ ├── dtrace-provider@0.8.5 
  │ ├── escape-regexp-component@1.0.2 
  │ ├── ewma@2.0.1 
  │ ├── formidable@1.1.1 
  │ ├─┬ http-signature@1.2.0 
  │ │ ├─┬ jsprim@1.4.1 
  │ │ │ └── json-schema@0.2.3 
  │ │ └─┬ sshpk@1.13.1 
  │ │   ├── asn1@0.2.3 
  │ │   ├── bcrypt-pbkdf@1.0.1 
  │ │   ├── dashdash@1.14.1 
  │ │   ├── ecc-jsbn@0.1.1 
  │ │   ├── getpass@0.1.7 
  │ │   ├── jsbn@0.1.1 
  │ │   └── tweetnacl@0.14.5 
  │ ├── lodash@4.17.4 
  │ ├─┬ lru-cache@4.1.1 
  │ │ ├── pseudomap@1.0.2 
  │ │ └── yallist@2.1.2 
  │ ├── mime@1.4.0 
  │ ├── negotiator@0.6.1 
  │ ├─┬ once@1.4.0 
  │ │ └── wrappy@1.0.2 
  │ ├── pidusage@1.1.6 
  │ ├── qs@6.5.1 
  │ ├── restify-errors@5.0.0 
  │ ├── semver@5.4.1 
  │ ├─┬ spdy@3.4.7 
  │ │ ├─┬ debug@2.6.8 
  │ │ │ └── ms@2.0.0 
  │ │ ├── handle-thing@1.2.5 
  │ │ ├── http-deceiver@1.2.7 
  │ │ ├── select-hose@2.0.0 
  │ │ └─┬ spdy-transport@2.0.20 
  │ │   ├── detect-node@2.0.3 
  │ │   ├── hpack.js@2.1.6 
  │ │   ├── obuf@1.1.1 
  │ │   └─┬ wbuf@1.7.2 
  │ │     └── minimalistic-assert@1.0.0 
  │ ├─┬ vasync@1.6.4 
  │ │ └─┬ verror@1.6.0 
  │ │   └── extsprintf@1.2.0 
  │ └─┬ verror@1.10.0 
  │   └── extsprintf@1.3.0 
  ├── seq-index@1.1.0 
  ├─┬ smtp-server@3.1.0 
  │ └── ipv6-normalize@1.0.1 
  ├─┬ speakeasy@2.0.0 
  │ └── base32.js@0.0.1 
  ├── tlds@1.196.0 
  ├─┬ utf7@1.0.2 
  │ └── semver@5.3.0 
  ├── uuid@3.1.0 
  └─┬ wild-config@1.3.5 
    ├── deep-extend@0.5.0 
    ├─┬ glob@7.1.2 
    │ ├── fs.realpath@1.0.0 
    │ ├── inflight@1.0.6 
    │ ├─┬ minimatch@3.0.4 
    │ │ └─┬ brace-expansion@1.1.8 
    │ │   ├── balanced-match@1.0.0 
    │ │   └── concat-map@0.0.1 
    │ └── path-is-absolute@1.0.1 
    ├── minimist@1.2.0 
    └── toml@2.3.3 

Setup Done exists, not setting up
:../FeatureTester/libs/:/root/Targets/wildduck/node_modules
Set Default Z3_PATH to ./node_modules/z3javascript/bin/libz3.so
ExpoSE Master: /root/ExpoSE/lib/Harness/src/harness.js max concurrent: 16 max paths: 1000000
Setting timeout to 900000
*** [0 done /0 queued / 1 running / 0 errors / 0% coverage ] ****** [0 done /0 queued / 1 running / 0 errors / 0% coverage ] ****** [1 done /0 queued / 0 running / 1 errors / 33% coverage ] ***
*-- Stat Module Output --*
*-- concretizations: ["defineProperty","bound log"]
*-- Stat Module Done --*
*-- Test Case {"_bound":0} start 0.0527 took 5.1406s
*-- Errors occured in test {"_bound":0}
* Error: Tropigate failed because SyntaxError: 'return' outside of function (11:4) on program /* eslint global-require:0 */

'use strict';

process.env.UV_THREADPOOL_SIZE = 16;

const config = require('wild-config');

if (process.env.NODE_CONFIG_ONLY === 'true') {
    console.log(require('util').inspect(config, false, 22)); // eslint-disable-line
    return process.exit();
}

const errors = require('./lib/errors');
const fs = require('fs');
const log = require('npmlog');
const packageData = require('./package.json');

log.level = config.log.level;
require('./logger');

const printLogo = () => {
    let logo = fs
        .readFileSync(__dirname + '/logo.txt', 'utf-8')
        .replace(/^\n+|\n+$/g, '')
        .split('\n');

    let columnLength = logo.map(l => l.length).reduce((max, val) => (val > max ? val : max), 0);
    let versionString = ' ' + packageData.name + '@' + packageData.version + ' ';
    let versionPrefix = '-'.repeat(Math.round(columnLength / 2 - versionString.length / 2));
    let versionSuffix = '-'.repeat(columnLength - versionPrefix.length - versionString.length);

    log.info('App', ' ' + '-'.repeat(columnLength));
    log.info('App', '');

    logo.forEach(line => {
        log.info('App', ' ' + line);
    });

    log.info('App', '');

    log.info('App', ' ' + versionPrefix + versionString + versionSuffix);
    log.info('App', '');
};

if (!config.processes || config.processes <= 1) {
    printLogo();
    if (config.ident) {
        process.title = config.ident;
    }
    // single process mode, do not fork anything
    require('./worker.js');
} else {
    let cluster = require('cluster');

    if (cluster.isMaster) {
        printLogo();

        if (config.ident) {
            process.title = config.ident + ' master';
        }

        log.info('App', `Master [${process.pid}] is running`);

        let workers = new Set();

        let forkWorker = () => {
            let worker = cluster.fork();
            workers.add(worker);
            log.info('App', `Forked worker ${worker.process.pid}`);
        };

        // Fork workers.
        for (let i = 0; i < config.processes; i++) {
            forkWorker();
        }

        cluster.on('exit', worker => {
            log.info('App', `Worker ${worker.process.pid} died`);
            workers.delete(worker);
            setTimeout(forkWorker, 1000);
        });

        config.on('reload', () => {
            workers.forEach(child => {
                try {
                    child.kill('SIGHUP');
                } catch (E) {
                    //ignore
                }
            });
        });
    } else {
        if (config.ident) {
            process.title = config.ident + ' worker';
        }

        require('./worker.js');
    }
}

process.on('unhandledRejection', err => {
    log.error('App', 'Unhandled rejection: %s' + ((err && err.stack) || err));
    errors.notify(err);
});
 at SyntaxError: 'return' outside of function (11:4)
    at Parser.pp$4.raise (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:2221:15)
    at Parser.pp$1.parseReturnStatement (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:831:12)
    at Parser.pp$1.parseStatement (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:699:34)
    at Parser.parseStatement (/root/ExpoSE/lib/Tropigate/bin/Statements.js:104:30)
    at Parser.pp$1.parseBlock (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:981:25)
    at Parser.pp$1.parseStatement (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:709:33)
    at Parser.parseStatement (/root/ExpoSE/lib/Tropigate/bin/Statements.js:104:30)
    at Parser.pp$1.parseIfStatement (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:824:28)
    at Parser.pp$1.parseStatement (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:698:30)
    at Parser.parseStatement (/root/ExpoSE/lib/Tropigate/bin/Statements.js:104:30)
*-- Replay with NO_COMPILE=1 expoSE replay '/root/ExpoSE/lib/Harness/src/harness.js' '{"_bound":0}'
*-- Coverage Data
*- File /root/ExpoSE/lib/Harness/src/harness.js. Coverage (Term): 18% Coverage (LOC): 24%
*- File /root/ExpoSE/lib/S$/bin/symbols.js. Coverage (Term): 16% Coverage (LOC): 34%
*- Re-run with EXPOSE_PRINT_COVERAGE=1 to print line by line coverage information
** ExpoSE Finished. 1 paths with 1 errors **
