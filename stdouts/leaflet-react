/root/Targets/leaflet-react
└─┬ leaflet-react@3.0.5 
  ├── leaflet@0.7.7 
  ├─┬ react@0.14.9 
  │ ├─┬ envify@3.4.1 
  │ │ ├─┬ jstransform@11.0.3 
  │ │ │ ├── base62@1.2.0 
  │ │ │ ├─┬ commoner@0.10.8 
  │ │ │ │ ├── commander@2.11.0 
  │ │ │ │ ├─┬ detective@4.5.0 
  │ │ │ │ │ ├── acorn@4.0.13 
  │ │ │ │ │ └── defined@1.0.0 
  │ │ │ │ ├─┬ glob@5.0.15 
  │ │ │ │ │ ├─┬ inflight@1.0.6 
  │ │ │ │ │ │ └── wrappy@1.0.2 
  │ │ │ │ │ ├── inherits@2.0.3 
  │ │ │ │ │ ├─┬ minimatch@3.0.4 
  │ │ │ │ │ │ └─┬ brace-expansion@1.1.8 
  │ │ │ │ │ │   ├── balanced-match@1.0.0 
  │ │ │ │ │ │   └── concat-map@0.0.1 
  │ │ │ │ │ ├── once@1.4.0 
  │ │ │ │ │ └── path-is-absolute@1.0.1 
  │ │ │ │ ├── graceful-fs@4.1.11 
  │ │ │ │ ├── iconv-lite@0.4.19 
  │ │ │ │ ├─┬ mkdirp@0.5.1 
  │ │ │ │ │ └── minimist@0.0.8 
  │ │ │ │ ├── private@0.1.7 
  │ │ │ │ ├── q@1.5.0 
  │ │ │ │ └─┬ recast@0.11.23 
  │ │ │ │   ├── ast-types@0.9.6 
  │ │ │ │   ├── esprima@3.1.3 
  │ │ │ │   └── source-map@0.5.7 
  │ │ │ ├── esprima-fb@15001.1.0-dev-harmony-fb 
  │ │ │ ├── object-assign@2.1.1 
  │ │ │ └─┬ source-map@0.4.4 
  │ │ │   └── amdefine@1.0.1 
  │ │ └── through@2.3.8 
  │ └─┬ fbjs@0.6.1 
  │   ├── core-js@1.2.7 
  │   ├─┬ loose-envify@1.3.1 
  │   │ └── js-tokens@3.0.2 
  │   ├─┬ promise@7.3.1 
  │   │ └── asap@2.0.6 
  │   ├── ua-parser-js@0.7.14 
  │   └── whatwg-fetch@0.9.0 
  └── react-dom@0.14.9 

Setup Done exists, not setting up
:../FeatureTester/libs/:/root/Targets/leaflet-react/node_modules
Set Default Z3_PATH to ./node_modules/z3javascript/bin/libz3.so
ExpoSE Master: /root/ExpoSE/lib/Harness/src/harness.js max concurrent: 16 max paths: 1000000
Setting timeout to 900000
*** [0 done /0 queued / 1 running / 0 errors / 0% coverage ] ****** [0 done /0 queued / 1 running / 0 errors / 0% coverage ] ****** [1 done /0 queued / 0 running / 1 errors / 33% coverage ] ***
*-- Stat Module Output --*
*-- concretizations: ["defineProperty","bound log"]
*-- Stat Module Done --*
*-- Test Case {"_bound":0} start 0.0188 took 3.5041s
*-- Errors occured in test {"_bound":0}
* Error: Tropigate failed because SyntaxError: Unexpected token (9:3) on program /** @jsx React.DOM */
var React = require('react');
var ReactDOM = require('react-dom');
var L = require('leaflet');

var DarkOverlay = React.createClass({
	render : function(){
		return (
			<div className="dark_overlay"><center><h1>Please input a city name to start2</h1></center></div>
		);
	}
});

var Tag = React.createClass({
	
	delete : function(){
		this.props.delete(this.props.id)
	},

	toggle : function(){
		this.props.toggle(this.props.id)
	},

	render : function(){

		var classStr = '';
		if(this.props.tag.selected == true) classStr = 'completed';
		
		return (
			<tr>
				<td><input onChange={this.toggle}  className="toggle" type="checkbox" checked={this.props.tag.selected} /></td>
				<td><label>{this.props.tag.label}</label></td>
				<td><label>{this.props.tag.location[0]}</label></td>
				<td><label>{this.props.tag.location[1]}</label></td>
				<td><button onClick={this.delete} className="destroy">remove</button></td>
			</tr>
		);
	}
});

var LeafletReact = React.createClass({
	
	leafletUpdate : function(){
		var map = this.state.map;
		var tags = this.state.tags;
		// add maker, circle and label below
		//map.removeLayer(marker)
		var markers = [];
		tags.map(function(tag,i){
			if(tag.selected == true){
				markers.push(L.marker(tag.location).addTo(map))
				var circle = L.circle(tag.location, 100, {
				    color: 'red',
				    fillColor: '#f03',
				    fillOpacity: 0.5
				}).addTo(map);
			}
		})
		// fit all locations in the view
		var group = new L.featureGroup(markers);
		if(tags.length > 0) map.fitBounds(group.getBounds());
	},

	componentDidUpdate : function(){
		//console.log("component updated")
		//console.log(this.state.tags)
		this.leafletUpdate();
	},

	componentDidMount: function() {
		//console.log("component mounted")
		//console.log(this.state.map)

		L.Icon.Default.imagePath = "./img";

		var accessToken = 'pk.eyJ1IjoiY2xlbWRlbHAiLCJhIjoiY2lodzU3NXJoMDJnOXQ1a2hvdXQ4eHcweSJ9.T7QkXi8T1sYvOoy4R8NKZg';
		
		var mapboxTiles = L.tileLayer('https://api.mapbox.com/v4/mapbox.streets/{z}/{x}/{y}.png?access_token=' + accessToken, {
		    attribution: '<a href="http://www.mapbox.com/about/maps/" target="_blank">Terms &amp; Feedback</a>'
		});

		this.state.map = L.map('map')
		    .addLayer(mapboxTiles)
		    .setView([51.508, -0.11], 12);
    	
    	this.leafletUpdate();	
  	},

	getInitialState : function(){
		//console.log("initialize component");
		var tags = [
				{location : [51.5, -0.09], label : "1", selected:true},
				{location : [52, -1], label : "2", selected:true},
				{location : [51.3, -0.09], label : "3", selected:true}
			];

		return {
			map : '',
			tags : this.props.tags || tags 
		}
	},

	deleteItem : function(key){
		this.state.tags.splice(key,1);
		this.setState({tags : this.state.tags})
	},
	
	toggleItem : function(key){
		console.log(this.state.tags[key])
		this.state.tags[key].selected = !this.state.tags[key].selected;
		this.setState({tags : this.state.tags})
	},

	render: function() {
		//console.log('render')
		var that = this;
		var dark_overlay = "";
		var rows = "";
		if(this.state.tags.length == 0){
			dark_overlay = <DarkOverlay />
		} 
		else{
			var rows = this.state.tags.map(function(tag,i){
				return <Tag toggle={that.toggleItem} delete={that.deleteItem} tag={tag} id={i} />
			});
		}

		return ( 
			<div>
				{dark_overlay}
				<div id="map"></div>
				<table className='textCentered'>
					<thead>
					    <tr>
							<th></th>
							<th>Address</th>
							<th>latitude</th>
							<th>longitude</th>
							<th></th>
						</tr>
					</thead>
					<tbody>
					    {rows}
					</tbody>
				</table>
			</div>
		);
	}
});

module.exports = LeafletReact;
 at SyntaxError: Unexpected token (9:3)
    at Parser.pp$4.raise (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:2221:15)
    at Parser.pp.unexpected (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:603:10)
    at Parser.pp$3.parseExprAtom (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:1822:12)
    at Parser.parseExprAtom (/root/ExpoSE/lib/Tropigate/bin/Expression.js:28:30)
    at Parser.pp$3.parseExprSubscripts (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:1715:21)
    at Parser.parseMaybeUnary (/root/ExpoSE/lib/Tropigate/bin/Unary.js:34:29)
    at Parser.pp$3.parseExprOps (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:1637:21)
    at Parser.pp$3.parseMaybeConditional (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:1620:21)
    at Parser.pp$3.parseMaybeAssign (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:1597:21)
    at Parser.pp$3.parseParenAndDistinguishExpression (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:1861:32)
*-- Replay with NO_COMPILE=1 expoSE replay '/root/ExpoSE/lib/Harness/src/harness.js' '{"_bound":0}'
*-- Coverage Data
*- File /root/ExpoSE/lib/Harness/src/harness.js. Coverage (Term): 18% Coverage (LOC): 24%
*- File /root/ExpoSE/lib/S$/bin/symbols.js. Coverage (Term): 16% Coverage (LOC): 34%
*- Re-run with EXPOSE_PRINT_COVERAGE=1 to print line by line coverage information
** ExpoSE Finished. 1 paths with 1 errors **
