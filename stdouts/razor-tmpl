/root/Targets/razor-tmpl
└── razor-tmpl@1.3.1 

Setup Done exists, not setting up
:../FeatureTester/libs/:/root/Targets/razor-tmpl/node_modules
Set Default Z3_PATH to ./node_modules/z3javascript/bin/libz3.so
ExpoSE Master: /root/ExpoSE/lib/Harness/src/harness.js max concurrent: 16 max paths: 1000000
Setting timeout to 900000
*** [0 done /0 queued / 1 running / 0 errors / 0% coverage ] ****** [0 done /0 queued / 1 running / 0 errors / 0% coverage ] ****** [1 done /0 queued / 0 running / 1 errors / 28.999999999999996% coverage ] ***
*-- Stat Module Output --*
*-- concretizations: ["defineProperty","bound log"]
*-- Stat Module Done --*
*-- Test Case {"_bound":0} start 0.1267 took 9.8639s
*-- Errors occured in test {"_bound":0}
* Error: Tropigate failed because SyntaxError: 'return' outside of function (19:8) on program /**
 * decide whether jQuery exists
 */
var $;
if (typeof jQuery !== 'undefined' && jQuery) {
  $ = jQuery;
}
// not work for browserify
// else {
//   try {
//     $ = require('jquery');
//   }
//   catch (e) {
//     // module not found
//     return;
//   }
// }

if (!$) return;


/**
 * module dependencies
 */
var razor = require('./index');
var format = require('./util').format;
var unescape = require('./util').unescape;


/**
 * hide all element with `razor-template` attribute
 */
$(function() {
  $("[razor-template]").hide();
});


/**
 * getLoopHeader on a jQuery Wrapper of a dom element
 */
function getLoopHeader($el) {
  var attr = $el.attr("razor-for") || $el.attr("data-razor-for");
  if (attr) {
    return format('for({0}){', attr.trim());
  }

  attr = $el.attr("razor-if") || $el.attr("data-razor-if");
  if (attr) {
    return format('if({0}){', attr.trim());
  }

  attr = $el.attr("razor-while") || $el.attr("data-razor-while");
  if (attr) {
    return format('while({0}){', attr.trim());
  }

  attr = $el.attr("razor-each") || $el.attr("data-razor-each");
  if (attr) {
    return format("each({0}){", attr.trim());
  }

  //啥都不是
  return '';
}

function getTemplate($el) {
  var el = $el.get(0);
  if (!el) return '';

  var ret;
  if (el.tagName === 'SCRIPT') {
    return ret = $el.html().trim();
  }
  else {
    // see `razor-template` exists ?
    ret = $el.attr('razor-template');
    if (ret) return ret;

    // not exists
    var ret = $el.html().trim();
    var header = getLoopHeader($el);
    if (header) {
      ret = razor.symbol + header + ret + '}';
    }

    ret = unescape(ret);

    // cachesd to `razor-tmpl` attribute
    $el.attr('razor-template', ret);
    return ret;
  }
}

/**
 * compile a element to function
 */
$.prototype.compile = function() {
  return razor.compile(getTemplate(this));
};

/**
 * jQuery#render
 *
 * on script tag : return the result
 * on normal tag(such as div) :
 *   1. show the div
 *   2. cache the template
 *   3. return the result
 */
$.prototype.render = function(locals) {
  var el = this.get(0);

  var tmpl = getTemplate(this);
  var result = razor.render(tmpl, locals);

  if (el.tagName !== 'SCRIPT') {
    this.html(result);
    this.show();
  }
  return result;
}; at SyntaxError: 'return' outside of function (19:8)
    at Parser.pp$4.raise (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:2221:15)
    at Parser.pp$1.parseReturnStatement (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:831:12)
    at Parser.pp$1.parseStatement (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:699:34)
    at Parser.parseStatement (/root/ExpoSE/lib/Tropigate/bin/Statements.js:104:30)
    at Parser.pp$1.parseIfStatement (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:824:28)
    at Parser.pp$1.parseStatement (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:698:30)
    at Parser.parseStatement (/root/ExpoSE/lib/Tropigate/bin/Statements.js:104:30)
    at Parser.pp$1.parseTopLevel (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:638:25)
    at Parser.parse (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:516:17)
    at Object.parse (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:3098:39)
*-- Replay with NO_COMPILE=1 expoSE replay '/root/ExpoSE/lib/Harness/src/harness.js' '{"_bound":0}'
*-- Coverage Data
*- File /root/ExpoSE/lib/Harness/src/harness.js. Coverage (Term): 18% Coverage (LOC): 24%
*- File /root/ExpoSE/lib/S$/bin/symbols.js. Coverage (Term): 16% Coverage (LOC): 34%
*- File /root/Targets/razor-tmpl/node_modules/razor-tmpl/lib/node/index.js. Coverage (Term): 10% Coverage (LOC): 10%
*- File /root/Targets/razor-tmpl/node_modules/razor-tmpl/lib/node/layoutUtil.js. Coverage (Term): 11% Coverage (LOC): 18%
*- File /root/Targets/razor-tmpl/node_modules/razor-tmpl/lib/util.js. Coverage (Term): 12% Coverage (LOC): 26%
*- File /root/Targets/razor-tmpl/node_modules/razor-tmpl/lib/index.js. Coverage (Term): 87% Coverage (LOC): 92%
*- File /root/Targets/razor-tmpl/node_modules/razor-tmpl/lib/engine.js. Coverage (Term): 40% Coverage (LOC): 54%
*- File /root/Targets/razor-tmpl/node_modules/razor-tmpl/lib/parser.js. Coverage (Term): 10% Coverage (LOC): 23%
*- File /root/Targets/razor-tmpl/node_modules/razor-tmpl/lib/compiler.js. Coverage (Term): 27% Coverage (LOC): 32%
*- Re-run with EXPOSE_PRINT_COVERAGE=1 to print line by line coverage information
** ExpoSE Finished. 1 paths with 1 errors **
