/root/Targets/sira-codegen-rest-js
└─┬ sira-codegen-rest-js@0.0.2 
  ├─┬ js-beautify@1.7.3 
  │ ├─┬ config-chain@1.1.11 
  │ │ ├── ini@1.3.4 
  │ │ └── proto-list@1.2.4 
  │ ├─┬ editorconfig@0.13.3 
  │ │ ├── bluebird@3.5.0 
  │ │ ├── commander@2.11.0 
  │ │ ├─┬ lru-cache@3.2.0 
  │ │ │ └── pseudomap@1.0.2 
  │ │ ├── semver@5.4.1 
  │ │ └── sigmund@1.0.1 
  │ ├─┬ mkdirp@0.5.1 
  │ │ └── minimist@0.0.8 
  │ └─┬ nopt@3.0.6 
  │   └── abbrev@1.1.0 
  ├─┬ jshint@2.9.5 
  │ ├─┬ cli@1.0.1 
  │ │ └─┬ glob@7.1.2 
  │ │   ├── fs.realpath@1.0.0 
  │ │   ├─┬ inflight@1.0.6 
  │ │   │ └── wrappy@1.0.2 
  │ │   ├── inherits@2.0.3 
  │ │   ├── once@1.4.0 
  │ │   └── path-is-absolute@1.0.1 
  │ ├─┬ console-browserify@1.1.0 
  │ │ └── date-now@0.1.4 
  │ ├── exit@0.1.2 
  │ ├─┬ htmlparser2@3.8.3 
  │ │ ├── domelementtype@1.3.0 
  │ │ ├── domhandler@2.3.0 
  │ │ ├─┬ domutils@1.5.1 
  │ │ │ └─┬ dom-serializer@0.1.0 
  │ │ │   ├── domelementtype@1.1.3 
  │ │ │   └── entities@1.1.1 
  │ │ ├── entities@1.0.0 
  │ │ └─┬ readable-stream@1.1.14 
  │ │   ├── core-util-is@1.0.2 
  │ │   ├── isarray@0.0.1 
  │ │   └── string_decoder@0.10.31 
  │ ├── lodash@3.7.0 
  │ ├─┬ minimatch@3.0.4 
  │ │ └─┬ brace-expansion@1.1.8 
  │ │   ├── balanced-match@1.0.0 
  │ │   └── concat-map@0.0.1 
  │ ├── shelljs@0.3.0 
  │ └── strip-json-comments@1.0.4 
  ├── lodash@3.10.1 
  ├─┬ sira-express-rest@0.1.2  (git://github.com/taoyuan/sira-express-rest.git#84b06a3cb127cf68f194a1b1ec115db0e560078c)
  │ ├── async@1.5.2 
  │ ├─┬ body-parser@1.18.1 
  │ │ ├── bytes@3.0.0 
  │ │ ├── content-type@1.0.4 
  │ │ ├── depd@1.1.1 
  │ │ ├── http-errors@1.6.2 
  │ │ ├── iconv-lite@0.4.19 
  │ │ ├─┬ on-finished@2.3.0 
  │ │ │ └── ee-first@1.1.1 
  │ │ ├── qs@6.5.1 
  │ │ ├─┬ raw-body@2.3.2 
  │ │ │ └── unpipe@1.0.0 
  │ │ └─┬ type-is@1.6.15 
  │ │   ├── media-typer@0.3.0 
  │ │   └─┬ mime-types@2.1.17 
  │ │     └── mime-db@1.30.0 
  │ ├── cancelify@0.1.5 
  │ ├─┬ cors@2.8.4 
  │ │ ├── object-assign@4.1.1 
  │ │ └── vary@1.1.1 
  │ ├─┬ debug@2.6.8 
  │ │ └── ms@2.0.0 
  │ ├─┬ express@4.15.4 
  │ │ ├─┬ accepts@1.3.4 
  │ │ │ └── negotiator@0.6.1 
  │ │ ├── array-flatten@1.1.1 
  │ │ ├── content-disposition@0.5.2 
  │ │ ├── cookie@0.3.1 
  │ │ ├── cookie-signature@1.0.6 
  │ │ ├── encodeurl@1.0.1 
  │ │ ├── escape-html@1.0.3 
  │ │ ├── etag@1.8.1 
  │ │ ├── finalhandler@1.0.5 
  │ │ ├── fresh@0.5.0 
  │ │ ├── merge-descriptors@1.0.1 
  │ │ ├── methods@1.1.2 
  │ │ ├── parseurl@1.3.2 
  │ │ ├── path-to-regexp@0.1.7 
  │ │ ├─┬ proxy-addr@1.1.5 
  │ │ │ ├── forwarded@0.1.2 
  │ │ │ └── ipaddr.js@1.4.0 
  │ │ ├── qs@6.5.0 
  │ │ ├── range-parser@1.2.0 
  │ │ ├─┬ send@0.15.4 
  │ │ │ ├── destroy@1.0.4 
  │ │ │ └── mime@1.3.4 
  │ │ ├── serve-static@1.12.4 
  │ │ ├── setprototypeof@1.0.3 
  │ │ ├── statuses@1.3.1 
  │ │ └── utils-merge@1.0.0 
  │ └─┬ sira@0.1.6  (git://github.com/taoyuan/sira.git#aa5f6b510bd43e723c5c95e5c90064c1729a8a9b)
  │   ├─┬ assert@1.4.1 
  │   │ └─┬ util@0.10.3 
  │   │   └── inherits@2.0.1 
  │   ├─┬ bootable@0.2.4 
  │   │ ├─┬ bootable-di@0.1.0 
  │   │ │ ├── debug@0.7.4 
  │   │ │ └── parent-require@1.0.0 
  │   │ ├── debug@0.7.4 
  │   │ └── scripts@0.1.0 
  │   ├── delegates@0.1.0 
  │   ├── dotty@0.0.2 
  │   ├── inflection@1.12.0 
  │   ├─┬ jugglingdb@0.3.0 
  │   │ └── inflection@1.2.7 
  │   ├── middist@0.0.7 
  │   ├─┬ needs@0.1.9 
  │   │ └── minimatch@2.0.10 
  │   ├── pkginfo@0.3.1 
  │   ├─┬ resolve@1.4.0 
  │   │ └── path-parse@1.0.5 
  │   ├── routes@2.1.0 
  │   └─┬ strong-remoting@2.18.1 
  │     ├── async@0.9.2 
  │     ├── eventemitter2@0.4.14 
  │     ├─┬ jayson@1.2.2 
  │     │ ├─┬ commander@1.3.2 
  │     │ │ └── keypress@0.1.0 
  │     │ ├── eyes@0.1.8 
  │     │ ├─┬ JSONStream@1.0.3 
  │     │ │ ├── jsonparse@1.0.0 
  │     │ │ └── through@2.3.8 
  │     │ └── lodash@3.6.0 
  │     ├── js2xmlparser@0.1.9 
  │     ├── qs@2.4.2 
  │     ├─┬ request@2.82.0 
  │     │ ├── aws-sign2@0.7.0 
  │     │ ├── aws4@1.6.0 
  │     │ ├── caseless@0.12.0 
  │     │ ├─┬ combined-stream@1.0.5 
  │     │ │ └── delayed-stream@1.0.0 
  │     │ ├── extend@3.0.1 
  │     │ ├── forever-agent@0.6.1 
  │     │ ├─┬ form-data@2.3.1 
  │     │ │ └── asynckit@0.4.0 
  │     │ ├─┬ har-validator@5.0.3 
  │     │ │ ├─┬ ajv@5.2.2 
  │     │ │ │ ├── co@4.6.0 
  │     │ │ │ ├── fast-deep-equal@1.0.0 
  │     │ │ │ ├── json-schema-traverse@0.3.1 
  │     │ │ │ └─┬ json-stable-stringify@1.0.1 
  │     │ │ │   └── jsonify@0.0.0 
  │     │ │ └── har-schema@2.0.0 
  │     │ ├─┬ hawk@6.0.2 
  │     │ │ ├── boom@4.3.1 
  │     │ │ ├─┬ cryptiles@3.1.2 
  │     │ │ │ └── boom@5.2.0 
  │     │ │ ├── hoek@4.2.0 
  │     │ │ └── sntp@2.0.2 
  │     │ ├─┬ http-signature@1.2.0 
  │     │ │ ├── assert-plus@1.0.0 
  │     │ │ ├─┬ jsprim@1.4.1 
  │     │ │ │ ├── extsprintf@1.3.0 
  │     │ │ │ ├── json-schema@0.2.3 
  │     │ │ │ └── verror@1.10.0 
  │     │ │ └─┬ sshpk@1.13.1 
  │     │ │   ├── asn1@0.2.3 
  │     │ │   ├── bcrypt-pbkdf@1.0.1 
  │     │ │   ├── dashdash@1.14.1 
  │     │ │   ├── ecc-jsbn@0.1.1 
  │     │ │   ├── getpass@0.1.7 
  │     │ │   ├── jsbn@0.1.1 
  │     │ │   └── tweetnacl@0.14.5 
  │     │ ├── is-typedarray@1.0.0 
  │     │ ├── isstream@0.1.2 
  │     │ ├── json-stringify-safe@5.0.1 
  │     │ ├── oauth-sign@0.8.2 
  │     │ ├── performance-now@2.1.0 
  │     │ ├── safe-buffer@5.1.1 
  │     │ ├── stringstream@0.0.5 
  │     │ ├─┬ tough-cookie@2.3.2 
  │     │ │ └── punycode@1.4.1 
  │     │ ├── tunnel-agent@0.6.0 
  │     │ └── uuid@3.1.0 
  │     ├── traverse@0.6.6 
  │     └─┬ xml2js@0.4.19 
  │       ├── sax@1.2.4 
  │       └── xmlbuilder@9.0.4 
  └─┬ temblate@0.1.0 
    ├── callsites@1.0.1 
    ├─┬ handlebars@3.0.3 
    │ ├─┬ optimist@0.6.1 
    │ │ └── wordwrap@0.0.3 
    │ ├─┬ source-map@0.1.43 
    │ │ └── amdefine@1.0.1 
    │ └─┬ uglify-js@2.3.6 
    │   ├── async@0.2.10 
    │   └── optimist@0.3.7 
    ├─┬ reso@0.0.3  (git://github.com/taoyuan/reso.git#9c8028bc937d01825519af2401f7a078c34eceb7)
    │ └── lodash@2.4.2 
    └─┬ swag@0.7.0 
      └─┬ handlebars@1.3.0 
        └── optimist@0.3.7 

Setup Done exists, not setting up
:../FeatureTester/libs/:/root/Targets/sira-codegen-rest-js/node_modules
Set Default Z3_PATH to ./node_modules/z3javascript/bin/libz3.so
ExpoSE Master: /root/ExpoSE/lib/Harness/src/harness.js max concurrent: 16 max paths: 1000000
Setting timeout to 900000
*** [0 done /0 queued / 1 running / 0 errors / 0% coverage ] ****** [0 done /0 queued / 1 running / 0 errors / 0% coverage ] ****** [1 done /0 queued / 0 running / 1 errors / 21% coverage ] ***
*-- Stat Module Output --*
*-- concretizations: ["defineProperty","bound log","call","RegExp","WeakMap","max","Array","Date","join","parseInt","sort"]
*-- Stat Module Done --*
*-- Test Case {"_bound":0} start 0.0476 took 47.2447s
*-- Errors occured in test {"_bound":0}
* Error: Tropigate failed because SyntaxError: Unexpected token (5:4) on program "use strict";

var debug = require('debug')('sira:app');
var _ = require('lodash');
var assert = require('assert');
var dotty = require('dotty');
var util = require('util');
var Emitter = require('events').EventEmitter;
var bootable = require('bootable');
var middist = require('middist');
var delegate = require('delegates');

var Rekuest = require('./rekuest');
var Context = require('./context');

var Registry = require('./registry');
var Remotes = require('strong-remoting');
var Dispatcher = require('./dispatcher');

var capable = require('./capable');

module.exports = Application;

function Application() {
    if (!(this instanceof Application)) return new Application();

    Emitter.call(this);

    this.__initializer = new bootable.Initializer();
    this.__middist = middist();

    this.context = {}; // for context extension
    this.settings = {};

    var registry = this.registry = new Registry(this);
    registry.use(require('./model/model'));
    registry.use(require('./model/relations'));
    registry.use(require('./model/hook'));
    registry.use(require('./model/exposable'));

}

util.inherits(Application, Emitter);

Application.prototype.__defineGetter__('remotes', function () {
    if (!this.__remotes) {
        this.__remotes = new Remotes(this.get('remoting') || {});
    }
    return this.__remotes;
});

Application.prototype.__defineGetter__('dispatcher', function () {
    if (!this.__dispatcher) {
        this.__dispatcher = new Dispatcher(this.remotes);
    }
    return this.__dispatcher.middleware();
});

delegate(Application.prototype, 'registry')
    .getter('models')
    .getter('schemas');


/**
 * Assign `setting` to `val`, or return `setting`'s value.
 *
 *    app.set('foo', 'bar');
 *    app.get('foo');
 *    // => "bar"
 *
 * Mounted servers inherit their parent server's settings.
 *
 * @param {String} setting
 * @param {*} [val]
 * @return {Application|*} for chaining
 * @api public
 */

Application.prototype.set = function(setting, val){
    if (arguments.length === 1) {
        return dotty.get(this.settings, setting);
    }

    // set value
    this.settings[setting] = val;

    return this;
};

Application.prototype.setAll = function (options) {
    _.assign(this.settings, options);
};

Application.prototype.get = function (setting) {
    return this.set(setting);
};

/**
 * Check if `setting` is enabled (truthy).
 *
 *    app.enabled('foo')
 *    // => false
 *
 *    app.enable('foo')
 *    app.enabled('foo')
 *    // => true
 *
 * @param {String} setting
 * @return {Boolean}
 * @api public
 */

Application.prototype.enabled = function(setting){
    return !!this.set(setting);
};

/**
 * Check if `setting` is disabled.
 *
 *    app.disabled('foo')
 *    // => true
 *
 *    app.enable('foo')
 *    app.disabled('foo')
 *    // => false
 *
 * @param {String} setting
 * @return {Boolean}
 * @api public
 */

Application.prototype.disabled = function(setting){
    return !this.set(setting);
};

/**
 * Enable `setting`.
 *
 * @param {String} setting
 * @return {Application} for chaining
 * @api public
 */

Application.prototype.enable = function(setting){
    return this.set(setting, true);
};

/**
 * Disable `setting`.
 *
 * @param {String} setting
 * @return {Application} for chaining
 * @api public
 */

Application.prototype.disable = function(setting){
    return this.set(setting, false);
};

/**
 * Register a boot phase.
 *
 * When an application boots, it proceeds through a series of phases, ultimately
 * resulting in a listening server ready to handle requests.
 *
 * A phase can be either synchronous or asynchronous.  Synchronous phases have
 * following function signature
 *
 *     function myPhase() {
 *       // perform initialization
 *     }
 *
 * Asynchronous phases have the following function signature.
 *
 *     function myAsyncPhase(done) {
 *       // perform initialization
 *       done();  // or done(err);
 *     }
 *
 * @param {Function|Function[]} fns
 * @api public
 */
Application.prototype.phase = function (fns) {
    if (!Array.isArray(fns)) fns = [fns];
    for (var i = 0; i < fns.length; i++) {
        this.__initializer.phase(fns[i]);
    }
    return this;
};

Application.prototype.model = function (model, caseSensitive) {
    if (typeof model === 'function') {
        throw new Error('`model` must not be string');
    }
    if (!caseSensitive) {
        model = model.toLowerCase();
    }
    var foundModel;
    for (var i in this.models) {
        if (model === i || !caseSensitive && model === i.toLowerCase()) {
            foundModel = this.models[i];
        }
    }
    return foundModel;
};

/**
 * Use the given middleware `fn`.
 *
 * @param {Function} fn
 * @return {Application} self
 * @api public
 */

Application.prototype.use = function (fn) {
    assert(typeof fn === 'function', 'app.use() requires a function');
    debug('use %s', fn._name || fn.name || '-');
    this.__middist.use(fn);
    return this;
};

/**
 * Only use the given middleware `fn` once.
 *
 * @param {Function} fn
 * @return {Application} self
 * @api public
 */
Application.prototype.usesafely = function (fn) {
    if (!fn) return this;
    var found = _.find(this.__middist['stack'], function (layer) {
        return layer.handle === fn;
    });
    if (!found) this.use(fn);
    return this;
};

Application.prototype.rekuest = function (uri, params, payload) {
    return new Rekuest(this, uri, params, payload);
};

Application.prototype.handle = function (req, cb) {
    var ctx = this.createContext(req);
    this.__middist.handle(ctx, cb);
    return ctx.future;
};

/**
 * Initialize a new context.
 *
 * @api private
 */

Application.prototype.createContext = function (req) {
    var context = new Context(req);
    for (var key in this.context) context[key] = this.context[key]; // mixin app's context
    context.app = req.app = this;
    for (var m in this.models) context[m] = this.models[m];
    return context;
};

Application.prototype.ready = function (cb) {
    if (this.booted) return cb(this);
    this.on('ready', cb);
};

/**
 * Boot `Sira` application.
 *
 * @param {Function} [cb]
 * @api public
 */
Application.prototype.boot = function (cb) {
    if (this.booting || this.booted) return cb && cb();
    this.booting = true;

    var sapp = this;

    this.emit('before boot', sapp);

    this.phase(capable.remotable(sapp.get('model public')));
    this.phase(capable.dispatchable());

    this.emit('boot', sapp);
    this.__initializer.run(function (err) {
        if (err) {
            if (!cb) throw err;
            return cb(err);
        }
        sapp.emit('after boot', sapp);
        sapp.booted = true;
        sapp.emit('ready', sapp);
        cb && cb();
    }, this);
}; at SyntaxError: Unexpected token (5:4)
    at Parser.pp$4.raise (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:2221:15)
    at Parser.pp.unexpected (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:603:10)
    at Parser.pp$2.parseBindingAtom (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:1417:12)
    at Parser.parseBindingAtom (/root/ExpoSE/lib/Tropigate/bin/FunctionSignatures.js:49:30)
    at Parser.pp$1.parseVarId (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:1049:20)
    at Parser.pp$1.parseVar (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:1032:14)
    at Parser.pp$1.parseVarStatement (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:917:10)
    at Parser.pp$1.parseStatement (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:706:19)
    at Parser.parseStatement (/root/ExpoSE/lib/Tropigate/bin/Statements.js:104:30)
    at Parser.pp$1.parseTopLevel (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:638:25)
*-- Replay with NO_COMPILE=1 expoSE replay '/root/ExpoSE/lib/Harness/src/harness.js' '{"_bound":0}'
*-- Coverage Data
*- File /root/ExpoSE/lib/Harness/src/harness.js. Coverage (Term): 18% Coverage (LOC): 24%
*- File /root/ExpoSE/lib/S$/bin/symbols.js. Coverage (Term): 16% Coverage (LOC): 34%
*- File /root/Targets/sira-codegen-rest-js/node_modules/sira-codegen-rest-js/index.js. Coverage (Term): 82% Coverage (LOC): 100%
*- File /root/Targets/sira-codegen-rest-js/node_modules/sira-codegen-rest-js/lib/codegen.js. Coverage (Term): 19% Coverage (LOC): 19%
*- File /root/Targets/sira-codegen-rest-js/node_modules/lodash/index.js. Coverage (Term): 20% Coverage (LOC): 31%
*- File /root/Targets/sira-codegen-rest-js/node_modules/js-beautify/js/index.js. Coverage (Term): 71% Coverage (LOC): 69%
*- File /root/Targets/sira-codegen-rest-js/node_modules/js-beautify/js/lib/beautify.js. Coverage (Term): 5% Coverage (LOC): 6%
*- File /root/Targets/sira-codegen-rest-js/node_modules/js-beautify/js/lib/beautify-css.js. Coverage (Term): 10% Coverage (LOC): 11%
*- File /root/Targets/sira-codegen-rest-js/node_modules/js-beautify/js/lib/beautify-html.js. Coverage (Term): 6% Coverage (LOC): 7%
*- File /root/Targets/sira-codegen-rest-js/node_modules/temblate/index.js. Coverage (Term): 95% Coverage (LOC): 100%
*- File /root/Targets/sira-codegen-rest-js/node_modules/temblate/lib/temblate.js. Coverage (Term): 23% Coverage (LOC): 36%
*- File /root/Targets/sira-codegen-rest-js/node_modules/reso/index.js. Coverage (Term): 49% Coverage (LOC): 82%
*- File /root/Targets/sira-codegen-rest-js/node_modules/reso/lib/reso.js. Coverage (Term): 34% Coverage (LOC): 51%
*- File /root/Targets/sira-codegen-rest-js/node_modules/reso/node_modules/lodash/dist/lodash.js. Coverage (Term): 19% Coverage (LOC): 27%
*- File /root/Targets/sira-codegen-rest-js/node_modules/resolve/index.js. Coverage (Term): 79% Coverage (LOC): 91%
*- File /root/Targets/sira-codegen-rest-js/node_modules/resolve/lib/core.js. Coverage (Term): 92% Coverage (LOC): 95%
*- File /root/Targets/sira-codegen-rest-js/node_modules/resolve/lib/async.js. Coverage (Term): 4% Coverage (LOC): 5%
*- File /root/Targets/sira-codegen-rest-js/node_modules/resolve/lib/caller.js. Coverage (Term): 30% Coverage (LOC): 36%
*- File /root/Targets/sira-codegen-rest-js/node_modules/resolve/lib/node-modules-paths.js. Coverage (Term): 18% Coverage (LOC): 21%
*- File /root/Targets/sira-codegen-rest-js/node_modules/resolve/lib/sync.js. Coverage (Term): 10% Coverage (LOC): 11%
*- File /root/Targets/sira-codegen-rest-js/node_modules/reso/lib/callsites.js. Coverage (Term): 28% Coverage (LOC): 42%
*- File /root/Targets/sira-codegen-rest-js/node_modules/temblate/lib/utils.js. Coverage (Term): 28% Coverage (LOC): 61%
*- File /root/Targets/sira-codegen-rest-js/node_modules/temblate/lib/caller.js. Coverage (Term): 46% Coverage (LOC): 54%
*- File /root/Targets/sira-codegen-rest-js/node_modules/callsites/index.js. Coverage (Term): 33% Coverage (LOC): 42%
*- File /root/Targets/sira-codegen-rest-js/node_modules/sira-codegen-rest-js/lib/spec.js. Coverage (Term): 7% Coverage (LOC): 12%
*- File /root/Targets/sira-codegen-rest-js/node_modules/sira-express-rest/index.js. Coverage (Term): 82% Coverage (LOC): 100%
*- File /root/Targets/sira-codegen-rest-js/node_modules/sira-express-rest/lib/rest.js. Coverage (Term): 3% Coverage (LOC): 5%
*- File /root/Targets/sira-codegen-rest-js/node_modules/cancelify/index.js. Coverage (Term): 68% Coverage (LOC): 83%
*- File /root/Targets/sira-codegen-rest-js/node_modules/cancelify/lib/cancelable.js. Coverage (Term): 14% Coverage (LOC): 17%
*- File /root/Targets/sira-codegen-rest-js/node_modules/async/lib/async.js. Coverage (Term): 12% Coverage (LOC): 18%
*- File /root/Targets/sira-codegen-rest-js/node_modules/sira/lib/sira.js. Coverage (Term): 21% Coverage (LOC): 31%
*- Re-run with EXPOSE_PRINT_COVERAGE=1 to print line by line coverage information
** ExpoSE Finished. 1 paths with 1 errors **
