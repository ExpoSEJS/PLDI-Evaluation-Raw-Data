/root/Targets/mdk-cli
└─┬ mdk-cli@1.1.12 
  ├── adm-zip@0.4.7 
  ├─┬ archiver@0.21.0 
  │ ├─┬ archiver-utils@0.3.0 
  │ │ ├── glob@6.0.4 
  │ │ ├─┬ lazystream@0.1.0 
  │ │ │ └─┬ readable-stream@1.0.34 
  │ │ │   └── isarray@0.0.1 
  │ │ └── normalize-path@2.0.1 
  │ ├── async@1.5.2 
  │ ├── buffer-crc32@0.2.13 
  │ ├─┬ glob@6.0.4 
  │ │ └── minimatch@3.0.4 
  │ ├── lodash@3.10.1 
  │ ├─┬ readable-stream@2.0.6 
  │ │ ├── core-util-is@1.0.2 
  │ │ ├── isarray@1.0.0 
  │ │ ├── process-nextick-args@1.0.7 
  │ │ ├── string_decoder@0.10.31 
  │ │ └── util-deprecate@1.0.2 
  │ ├── tar-stream@1.3.2 
  │ └─┬ zip-stream@0.8.0 
  │   └─┬ compress-commons@0.4.2 
  │     ├── crc32-stream@0.4.0 
  │     └── node-int64@0.4.0 
  ├── async@1.4.2 
  ├─┬ checksum@0.1.0 
  │ └─┬ optimist@0.3.7 
  │   └── wordwrap@0.0.3 
  ├─┬ cli-color@1.0.0 
  │ ├── ansi-regex@1.1.1 
  │ ├── d@0.1.1 
  │ ├─┬ es5-ext@0.10.30 
  │ │ ├─┬ es6-iterator@2.0.1 
  │ │ │ └── d@1.0.0 
  │ │ └─┬ es6-symbol@3.1.1 
  │ │   └── d@1.0.0 
  │ ├─┬ es6-iterator@0.1.3 
  │ │ └── es6-symbol@2.0.1 
  │ ├─┬ memoizee@0.3.10 
  │ │ ├─┬ es6-weak-map@0.1.4 
  │ │ │ └── es6-symbol@2.0.1 
  │ │ ├─┬ event-emitter@0.3.5 
  │ │ │ └── d@1.0.0 
  │ │ ├── lru-queue@0.1.0 
  │ │ └── next-tick@0.2.2 
  │ └─┬ timers-ext@0.1.2 
  │   └── next-tick@1.0.0 
  ├─┬ commander@2.8.1 
  │ └── graceful-readlink@1.0.1 
  ├─┬ console.table@0.4.0 
  │ └── easy-table@0.3.0 
  ├─┬ dateformat@1.0.12 
  │ ├── get-stdin@4.0.1 
  │ └─┬ meow@3.7.0 
  │   ├── camelcase-keys@2.1.0 
  │   ├── decamelize@1.2.0 
  │   ├─┬ loud-rejection@1.6.0 
  │   │ ├─┬ currently-unhandled@0.4.1 
  │   │ │ └── array-find-index@1.0.2 
  │   │ └── signal-exit@3.0.2 
  │   ├── map-obj@1.0.1 
  │   ├── minimist@1.2.0 
  │   ├─┬ normalize-package-data@2.4.0 
  │   │ ├── hosted-git-info@2.5.0 
  │   │ ├─┬ is-builtin-module@1.0.0 
  │   │ │ └── builtin-modules@1.1.1 
  │   │ └─┬ validate-npm-package-license@3.0.1 
  │   │   ├─┬ spdx-correct@1.0.2 
  │   │   │ └── spdx-license-ids@1.2.2 
  │   │   └── spdx-expression-parse@1.0.4 
  │   ├── object-assign@4.1.1 
  │   ├─┬ read-pkg-up@1.0.1 
  │   │ ├─┬ find-up@1.1.2 
  │   │ │ └── path-exists@2.1.0 
  │   │ └─┬ read-pkg@1.1.0 
  │   │   ├─┬ load-json-file@1.1.0 
  │   │   │ ├─┬ parse-json@2.2.0 
  │   │   │ │ └─┬ error-ex@1.3.1 
  │   │   │ │   └── is-arrayish@0.2.1 
  │   │   │ └── pify@2.3.0 
  │   │   └── path-type@1.1.0 
  │   ├─┬ redent@1.0.0 
  │   │ ├─┬ indent-string@2.1.0 
  │   │ │ └─┬ repeating@2.0.1 
  │   │ │   └── is-finite@1.0.2 
  │   │ └── strip-indent@1.0.1 
  │   └── trim-newlines@1.0.0 
  ├─┬ decompress@3.0.0 
  │ ├─┬ buffer-to-vinyl@1.1.0 
  │ │ ├── file-type@3.9.0 
  │ │ ├── uuid@2.0.3 
  │ │ └─┬ vinyl@1.2.0 
  │ │   ├── clone@1.0.2 
  │ │   ├── clone-stats@0.0.1 
  │ │   └── replace-ext@0.0.1 
  │ ├─┬ concat-stream@1.6.0 
  │ │ ├─┬ readable-stream@2.3.3 
  │ │ │ ├── isarray@1.0.0 
  │ │ │ ├── safe-buffer@5.1.1 
  │ │ │ └── string_decoder@1.0.3 
  │ │ └── typedarray@0.0.6 
  │ ├─┬ decompress-tar@3.1.0 
  │ │ ├── is-tar@1.0.0 
  │ │ ├── object-assign@2.1.1 
  │ │ ├─┬ strip-dirs@1.1.1 
  │ │ │ ├─┬ is-absolute@0.1.7 
  │ │ │ │ └── is-relative@0.1.3 
  │ │ │ ├── is-natural-number@2.1.1 
  │ │ │ └── sum-up@1.0.3 
  │ │ ├─┬ through2@0.6.5 
  │ │ │ └── readable-stream@1.0.34 
  │ │ └─┬ vinyl@0.4.6 
  │ │   └── clone@0.2.0 
  │ ├─┬ decompress-tarbz2@3.1.0 
  │ │ ├── is-bzip2@1.0.0 
  │ │ ├── object-assign@2.1.1 
  │ │ ├── seek-bzip@1.0.5 
  │ │ └─┬ vinyl@0.4.6 
  │ │   └── clone@0.2.0 
  │ ├─┬ decompress-targz@3.1.0 
  │ │ ├── is-gzip@1.0.0 
  │ │ ├── object-assign@2.1.1 
  │ │ └─┬ vinyl@0.4.6 
  │ │   └── clone@0.2.0 
  │ ├─┬ decompress-unzip@3.4.0 
  │ │ ├── is-zip@1.0.0 
  │ │ ├─┬ read-all-stream@3.1.0 
  │ │ │ └─┬ pinkie-promise@2.0.1 
  │ │ │   └── pinkie@2.0.4 
  │ │ ├── stat-mode@0.2.2 
  │ │ ├─┬ through2@2.0.3 
  │ │ │ └─┬ readable-stream@2.3.3 
  │ │ │   ├── isarray@1.0.0 
  │ │ │   └── string_decoder@1.0.3 
  │ │ └── yauzl@2.8.0 
  │ ├─┬ stream-combiner2@1.1.1 
  │ │ └── duplexer2@0.1.4 
  │ ├── vinyl-assign@1.2.1 
  │ └─┬ vinyl-fs@2.4.4 
  │   ├─┬ duplexify@3.5.1 
  │   │ └── stream-shift@1.0.0 
  │   ├─┬ glob-stream@5.3.5 
  │   │ ├─┬ glob-parent@3.1.0 
  │   │ │ ├─┬ is-glob@3.1.0 
  │   │ │ │ └── is-extglob@2.1.1 
  │   │ │ └── path-dirname@1.0.2 
  │   │ ├─┬ micromatch@2.3.11 
  │   │ │ ├─┬ arr-diff@2.0.0 
  │   │ │ │ └── arr-flatten@1.1.0 
  │   │ │ ├── array-unique@0.2.1 
  │   │ │ ├─┬ braces@1.8.5 
  │   │ │ │ ├─┬ expand-range@1.8.2 
  │   │ │ │ │ └─┬ fill-range@2.2.3 
  │   │ │ │ │   ├── is-number@2.1.0 
  │   │ │ │ │   ├─┬ isobject@2.1.0 
  │   │ │ │ │   │ └── isarray@1.0.0 
  │   │ │ │ │   ├─┬ randomatic@1.1.7 
  │   │ │ │ │   │ ├─┬ is-number@3.0.0 
  │   │ │ │ │   │ │ └── kind-of@3.2.2 
  │   │ │ │ │   │ └── kind-of@4.0.0 
  │   │ │ │ │   └── repeat-string@1.6.1 
  │   │ │ │ ├── preserve@0.2.0 
  │   │ │ │ └── repeat-element@1.1.2 
  │   │ │ ├─┬ expand-brackets@0.1.5 
  │   │ │ │ └── is-posix-bracket@0.1.1 
  │   │ │ ├─┬ extglob@0.3.2 
  │   │ │ │ └── is-extglob@1.0.0 
  │   │ │ ├── filename-regex@2.0.1 
  │   │ │ ├── is-extglob@1.0.0 
  │   │ │ ├── is-glob@2.0.1 
  │   │ │ ├─┬ kind-of@3.2.2 
  │   │ │ │ └── is-buffer@1.1.5 
  │   │ │ ├─┬ object.omit@2.0.1 
  │   │ │ │ ├─┬ for-own@0.1.5 
  │   │ │ │ │ └── for-in@1.0.2 
  │   │ │ │ └── is-extendable@0.1.1 
  │   │ │ ├─┬ parse-glob@3.0.4 
  │   │ │ │ ├─┬ glob-base@0.3.0 
  │   │ │ │ │ ├── glob-parent@2.0.0 
  │   │ │ │ │ └─┬ is-glob@2.0.1 
  │   │ │ │ │   └── is-extglob@1.0.0 
  │   │ │ │ ├── is-dotfile@1.0.3 
  │   │ │ │ ├── is-extglob@1.0.0 
  │   │ │ │ └── is-glob@2.0.1 
  │   │ │ └─┬ regex-cache@0.4.4 
  │   │ │   └─┬ is-equal-shallow@0.1.3 
  │   │ │     └── is-primitive@2.0.0 
  │   │ ├─┬ ordered-read-streams@0.3.0 
  │   │ │ └── is-stream@1.1.0 
  │   │ ├─┬ to-absolute-glob@0.1.1 
  │   │ │ └── extend-shallow@2.0.1 
  │   │ └─┬ unique-stream@2.2.1 
  │   │   └─┬ json-stable-stringify@1.0.1 
  │   │     └── jsonify@0.0.0 
  │   ├─┬ gulp-sourcemaps@1.6.0 
  │   │ ├── convert-source-map@1.5.0 
  │   │ └─┬ through2@2.0.3 
  │   │   └─┬ readable-stream@2.3.3 
  │   │     ├── isarray@1.0.0 
  │   │     └── string_decoder@1.0.3 
  │   ├── is-valid-glob@0.3.0 
  │   ├── lazystream@1.0.0 
  │   ├── lodash.isequal@4.5.0 
  │   ├── merge-stream@1.0.1 
  │   ├─┬ strip-bom@2.0.0 
  │   │ └── is-utf8@0.2.1 
  │   ├─┬ strip-bom-stream@1.0.0 
  │   │ └── first-chunk-stream@1.0.0 
  │   ├─┬ through2@2.0.3 
  │   │ └─┬ readable-stream@2.3.3 
  │   │   ├── isarray@1.0.0 
  │   │   └── string_decoder@1.0.3 
  │   ├─┬ through2-filter@2.0.0 
  │   │ └─┬ through2@2.0.3 
  │   │   └─┬ readable-stream@2.3.3 
  │   │     ├── isarray@1.0.0 
  │   │     └── string_decoder@1.0.3 
  │   └── vali-date@1.0.0 
  ├── diskspace@1.0.1 
  ├─┬ extract-zip@1.4.1 
  │ ├── concat-stream@1.5.0 
  │ ├── debug@0.7.4 
  │ ├─┬ mkdirp@0.5.0 
  │ │ └── minimist@0.0.8 
  │ └─┬ yauzl@2.4.1 
  │   └─┬ fd-slicer@1.0.1 
  │     └── pend@1.2.0 
  ├─┬ fs-extra@0.24.0 
  │ ├── graceful-fs@4.1.11 
  │ ├── jsonfile@2.4.0 
  │ ├── path-is-absolute@1.0.1 
  │ └─┬ rimraf@2.6.2 
  │   └─┬ glob@7.1.2 
  │     └── fs.realpath@1.0.0 
  ├─┬ gauge@1.2.5 
  │ ├── ansi@0.3.1 
  │ ├── has-unicode@2.0.1 
  │ ├─┬ lodash.pad@3.3.0 
  │ │ ├── lodash._root@3.0.1 
  │ │ └── lodash.repeat@3.2.0 
  │ ├─┬ lodash.padleft@3.1.3 
  │ │ ├── lodash._basetostring@3.0.1 
  │ │ └── lodash._createpadding@3.6.1 
  │ └── lodash.padright@3.1.3 
  ├─┬ glob@5.0.14 
  │ ├─┬ inflight@1.0.6 
  │ │ └── wrappy@1.0.2 
  │ ├── inherits@2.0.3 
  │ ├─┬ minimatch@2.0.10 
  │ │ └─┬ brace-expansion@1.1.8 
  │ │   ├── balanced-match@1.0.0 
  │ │   └── concat-map@0.0.1 
  │ └── once@1.4.0 
  ├── iconv-lite@0.4.19 
  ├─┬ mkdirp@0.5.1 
  │ └── minimist@0.0.8 
  ├── moment@2.10.6 
  ├── mustache@2.1.3 
  ├─┬ nconf@0.8.0 
  │ ├── ini@1.3.4 
  │ └─┬ yargs@3.32.0 
  │   ├── camelcase@2.1.1 
  │   ├─┬ cliui@3.2.0 
  │   │ ├─┬ strip-ansi@3.0.1 
  │   │ │ └── ansi-regex@2.1.1 
  │   │ └── wrap-ansi@2.1.0 
  │   ├─┬ os-locale@1.4.0 
  │   │ └─┬ lcid@1.0.0 
  │   │   └── invert-kv@1.0.0 
  │   ├─┬ string-width@1.0.2 
  │   │ ├── code-point-at@1.1.0 
  │   │ └─┬ is-fullwidth-code-point@1.0.0 
  │   │   └── number-is-nan@1.0.1 
  │   ├── window-size@0.1.4 
  │   └── y18n@3.2.1 
  ├─┬ pump@0.3.0 
  │ ├─┬ end-of-stream@0.1.5 
  │ │ └── once@1.3.3 
  │ └── once@1.2.0 
  ├─┬ read@1.0.7 
  │ └── mute-stream@0.0.7 
  ├─┬ replace@0.3.0 
  │ ├── colors@0.5.1 
  │ ├─┬ minimatch@0.2.14 
  │ │ ├── lru-cache@2.7.3 
  │ │ └── sigmund@1.0.1 
  │ └─┬ nomnom@1.6.2 
  │   └── underscore@1.4.4 
  ├─┬ request@2.63.0 
  │ ├── aws-sign2@0.5.0 
  │ ├── bl@1.0.3 
  │ ├── caseless@0.11.0 
  │ ├─┬ combined-stream@1.0.5 
  │ │ └── delayed-stream@1.0.0 
  │ ├── extend@3.0.1 
  │ ├── forever-agent@0.6.1 
  │ ├─┬ form-data@1.0.1 
  │ │ └─┬ async@2.5.0 
  │ │   └── lodash@4.17.4 
  │ ├─┬ har-validator@1.8.0 
  │ │ ├── bluebird@2.11.0 
  │ │ ├─┬ chalk@1.1.3 
  │ │ │ ├── ansi-styles@2.2.1 
  │ │ │ ├── escape-string-regexp@1.0.5 
  │ │ │ ├─┬ has-ansi@2.0.0 
  │ │ │ │ └── ansi-regex@2.1.1 
  │ │ │ └── supports-color@2.0.0 
  │ │ └─┬ is-my-json-valid@2.16.1 
  │ │   ├── generate-function@2.0.0 
  │ │   ├─┬ generate-object-property@1.2.0 
  │ │   │ └── is-property@1.0.2 
  │ │   └── jsonpointer@4.0.1 
  │ ├─┬ hawk@3.1.3 
  │ │ ├── boom@2.10.1 
  │ │ ├── cryptiles@2.0.5 
  │ │ ├── hoek@2.16.3 
  │ │ └── sntp@1.0.9 
  │ ├─┬ http-signature@0.11.0 
  │ │ ├── asn1@0.1.11 
  │ │ ├── assert-plus@0.1.5 
  │ │ └── ctype@0.5.3 
  │ ├── isstream@0.1.2 
  │ ├── json-stringify-safe@5.0.1 
  │ ├─┬ mime-types@2.1.17 
  │ │ └── mime-db@1.30.0 
  │ ├── node-uuid@1.4.8 
  │ ├── oauth-sign@0.8.2 
  │ ├── qs@5.1.0 
  │ ├── stringstream@0.0.5 
  │ ├─┬ tough-cookie@2.3.3 
  │ │ └── punycode@1.4.1 
  │ └── tunnel-agent@0.4.3 
  ├── semver@5.0.3 
  ├─┬ suppose@0.5.1 
  │ ├─┬ force-array@3.1.0 
  │ │ └── is-array@1.0.1 
  │ └── string@3.3.3 
  ├─┬ tar-fs@1.8.1 
  │ └── pump@1.0.2 
  ├─┬ tar-stream@1.2.2 
  │ ├── bl@1.2.1 
  │ ├── end-of-stream@1.4.0 
  │ └── xtend@4.0.1 
  ├─┬ walk@2.3.9 
  │ └── foreachasync@3.0.0 
  ├── winreg@0.0.12 
  ├─┬ xml2js@0.4.12 
  │ ├── sax@1.2.4 
  │ └── xmlbuilder@9.0.4 
  ├── xmldom@0.1.19 
  └── xpath@0.0.9 

Setup Done exists, not setting up
:../FeatureTester/libs/:/root/Targets/mdk-cli/node_modules
Set Default Z3_PATH to ./node_modules/z3javascript/bin/libz3.so
ExpoSE Master: /root/ExpoSE/lib/Harness/src/harness.js max concurrent: 16 max paths: 1000000
Setting timeout to 900000
*** [0 done /0 queued / 1 running / 0 errors / 0% coverage ] ****** [0 done /0 queued / 1 running / 0 errors / 0% coverage ] ****** [1 done /0 queued / 0 running / 1 errors / 33% coverage ] ***
*-- Stat Module Output --*
*-- concretizations: ["defineProperty","bound log"]
*-- Stat Module Done --*
*-- Test Case {"_bound":0} start 0.042 took 3.1337s
*-- Errors occured in test {"_bound":0}
* Error: Tropigate failed because SyntaxError: Unexpected token (36:4) on program /**
 * Copyright (C) 2015 Sopra Steria Group (movalys.support@soprasteria.com)
 *
 * This file is part of Movalys MDK.
 * Movalys MDK is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Lesser General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 * Movalys MDK is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Lesser General Public License for more details.
 * You should have received a copy of the GNU Lesser General Public License
 * along with Movalys MDK. If not, see <http://www.gnu.org/licenses/>.
 */
'use strict';

var program = require('commander');
// Override default message when there are missing arguments
program.Command.prototype.missingArgument = function(name) {
    console.error();
    console.error("  error: Required argument(s) is/are missing : " + name );
    console.error();
    process.exit(1);
};

// Custom help message
program.Command.prototype.help = function(cb) {
	this.outputHelp(cb);
	printVersionNotice(function(){
		process.exit(0);
	});
};

// Imports
var assert = require('assert');
var clc = require('cli-color');
var exec = require('child_process').exec;
var semver = require('semver');
var config = require('./config');
var versions = require('./mdk/versions');
var templates = require('./mdk/templates');
var cache = require('./cache');
var devtools = require('./devtools');
var devtoolsCheck = require('./devtools/check');
var userProject = require('./project');
var projectUpgrade = require('./project/upgrade');
var platform = require('./platform');
var user = require('./user');
var license = require('./license');
var async = require('async');
var mdkLog = require('./utils/log');
var read = require('read');

// Variables
var LINE_BREAK = '\n';
var AUTHORIZED_PLATFORM_LIST = 'android, ios, html5, win8';
var packageJS = require('../package.json');


function mdkThis() {

    program
        .usage('cmd <parameters> [options]');

    program.command('').description(
        LINE_BREAK+
        clc.green.bold("------------- General commands -------------")
    );

    program
        .command('create <applicationId>')
        .alias('c')
        .option('-X, --verbose', 'verbose mode.')
        .option('-o, --offline', 'offline mode.')
        .option('-t, --templateName <name>', 'the template name to use')
        .option('-v, --templateVersion <version>', 'the template version to use')
        .option('-p, --platforms <platforms>', 'the platform(s) to add to the project once created. Example: -p ' + AUTHORIZED_PLATFORM_LIST, function (val) {return val.split(',');})
        .description('Create a new MDK project.' + LINE_BREAK)
        .action(function (applicationId, options) {
            userProject.create(applicationId, options, function (err) {
                if (err) {
                    exitWithMessage('Create project failed: ' + err, 1);
                }
                else {
                    if (typeof options.platforms !== 'undefined') {
                        console.log(clc.green.bold('[Success] ') + 'Project successfully created.');
                        console.log();

                        // Loop on platform one by one
                        async.eachSeries(options.platforms, function (platformName, cb) {
                            console.log('-----------------------');
                            var platformoptions = {offline: options.offline};
                            platformAddAction(platformName, platformoptions, function (err) {

                                if (err) {
                                    console.log(clc.red.bold('[Error] ') + 'Couldn\'t add platform '+platformName+' : ' + err);
                                } else {
                                    console.log();
                                    console.log(clc.green.bold('[Success] ') + platformName + ' platform added.');
                                }
                                cb(err);
                            });
                        }, function(err) {
                           if (err) {
                               exitWithMessage('A problem occurred adding platform(s)', 1);
                           } else {
                               exitWithMessage('Platform(s) added.', 0);
                           }
                        });

                    } else {
                        exitWithMessage('Project successfully created.', 0);
                    }

                }
            });
        }).on('--help', function () {
            console.log("  Arguments:\n");
            console.log(clc.bold("     applicationId"));
            console.log("        The package name of the application (lowercase Alphabet only).\n"+
                "        It should contain at least one dot and the last part (used as applicationId) can contain digits\n" +
                clc.italic("        Example : com.mycompany.myproject123\n"));

            mdkCreateHelpNotice();
        });

    program
        .command('templates')
        .alias('t')
        .description('List available templates' + LINE_BREAK)
        .option('-f, --forceUpdate', 'Force the templates file to update')
        .option('-a, --all', 'Detailed list of available templates')
        .action(function (options) {
            options.forceUpdate = options.forceUpdate || false;
            options.all = options.all || false;

            templates.list(options.forceUpdate, function (err, result) {
                if (err) {
                    exitWithMessage('Failure reading templates: ' + err, 1);
                }
                else {
                    //Check Result
                    assert.equal(typeof result, 'object');
                    templates.display(result, options.all, function (err) {
                        if(err) {
                            exitWithMessage('Failure reading templates: ' + err, 1);
                        }
                        else {
                            mdkTemplatesSuccessNotice();
                            printVersionNotice(function(){
								process.exit(0);
							});
                        }
                    });
                }
            });
        }).on('--help', function () {
        });

    // DEVTOOLS -----------------------------------------------------------------
    program
        .command('tools-install <platform>')
        .alias('ti')
        .option('-a, --acceptLicenses', 'Automatically accept third-party tools licenses', false)
        .option('-u, --updateAndroidSDK', 'If Android SDK is already installed, force to update', false)
        .option('-v, --mdkVersion <version>', 'Install tools for a specific MDK version','last')
        .description('Install MDK environment for a given platform')
        .action(function (platform, options) {
            async.waterfall([
                    function(cb) {
                        if (options.mdkVersion === 'last') {
                            versions.lastVersion(cb);
                        } else {
                            cb(null, options.mdkVersion);
                        }
                    },
                    function(mdkVersion, cb) {
                        devtools.install.install(platform, mdkVersion, options, cb);
                    }
                ], function (err) {
                    if (err) {
                        exitWithMessage('Installation failed: ' + err, 1);
                    }
                    else {
                        exitWithMessage('Installation success.', 0);
                    }
                }
            );
        }).on('--help', function () {
            console.log("  Arguments:\n");

            console.log(clc.bold("     platform"));
            console.log("        The platform name of the MDK environment to install. Must be one of these values : " +AUTHORIZED_PLATFORM_LIST + ".\n" +
                clc.italic("        Example : ios"));
        });

// DEVTOOLS CHECKS -------------------------------------------------------

    program
        .command('tools-check <platform>')
        .alias('tc')
        .option('-v, --mdkVersion <version>', 'Check for a specific MDK version')
        .description('Check the validity of the environment for given a platform' + LINE_BREAK)
        .action(function (platform, options) {
            async.waterfall([
                    function(cb) {
                        if (typeof options.mdkVersion === 'undefined') {
                            versions.lastVersion(cb);
                        } else {
                            cb(null, options.mdkVersion);
                        }
                    },
                    function(mdkVersion, cb) {
                        options.mdkVersion = mdkVersion;
                        devtoolsCheck.check(platform, mdkVersion, false, cb);
                    }
                ], function (err) {
                    if (err) {
                        exitWithMessage('Check failed: ' + err, 1, function() {mdkToolsCheckFailedNotice(platform, options.mdkVersion);});
                    }
                    else {
                        exitWithMessage('Check success.', 0);
                    }
                }
            );
        }).on('--help', function () {
            console.log("  Arguments:\n");

            console.log(clc.bold("     platform"));
            console.log("        The platform name of the MDK environment to check. Must be one of these values : " +AUTHORIZED_PLATFORM_LIST + ".\n" +
                clc.italic("        Example : ios"));
        });


    // CONFIG -----------------------------------------------------------------
    program
        .command('config-list')
        .alias('cl')
        .description('Show all configuration values')
        .action(function () {
            config.displayAll(function (err) {
                if (err) {
                    exitWithMessage('Error retrieving list of parameters: ' + err, 1);
                }
            });
        }).on('--help', function () {
        });

    program
        .command('config-get <key>')
        .alias('cg')
        .description('Get configuration value associated to the given key')
        .action(function (key) {
            config.displayValue(key, function (err) {
                if (err) {
                    exitWithMessage(err, 1);
                }
            });

        }).on('--help', function () {
            console.log("  Arguments:\n");

            console.log(clc.bold("     key"));
            console.log("        The key to use to retrieve the associated value" +
                clc.italic("        Example : username"));
        });

    program
        .command('config-set <key> <value>')
        .alias('cs')
        .description('Set a configuration value associated to the given key')
        .action(function (key, value) {
            config.set(key, value, function (err) {
                if (err) {
                    exitWithMessage('Error setting parameter "' + key + '" with value : "' + value + '"' + err, 1);
                }
                else {
                    exitWithMessage('Parameter "' + key + '" updated with value : "' + value + '".', 0);
                }
            });
        }).on('--help', function () {
            console.log("  Arguments:\n");

            console.log(clc.bold("     key"));
            console.log("        The key to use to set an associated value" +
                clc.italic("        Example : username"));

            console.log(clc.bold("     value"));
            console.log("        The value to set" +
                clc.italic("        Example : toto"));
        });

    program
        .command('config-del <key>')
        .alias('cd')
        .description('Delete configuration value associated to the given key' + LINE_BREAK)
        .action(function (key) {
            config.del(key, function (err, value) {
                if (err) {
                    exitWithMessage(err, 1);
                }
                else {
                    exitWithMessage('Parameter "' + key + '" deleted from user configuration file.', 0);
                }
            });
        }).on('--help', function () {
            console.log("  Arguments:\n");

            console.log(clc.bold("     key"));
            console.log("        The key to use to delete the associated value" +
                clc.italic("        Example : username"));
        });

    // VERSIONS -----------------------------------------------------------------
    program
        .command('version-list',   '', {noHelp:true })
        .alias('vl')
        .description('Show all version of MDK')
        .action(function (err, list) {
            versions.list(function (err, list) {
                if (err) {
                    exitWithMessage('Failure reading version list: ' + err, 1);
                }
                else {
                    //Check Result
                    assert.equal(typeof list, 'object');

                    //Display result
                    console.log(clc.bold('MDK Versions :'));
                    list.versions.forEach(function (item) {
                        console.log(item.version);
                    });
                    printVersionNotice(function(){
						process.exit(0);
					});
                }
            });

        }).on('--help', function () {
        });

    program
        .command('version-last',   '', {noHelp:true })
        .alias('vlast')
        .description('Show only last version of MDK')
        .action(function (err, last) {
            versions.lastVersion(function (err, last) {
                if (err) {
                    exitWithMessage('Failure reading last version: ' + err, 1);
                }
                else {
                    //Check Result
                    assert.equal(typeof last, 'string');

                    console.log(clc.bold('MDK Last Version : ') + last);
                    printVersionNotice(function(){
						process.exit(0);
					});
                }
            });
        }).on('--help', function () {
        });

    program
        .command('version-info <version>')
        .alias('vi')
        .description('Show information about the given MDK version ')
        .action(function (version) {
            if (typeof version === 'undefined'){
                return exitWithMessage('Please specify a MDK version, ie: 6.1.0', 1); 
            }
            versions.get(version, false, function (err, result) {
                if (err) {
                    exitWithMessage('Failure reading version: ' + err, 1);
                }
                else {
                    //Check Result
                    assert.equal(typeof result, 'object');


                    versions.display(result, function() {
						printVersionNotice(function(){
							process.exit(0);
						});
					});
                }
            });
        }).on('--help', function () {
            console.log("  Arguments:\n");

            console.log(clc.bold("     version"));
            console.log("        The MDK version whose information will be displayed" +
                clc.italic("        Example : 6.0.1"));
        });

    program.command('').description(
        LINE_BREAK+
        clc.green.bold("------------- Project commands -------------  Need to be run in a MDK Project directory")
    );

    program
        .command('infos')
        .alias('i')
        .description('Get information about the project.' + LINE_BREAK)
        .action(function (options) {
            userProject.infos(function (err, result) {
                if (err) {
                    exitWithMessage('Unable to get MDK Project information: ' + err, 1);
                }
                else {
                    console.log("");
					console.log(clc.bold("APPLICATION ID\t") + " : " + result.project.applicationId);
                    console.log(clc.bold("PROJECT NAME\t") + " : " + result.project.artifactId);
                    console.log(clc.bold("PROJECT VERSION\t") + " : " + result.project.version);
                    console.log(clc.bold("TEMPLATE NAME\t") + " : " + result.template.name);
                    console.log(clc.bold("TEMPLATE VERSION") + " : " + result.template.version);
                    console.log(clc.bold("MDK VERSION\t") + " : " + result.project.mdkVersion);
                    console.log("");
                }
            });
        }).on('--help', function () {
        });
	
	program
        .command('shell <platform>')
        .alias('s')
        .description('Spawn a shell ready for the given platform')
        .action(function (platformName, options) {

            platform.runCmd("shell", platformName, "Spawns shell for platform " + clc.bold(platformName), options, function (err) {
                if (err) {
                    exitWithMessage('Spawned failed for ' + clc.bold(platformName) + ' : ' + err, 1);
                }
                else {
                    printVersionNotice(function(){
						process.exit(0);
					});
                }
            });
        }).on('--help', function () {
            console.log("  Arguments:\n");

            console.log(clc.bold("     platform"));
            console.log("        The target platform to spawn console for. This value must be one of these : " +AUTHORIZED_PLATFORM_LIST + ".\n" +
                clc.italic("        Example : ios"));

        });

    // PROJECT ---------------------------------------------------------------
	
    var platformAddAction = function (platformName, options, callback) {
        callback = callback || function (err) {
                if (err) {
                    exitWithMessage('Add platform ' + clc.bold(platformName) + ' failed: ' + err, 1);
                }
                else {
                    exitWithMessage('Platform ' + clc.bold(platformName) + ' successfully added.', 0);
                }
            };

        platform.runCmd("add", platformName, "Adding " + clc.bold(platformName) + " platform " , options, callback);
    };

    program
        .command('platform-add <platform>')
        .alias('pa')
        .description('Add a platform to the current MDK project.')
        .option('-X, --verbose', 'verbose mode.')
        .option('-o, --offline', 'Add platform using offline for maven, cocoapods and gradle tools.')
        .action(platformAddAction)
        .on('--help', function () {
            console.log("  Arguments:\n");

            console.log(clc.bold("     platform"));
            console.log("        The platform name to add. This value must be one of these : " +AUTHORIZED_PLATFORM_LIST + ".\n" +
                clc.italic("        Example : ios"));

        });

    program
        .command('platform-gensrc <platform>')
        .alias('pg')
        .description('Generate source code of the MDK project for the given platform')
        .option('-X, --verbose', 'verbose mode.')
        .option('-o, --offline', 'Generate using offline for maven.')
        .action(function (platformName, options) {

            platform.runCmd("generate", platformName, "Generate platform " + clc.bold(platformName), options, function (err) {
                if (err) {
                    exitWithMessage('Generate platform ' + clc.bold(platformName) + ' failed: ' + err, 1);
                }
                else {
                    exitWithMessage('Platform ' + clc.bold(platformName) + ' successfully generated.', 0);
                }
            });
        }).on('--help', function () {
            console.log("  Arguments:\n");

            console.log(clc.bold("     platform"));
            console.log("        The platform name to generate. This value must be one of these : " +AUTHORIZED_PLATFORM_LIST + ".\n" +
                clc.italic("        Example : ios"));

        });
		

	program
        .command('platform-compile <platform>')
        .alias('pc')
        .description('Compile the given platform of the current MDK project')
        .option('-X, --verbose', 'verbose mode.')
        .option('-o, --offline', 'Compile platform using offline for maven, cocoapods and gradle tools.')
        .action(function (platformName, options) {

            platform.runCmd("compile", platformName, "Compile platform " + clc.bold(platformName), options, function (err) {
                if (err) {
                    exitWithMessage('Compile platform ' + clc.bold(platformName) + ' failed: ' + err, 1);
                }
                else {
                    exitWithMessage('Platform ' + clc.bold(platformName) + ' successfully compiled.', 0);
                }
            });
        }).on('--help', function () {
            console.log("  Arguments:\n");

            console.log(clc.bold("     platform"));
            console.log("        The platform name to compile. This value must be one of these : " +AUTHORIZED_PLATFORM_LIST + ".\n" +
                clc.italic("        Example : ios"));

        });

    program
        .command('platform-build <platform>')
        .alias('pb')
        .description('Build the given platform of the current MDK project ( equivalent to platform-gensrc then platform-compile )')
        .option('-X, --verbose', 'verbose mode.')
        .option('-o, --offline', 'Build platform using offline for maven, cocoapods and gradle tools.')
        .action(function (platformName, options) {

            platform.runCmd("build", platformName, "Build platform " + clc.bold(platformName), options, function (err) {
                if (err) {
                    exitWithMessage('Build platform ' + clc.bold(platformName) + ' failed: ' + err, 1);
                }
                else {
                    exitWithMessage('Platform ' + clc.bold(platformName) + ' successfully built.', 0);
                }
            });
        }).on('--help', function () {
            console.log("  Arguments:\n");

            console.log(clc.bold("     platform"));
            console.log("        The platform name to build. This value must be one of these : " +AUTHORIZED_PLATFORM_LIST + ".\n" +
                clc.italic("        Example : ios"));

        });
        
    program
        .command('platform-deploy <platform>',  '', {noHelp:true })
        .alias('pd')
        .description('Deploy the given platform of the current MDK project')
        .action(function (platformName, options) {
            platform.runCmd("deploy", platformName, "Deploy platform " + clc.bold(platformName), options, function (err) {
                if (err) {
                    exitWithMessage('Deploy platform ' + clc.bold(platformName) + ' failed: ' + err, 1);
                }
                else {
                    exitWithMessage('Platform ' + clc.bold(platformName) + ' successfully deployed.', 0);
                }
            });
        }).on('--help', function () {
            console.log("  Arguments:\n");

            console.log(clc.bold("     platform"));
            console.log("        The platform name to deploy. This value must be one of these : " +AUTHORIZED_PLATFORM_LIST + ".\n" +
                clc.italic("        Example : ios"));
            console.log(clc.bold("     appPath"));
            console.log("        The Directory where the");

        });

    program
        .command('upgrade <target>')
        .alias('u')
        .description('Upgrade local project template to the given target version' + LINE_BREAK)
        .action(function (target) {

            projectUpgrade.upgrade(target, function(err){
                if (err){
                    exitWithMessage(err, 1);
                }else{
                    exitWithMessage("Project upgraded to version " + target, 0);
                }
            });


        }).on('--help', function() {
            console.log("  Arguments:\n");

            console.log(clc.bold("     target"));
            console.log("        The new template version to base your project on.\n" +
                clc.italic("        Example : 6.1.0"));
        });

    program
        .command('platform-env <platform>')
        .alias('pe')
        .description('Display shell environment of the given platform for the current MDK project' + LINE_BREAK)
        .action(function (platformName, options) {
            platform.runCmd("displayEnv", platformName, "Shell environment for platform " + clc.bold(platformName), options, function(err) {
                if ( err ) {
                    exitWithMessage('Shell environment for platform ' + clc.bold(platformName) + ' failed: ' + err, 1);
                }
                else {

                    exitWithMessage('Shell environment ' + clc.bold(platformName), 0 );
                }
            });
        }).on('--help', function() {
            console.log("  Arguments:\n");

            console.log(clc.bold("     platform"));
            console.log("        The platform name to get environment variables. This value must be one of these : " +AUTHORIZED_PLATFORM_LIST + ".\n" +
                clc.italic("        Example : ios"));
        });

    // PLATFORM-CONFIG ----------------------------------------------------------
    program
        .command('platform-config-list <platform>')
        .alias('pcl')
        .description('Show all configuration values for the given platform')
        .action(function (platformName) {
            platform.displayConfigValues(platformName, function (err) {
                if (err) {
                    exitWithMessage('Error retrieving the configuration values : ' + err, 1);
                }else{
					exitWithMessage('Variables list for platform ' + platformName, 0);
				}
				
            });
        }).on('--help', function () {
        });

    program
        .command('platform-config-get <platform> <key>')
        .alias('pcg')
        .description('Show all configuration values for the given platform')
        .action(function (platformName, key) {
            platform.getConfigList(platformName, function (err, configValues) {
                if (err) {
                    exitWithMessage('Error retrieving the configuration values : ' + err, 1);
                }

                if (configValues && configValues[key]) {
                   	exitWithMessage(key + ": " + configValues[key], 0);
                } else {
					exitWithMessage("Couldn't find the value for key " + key, 1);
                }
            });
        }).on('--help', function () {
        });

    program
        .command('platform-config-set <platform> <key> <value>')
        .alias('pcs')
        .description('Show all configuration values for the given platform')
        .action(function (platformName, key, value) {
        // First check the key exists
            platform.getConfigList(platformName, function (err, configValues) {
                if (err) {
                    exitWithMessage('Error retrieving the configuration values : ' + err, 1);
                }

                if (configValues && configValues[key]) {
                    platform.setConfigValue(platformName, key, value, function(err) {
                        if (err) {
                            exitWithMessage('Error setting parameter "' + key + '" with value : "' + value + '"' + err, 1);
                        }
                        else {
                            exitWithMessage('Parameter "' + key + '" updated with value : "' + value + '".', 0);
                        }
                    });
                } else {
                    require('./utils/log').ko("platform configuration","Couldn't find the value for key " + key);
				}
            });
        }).on('--help', function () {
        });


    program.command('').description(
        LINE_BREAK+
        clc.green.bold("--------------- Miscellaneous --------------")
    );

    // USER ------------------------------------------------------------------
    program
        .command('auth')
        .alias('a')
        .description('Define login/password for MDK authentication')
        .action(function () {
            user.askCredentials(function (err) {
                if (err) {
                    exitWithMessage('Credentials not set: ' + err, 1);
                }
                else {
                    exitWithMessage('Credentials successfully updated.', 0);
                }
            });
        }).on('--help', function () {
        });
// CACHE -----------------------------------------------------------------
    program
        .command('cache-clear')
        .alias('cc')
        .description('Clear mdk-cli cache')
        .action(function () {
            cache.clear(function (err) {
                if (err) {
                    exitWithMessage('Clear cache failed: ' + err, 1);
                }
                else {
                    exitWithMessage('Cache removed.', 0);
                }
            });
        }).on('--help', function () {
        });

    program
        .command('license')
        .alias('l')
        .description('Show Movalys MDK License')
        .action(function (opts) {
            license.printLicense();
        }).on('--help', function () {
        });
// HIDDEN -------------------------------------------------------------------
    program
        .command('devtools-uninstall <platform> <mdkVersion>',  '', {noHelp:true })
        .alias('tu')
        .description('uninstall development tools.')
        .option('-d, --dependencies', "Remove dependencies")
        .action(function (platform, mdkVersion, options) {
            if(typeof options.dependencies === 'undefined') {
                options.dependencies = false;
            }
            devtools.install.uninstall(platform, mdkVersion, options.dependencies, function (err) {
                if (err) {
                    exitWithMessage('Uninstallation failed: ' + err, 1);
                }
                else {
                    exitWithMessage('Uninstallation success.', 0);
                }
            });
        }).on('--help', function () {
        });

    program
        .command('tools-version <mdkVersion>',   '', {noHelp:true })
        .alias('tv')
        .option('-f, --forceUpdate', 'Force to update MDK Versions from server')
        .description('Show the devtools version associated to the given MDK version')
        .action(function (mdkVersion, options) {
            if(typeof options.forceUpdate === 'undefined') {
                options.forceUpdate = false;
            }
            devtools.specs.get(mdkVersion, options.forceUpdate, function (err, devtoolVersionObject) {
                if (err) {
                    exitWithMessage('Fail to find devtool version for mdk ' + mdkVersion + ': ' + err, 1);
                }
                else {
                    //Check result
                    assert.equal(typeof devtoolVersionObject, 'object');

                    console.log(clc.bold('Devtools version for MDK version ' + mdkVersion + ' : ') + devtoolVersionObject.version);
                    printVersionNotice(function(){
						process.exit(0);
					});
                }
            });
        }).on('--help', function () {
            console.log("  Arguments:\n");

            console.log(clc.bold("     version"));
            console.log("        The MDK version whose devtools version will be displayed" +
                clc.italic("        Example : 6.0.1"));
        });

// GENERIC ------------------------------------------------------------------
	
	program
		.command('version', '')
        .alias('v')
		.description('Display the current MDK CLI version')
		.option('-p, --porcelain', 'Procelain command ot use in programs')
		.action(function(options) {
			if (options.porcelain){
				console.log(packageJS.version);
				process.exit(0);
			}
			
			console.log("Version " + packageJS.version);
			printVersionNotice(function(){
				process.exit(0);
			});
		});
	
	program
        .command('*', '', {noHelp:true })
        .action(function (env) {
            console.log(clc.red.bold("'" + env + "' is not a valid command."));
            console.log();
            program.help();
        });

    config.get('mdk_analytics_enabled',function(err, res) {
        if (res === undefined)
        {
            config.set('mdk_analytics_enabled',"true",function(err) {
                mdkLog.separator();
                mdkLog.notice('MDK CLI collects data about the way you use it in order for us to always make it better.');
                mdkLog.notice('You can disable this behavior by running the following command : "mdk config-set mdk_analytics_enabled false"');
                mdkLog.separator();
                
                read({prompt: 'Press Enter to continue', silent: false}, function (err, result) {
                    program.parse(process.argv);
                   return printFullNotice();
                });
            });
        }
        else {
            program.parse(process.argv);
            return printFullNotice();
        }
    });
}

function printFullNotice(){
    if (program.rawArgs.length <= 2) { // no args
        console.log("\n"+
            clc.red("  8888ba.88ba  888888ba  dP     dP \n") +
            clc.red("  88  `8b  `8b 88    `8b 88   .d8' \n") +
            clc.red("  88   88   88 88     88 88aaa8P'  \n") +
            clc.red("  88   88   88 88     88 88   `8b. \n") +
            clc.red("  88   88   88 88    .8P 88     88 \n") +
            clc.red("  dP   dP   dP 8888888P  dP     dP  " + "- CLI (version :"+ packageJS.version + ")\n"));
        mdkQuickNotice();
        program.help();
		
		printVersionNotice(function(){
			process.exit(0);
		});
	}
}



/**
 * Exit the program with a custom message. A notice can also be added
 * to inform the user of what to do next.
 * @param msg The message to display
 * @param code The exit code
 * @param noticeCallback An optional notice to inform the used of
 * what to do now
 */
function exitWithMessage(msg, code, noticeCallback) {
    console.log();
    if ( code === 0 && msg) {
        console.log(clc.green.bold('[Success] ') + ' ' + msg);
    } else {
        console.log(clc.red.bold('[Error] ') + ' ' + msg );
    }
    if(typeof noticeCallback != 'undefined') {
        noticeCallback();
    }

    console.log();

	printVersionNotice(function(){
		process.exit(code);
	});
}

exports.mdk = mdkThis;


/*******************************************
 *  NOTICES :
 *  Notices to be displayed to help the user
 *******************************************/
 var printVersionNotice = function(callback){
	var command = 'npm' + ( /^win/.test(process.platform) ? ".cmd" : "") + " show mdk-cli version";
	
	// exec(command, {timeout:4000}, function(err, stdout, stderr){
	// 	if (err || stderr !== ''){
	// 		return callback();
	// 	}else if ( semver.lt(packageJS.version, stdout) ){
	// 		var horizontal = "";
	// 		for (var i = 0; i < 41; i++){
	// 			horizontal = horizontal + "\u2550";
	// 		}
	// 		console.log();
	// 		console.log( "   \u2554" + horizontal + '\u2557');
	// 		console.log('   \u2551  Update available : ' + clc.green(stdout.replace(/\n/g, '')) + ' (' + packageJS.version + ')      \u2551');
	// 		console.log('   \u2551  Please run ' + clc.blueBright('npm i -g mdk-cli') + ' to update  \u2551');
	// 		console.log( "   \u255A" + horizontal + '\u255D');
	// 		console.log();
	// 		return callback();
	// 	}else{
	// 		return callback();
	// 	}
	// });
    var child = require('child_process').spawn(command, {timeout:4000});
    var output = '' ;
    
    child.on('error',function(err) {
        return callback();
    });
    
    child.stdout.on('data', function(data) {
        output += data;    
    });
    
    child.on('close', function (code) {
        if ( semver.lt(packageJS.version, output) ){
			var horizontal = "";
			for (var i = 0; i < 41; i++){
				horizontal = horizontal + "\u2550";
			}
			console.log();
			console.log( "   \u2554" + horizontal + '\u2557');
			console.log('   \u2551  Update available : ' + clc.green(output.replace(/\n/g, '')) + ' (' + packageJS.version + ')      \u2551');
			console.log('   \u2551  Please run ' + clc.blueBright('npm i -g mdk-cli') + ' to update  \u2551');
			console.log( "   \u255A" + horizontal + '\u255D');
			console.log();
			return callback();
		}else{
			return callback();
		}
    });
 };
 
var mdkTemplatesSuccessNotice = function () {
    console.log();
    mdkLog.separator();
    mdkLog.notice("Create a MDK project", "Use a template listed above to create a new MDK project");
    mdkLog.notice("Create a project with the command : " + clc.bold("mdk create [-t <templateName>][-v <templateVersion>] <applicationId>"));
    mdkLog.notice("where  : ");
    mdkLog.notice("  * " + clc.bold("applicationId") +  " is the unique application identifier of your project (mandatory)");
    mdkLog.notice("  * " + clc.bold("templateName") +  " is the template name to use. If not specified, the default template will be used (optional)");
    mdkLog.notice("  * " + clc.bold("templateVersion") +  " is the template version to use. If not specified, the last version will be used (optional)");
    mdkLog.separator();
    console.log();
};


var mdkToolsCheckFailedNotice = function(platform, mdkVersion) {
    console.log();
    mdkLog.separator();
    mdkLog.notice("Check failed", "Try to fix the issues with command '"+ clc.bold("mdk tools-install -v " + mdkVersion + " " + platform) +  "'");
    mdkLog.separator();
    console.log();
};

function mdkCreateHelpNotice () {
    console.log();
    mdkLog.separator();
    mdkLog.notice("You should use " + clc.bold("mdk templates [-a]") + " to choose a ");
    mdkLog.notice("specific template and/or a version to use");
    mdkLog.separator();
    console.log();
}

function mdkQuickNotice () {
    console.log();
    console.log(clc.bold.cyan("Quick notice :"));
    console.log("  1. Install a MDK environment with " + clc.bold("mdk tools-install android") + " or/and " + clc.bold("mdk tools-install ios") + " or/and " + clc.bold("mdk tools-install html5"));
    console.log("  2. Check your environment is properly installed with " + clc.bold("mdk tools-check android") + " or/and " + clc.bold("mdk tools-check ios") + " or/and " + clc.bold("mdk tools-check html5"));
    console.log("  3. Create a new MDK project with " + clc.bold("mdk create <applicationId> -p <platforms>") + " (where platforms could be 'android', 'ios', 'html5', 'win8' or a comma separated list of platforms ");
    console.log("     "+clc.italic("Example : mdk create com.soprasteria.myapp -p android,ios,html5,win8"));
    console.log("  4. Build your platform with " + clc.bold("mdk platform-build android") + " or/and " + clc.bold("mdk platform-build ios")+ " or/and " + clc.bold("mdk platform-build html5"));
    console.log("  5. Open your project and develop ;) ");
    console.log();
    mdkLog.separator();
} at SyntaxError: Unexpected token (36:4)
    at Parser.pp$4.raise (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:2221:15)
    at Parser.pp.unexpected (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:603:10)
    at Parser.pp$2.parseBindingAtom (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:1417:12)
    at Parser.parseBindingAtom (/root/ExpoSE/lib/Tropigate/bin/FunctionSignatures.js:49:30)
    at Parser.pp$1.parseVarId (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:1049:20)
    at Parser.pp$1.parseVar (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:1032:14)
    at Parser.pp$1.parseVarStatement (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:917:10)
    at Parser.pp$1.parseStatement (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:706:19)
    at Parser.parseStatement (/root/ExpoSE/lib/Tropigate/bin/Statements.js:104:30)
    at Parser.pp$1.parseTopLevel (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:638:25)
*-- Replay with NO_COMPILE=1 expoSE replay '/root/ExpoSE/lib/Harness/src/harness.js' '{"_bound":0}'
*-- Coverage Data
*- File /root/ExpoSE/lib/Harness/src/harness.js. Coverage (Term): 18% Coverage (LOC): 24%
*- File /root/ExpoSE/lib/S$/bin/symbols.js. Coverage (Term): 16% Coverage (LOC): 34%
*- Re-run with EXPOSE_PRINT_COVERAGE=1 to print line by line coverage information
** ExpoSE Finished. 1 paths with 1 errors **
