/root/Targets/code2doc
└─┬ code2doc@0.1.4 
  ├── async@1.5.2 
  ├── commander@2.11.0 
  └─┬ swig@1.4.2 
    ├─┬ optimist@0.6.1 
    │ ├── minimist@0.0.10 
    │ └── wordwrap@0.0.3 
    └─┬ uglify-js@2.4.24 
      ├── async@0.2.10 
      ├─┬ source-map@0.1.34 
      │ └── amdefine@1.0.1 
      ├── uglify-to-browserify@1.0.2 
      └─┬ yargs@3.5.4 
        ├── camelcase@1.2.1 
        ├── decamelize@1.2.0 
        ├── window-size@0.1.0 
        └── wordwrap@0.0.2 

Setup Done exists, not setting up
:../FeatureTester/libs/:/root/Targets/code2doc/node_modules
Set Default Z3_PATH to ./node_modules/z3javascript/bin/libz3.so
ExpoSE Master: /root/ExpoSE/lib/Harness/src/harness.js max concurrent: 16 max paths: 1000000
Setting timeout to 900000
*** [0 done /0 queued / 1 running / 0 errors / 0% coverage ] ****** [0 done /0 queued / 1 running / 0 errors / 0% coverage ] ****** [1 done /0 queued / 0 running / 1 errors / 33% coverage ] ***
*-- Stat Module Output --*
*-- concretizations: ["defineProperty","bound log","call","reduce","isArray","max","Array","apply","pop","sort"]
*-- Stat Module Done --*
*-- Test Case {"_bound":0,"Switcher":false,"Target_Switch_Base":0} start 0.0394 took 169.2686s
*-- Errors occured in test {"_bound":0,"Switcher":false,"Target_Switch_Base":0}
* Error: TypeError: Function.prototype.apply was called on undefined, which is a undefined and not a function
* Error: Tropigate failed because SyntaxError: The keyword 'interface' is reserved (46:20) on program /**
 * Created by CoderQ on 2015/8/23.
 */

var async = require('async');

module.exports = function (node, host, callback, scope) {
    var actions = [];
    // 解析文档标题块
    actions.push(function (cb) {
        var preg = /^\/\*\*\s*([^*]|(\*+[^\/]))+\*\//;
        var preg_author = /Author\:\s*([^\r\n]+)/;
        var preg_date = /Date\:\s*([^\r\n]+)/;

        var match = node.content.match(preg);
        if (match) {
            match = match[0];
            var info = match.replace(/\/\*\*\s+\*\s+|\s+\*\//, '').split(/\s+\*\s+\*\s+/);
            node.head = {};
            node.head.title = info[0];
            node.head.description = info[1].split(/\s+\*\s+/);
            var author_match = info[2].match(preg_author);
            node.head.author = author_match && author_match[1];
            var date_match = info[2].match(preg_date);
            node.head.date = date_match && date_match[1];
        }
        cb(null);
    });
    // 解析接口信息
    actions.push(function (cb) {
        var preg = /\/\*\*\s*([^*]|(\*+[^\/]))+\*\//g;
        var preg_url = /@interface\s+([^\r\n]+)/;
        var preg_method = /@method\s+([^\r\n]+)/;
        var preg_params = /@param\s+[^\s]+\s+[^\r\n]+/g;
        var preg_return = /@return\s+([^\r\n]+)/;

        var matches = node.content.match(preg);
        if (matches) {
            node.interfaces = matches.map(function (match) {
                var info = match.replace(/\/\*\*\s+\*\s+|\s+\*\//, '').split(/\s+\*\s+\*\s+/);
                var url_match = info[2].match(preg_url);
                var method_match = info[2].match(preg_method);
                var params_match = info[2].match(preg_params);
                var return_match = info[2].match(preg_return);

                var interface = {};
                interface.name = info[0];
                interface.description = info[1].split(/\s+\*\s+/);
                interface.url = url_match && url_match[1].replace(/\{\!host\}/, host);
                interface.method = method_match && method_match[1];
                interface.params = params_match && params_match.map(function (match) {
                    var param_info = match.replace(/@param\s+/, '').split(' ');
                    var param_type = param_info.shift().replace(/[\{\}]/g, '');
                    var param_name = param_info.shift();
                    var param_description = param_info.join(' ');

                    return {
                        name: param_name,
                        type: param_type,
                        description: param_description
                    };
                });
                interface.return = return_match && return_match[1];

                return interface;
            }).filter(function (item) {
                return item.url;
            });
        }
        cb(null);
    });
    async.parallel(actions, function (err) {
        if (err) throw err;
        callback && callback.call(scope, node);
    });
}; at SyntaxError: The keyword 'interface' is reserved (46:20)
    at Parser.pp$4.raise (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:2221:15)
    at Parser.pp$3.parseIdent (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:2182:14)
    at Parser.parseBindingAtom (/root/ExpoSE/lib/Tropigate/bin/FunctionSignatures.js:41:34)
    at Parser.pp$1.parseVarId (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:1049:20)
    at Parser.pp$1.parseVar (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:1032:14)
    at Parser.pp$1.parseVarStatement (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:917:10)
    at Parser.pp$1.parseStatement (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:706:19)
    at Parser.parseStatement (/root/ExpoSE/lib/Tropigate/bin/Statements.js:104:30)
    at Parser.pp$1.parseBlock (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:981:25)
    at Parser.pp$3.parseFunctionBody (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:2105:24)
*-- Replay with NO_COMPILE=1 expoSE replay '/root/ExpoSE/lib/Harness/src/harness.js' '{"_bound":0}'
*-- Coverage Data
*- File /root/ExpoSE/lib/Harness/src/harness.js. Coverage (Term): 39% Coverage (LOC): 43%
*- File /root/ExpoSE/lib/S$/bin/symbols.js. Coverage (Term): 19% Coverage (LOC): 37%
*- File /root/Targets/code2doc/node_modules/code2doc/index.js. Coverage (Term): 78% Coverage (LOC): 84%
*- File /root/Targets/code2doc/node_modules/async/lib/async.js. Coverage (Term): 21% Coverage (LOC): 27%
*- File /root/Targets/code2doc/node_modules/commander/index.js. Coverage (Term): 29% Coverage (LOC): 36%
*- File /root/Targets/code2doc/node_modules/code2doc/helper/index.js. Coverage (Term): 52% Coverage (LOC): 60%
*- File /root/Targets/code2doc/node_modules/swig/index.js. Coverage (Term): 95% Coverage (LOC): 100%
*- File /root/Targets/code2doc/node_modules/swig/lib/swig.js. Coverage (Term): 17% Coverage (LOC): 26%
*- File /root/Targets/code2doc/node_modules/swig/lib/utils.js. Coverage (Term): 26% Coverage (LOC): 33%
*- File /root/Targets/code2doc/node_modules/swig/lib/tags/index.js. Coverage (Term): 99% Coverage (LOC): 100%
*- File /root/Targets/code2doc/node_modules/swig/lib/tags/autoescape.js. Coverage (Term): 28% Coverage (LOC): 52%
*- File /root/Targets/code2doc/node_modules/swig/lib/tags/block.js. Coverage (Term): 37% Coverage (LOC): 62%
*- File /root/Targets/code2doc/node_modules/swig/lib/tags/else.js. Coverage (Term): 27% Coverage (LOC): 55%
*- File /root/Targets/code2doc/node_modules/swig/lib/tags/elseif.js. Coverage (Term): 35% Coverage (LOC): 70%
*- File /root/Targets/code2doc/node_modules/swig/lib/tags/if.js. Coverage (Term): 10% Coverage (LOC): 18%
*- File /root/Targets/code2doc/node_modules/swig/lib/tags/extends.js. Coverage (Term): 68% Coverage (LOC): 88%
*- File /root/Targets/code2doc/node_modules/swig/lib/tags/filter.js. Coverage (Term): 13% Coverage (LOC): 21%
*- File /root/Targets/code2doc/node_modules/swig/lib/filters.js. Coverage (Term): 11% Coverage (LOC): 24%
*- File /root/Targets/code2doc/node_modules/swig/lib/dateformatter.js. Coverage (Term): 19% Coverage (LOC): 55%
*- File /root/Targets/code2doc/node_modules/swig/lib/tags/for.js. Coverage (Term): 7% Coverage (LOC): 12%
*- File /root/Targets/code2doc/node_modules/swig/lib/tags/import.js. Coverage (Term): 9% Coverage (LOC): 15%
*- File /root/Targets/code2doc/node_modules/swig/lib/tags/include.js. Coverage (Term): 9% Coverage (LOC): 14%
*- File /root/Targets/code2doc/node_modules/swig/lib/tags/macro.js. Coverage (Term): 11% Coverage (LOC): 19%
*- File /root/Targets/code2doc/node_modules/swig/lib/tags/parent.js. Coverage (Term): 12% Coverage (LOC): 23%
*- File /root/Targets/code2doc/node_modules/swig/lib/tags/raw.js. Coverage (Term): 32% Coverage (LOC): 58%
*- File /root/Targets/code2doc/node_modules/swig/lib/tags/set.js. Coverage (Term): 9% Coverage (LOC): 12%
*- File /root/Targets/code2doc/node_modules/swig/lib/tags/spaceless.js. Coverage (Term): 22% Coverage (LOC): 38%
*- File /root/Targets/code2doc/node_modules/swig/lib/parser.js. Coverage (Term): 3% Coverage (LOC): 11%
*- File /root/Targets/code2doc/node_modules/swig/lib/lexer.js. Coverage (Term): 58% Coverage (LOC): 82%
*- File /root/Targets/code2doc/node_modules/swig/lib/loaders/index.js. Coverage (Term): 96% Coverage (LOC): 100%
*- File /root/Targets/code2doc/node_modules/swig/lib/loaders/filesystem.js. Coverage (Term): 40% Coverage (LOC): 48%
*- File /root/Targets/code2doc/node_modules/swig/lib/loaders/memory.js. Coverage (Term): 20% Coverage (LOC): 17%
*- Re-run with EXPOSE_PRINT_COVERAGE=1 to print line by line coverage information
** ExpoSE Finished. 1 paths with 1 errors **
