/root/Targets/fc-er
└─┬ fc-er@1.2.9 
  ├── amdefine@1.0.1 
  ├── eoo@0.1.3 
  └── fc-mini-event@1.1.4 

Setup Done exists, not setting up
:../FeatureTester/libs/:/root/Targets/fc-er/node_modules
Set Default Z3_PATH to ./node_modules/z3javascript/bin/libz3.so
ExpoSE Master: /root/ExpoSE/lib/Harness/src/harness.js max concurrent: 16 max paths: 1000000
Setting timeout to 900000
*** [0 done /0 queued / 1 running / 0 errors / 0% coverage ] ****** [0 done /0 queued / 1 running / 0 errors / 0% coverage ] ****** [1 done /0 queued / 0 running / 1 errors / 30% coverage ] ***
*-- Stat Module Output --*
*-- concretizations: ["defineProperty","bound log","isArray","apply","join"]
*-- Stat Module Done --*
*-- Test Case {"_bound":0} start 0.0521 took 4.9206s
*-- Errors occured in test {"_bound":0}
* Error: Tropigate failed because SyntaxError: Unexpected token (19:8) on program var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

if (typeof define !== 'function') {
    var define = require('amdefine')(module);
}

define(function (require) {
    'use strict';

    var URL = require('./URL');
    var config = require('./config');
    var util = require('./util');
    var assert = require('./assert');
    var EventTarget = require('fc-mini-event/EventTarget');
    var Permission = require('./permission').Permission;
    var router = require('./router');
    var canUseDOM = require('./ExecutionEnvironment').canUseDOM;

    var removeChildAction = function removeChildAction(controller, container, targetContext) {
        var info = controller.childActionMapping[container.id];
        if (!info) {
            return;
        }

        controller.childActionMapping[container.id] = undefined;
        if (info.hijack) {
            if (container.removeEventListener) {
                container.removeEventListener('click', info.hijack, false);
            } else {
                container.detachEvent('onclick', info.hijack);
            }
        }

        if (info.action) {
            targetContext = targetContext || {
                url: null,
                referrer: info.url,
                container: container.id,
                isChildAction: true
            };
            var eventBus = controller.getEventBus();
            eventBus && eventBus.fire('leaveaction', {
                controller: controller,
                action: info.action,
                to: targetContext
            });
        }

        if (typeof info.action.leave === 'function') {
            info.action.leave();
        }
    };

    var addChildAction = function addChildAction(controller, container, action, hijack, context) {
        removeChildAction(controller, container, context);

        if (container.addEventListener) {
            container.addEventListener('click', hijack, false);
        } else {
            container.attachEvent('onclick', hijack);
        }

        controller.childActionMapping[container.id] = {
            url: context.url,
            container: container.id,
            action: action,
            hijack: hijack
        };

        if (action instanceof EventTarget) {
            // 在Action销毁的时候要取消掉
            action.on('leave', function () {
                removeChildAction(controller, container);
            });
        }
    };

    var Controller = function (_EventTarget) {
        _inherits(Controller, _EventTarget);

        function Controller() {
            _classCallCheck(this, Controller);

            var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Controller).call(this));

            _this.childActionMapping = {};
            _this.currentURL = null;
            _this.currentAction = null;
            _this.globalActionLoader = null;
            _this.childActionLoaders = {};
            return _this;
        }

        _createClass(Controller, [{
            key: 'registerAction',
            value: function registerAction(actionConfigs) {
                var main = require('./main');
                main.registerAction(actionConfigs);
            }
        }, {
            key: 'getDefaultTitle',
            value: function getDefaultTitle() {
                return this.defaultTitle;
            }
        }, {
            key: 'setDefaultTitle',
            value: function setDefaultTitle(title) {
                this.defaultTitle = title;
            }
        }, {
            key: 'setErContext',
            value: function setErContext(erContext) {
                this.erContext = erContext;
            }
        }, {
            key: 'getErContext',
            value: function getErContext() {
                return this.erContext;
            }
        }, {
            key: 'getRouter',
            value: function getRouter() {
                return this.erContext && this.erContext.getRouter();
            }
        }, {
            key: 'setRouter',
            value: function setRouter(router) {
                this.erContext && this.erContext.setRouter(router);
            }
        }, {
            key: 'getLocator',
            value: function getLocator() {
                return this.erContext && this.erContext.getLocator();
            }
        }, {
            key: 'setLocator',
            value: function setLocator(locator) {
                this.erContext && this.erContext.setLocator(locator);
            }
        }, {
            key: 'getEventBus',
            value: function getEventBus() {
                return this.erContext && this.erContext.getEventBus();
            }
        }, {
            key: 'setEventBus',
            value: function setEventBus(eventBus) {
                this.erContext && this.erContext.setEventBus(eventBus);
            }
        }, {
            key: 'getPermissionProvider',
            value: function getPermissionProvider() {
                return this.erContext && this.erContext.getPermissionProvider();
            }
        }, {
            key: 'setPermissionProvider',
            value: function setPermissionProvider(permissionProvider) {
                this.erContext && this.erContext.setPermissionProvider(permissionProvider);
            }
        }, {
            key: 'getMainContainer',
            value: function getMainContainer() {
                return this.mainContainer || config.mainElement;
            }
        }, {
            key: 'setMainContainer',
            value: function setMainContainer(mainContainer) {
                this.mainContainer = mainContainer;
            }
        }, {
            key: 'getNoAuthorityLocation',
            value: function getNoAuthorityLocation() {
                return this.noAuthorityLocation || config.noAuthorityLocation;
            }
        }, {
            key: 'setNoAuthorityLocation',
            value: function setNoAuthorityLocation(noAuthorityLocation) {
                this.noAuthorityLocation = noAuthorityLocation;
            }
        }, {
            key: 'getNotFoundLocation',
            value: function getNotFoundLocation() {
                return this.notFoundLocation || config.notFoundLocation;
            }
        }, {
            key: 'setNotFoundLocation',
            value: function setNotFoundLocation(notFoundLocation) {
                this.notFoundLocation = notFoundLocation;
            }
        }, {
            key: 'start',
            value: function start() {
                if (canUseDOM && !this.getDefaultTitle()) {
                    this.setDefaultTitle(config.systemName || global.document.title);
                }

                var router = this.getRouter();
                router && router.setBackup(util.bind(this.renderAction, this));
            }
        }, {
            key: 'findActionConfig',
            value: function findActionConfig(actionContext) {
                var main = require('./main');
                return main.findActionConfig(actionContext);
            }
        }, {
            key: 'resolveActionConfig',
            value: function resolveActionConfig(actionConfig, actionContext) {
                return actionConfig;
            }
        }, {
            key: 'checkAuthority',
            value: function checkAuthority(actionConfig, actionContext) {
                var authority = actionConfig.authority;
                if (!authority) {
                    return true;
                }

                var permissionProvider = this.getPermissionProvider();
                if (!permissionProvider) {
                    return true;
                }

                if (typeof authority === 'function') {
                    return authority(actionContext, actionConfig, permissionProvider);
                }

                if (typeof authority === 'string') {
                    authority = authority.split('|');
                }

                for (var i = 0; i < authority.length; i++) {
                    if (permissionProvider.isAllow(util.trim(authority[i]))) {
                        return true;
                    }
                }

                return false;
            }
        }, {
            key: 'findEligibleActionConfig',
            value: function findEligibleActionConfig(actionContext) {
                var actionConfig = this.findActionConfig(actionContext);
                var eventBus = this.getEventBus();

                if (actionConfig && actionConfig.movedTo) {
                    eventBus && eventBus.fire('actionmoved', {
                        controller: this,
                        url: actionContext.url,
                        config: actionConfig,
                        movedTo: actionConfig.movedTo
                    });
                    actionContext.originalURL = actionContext.url;
                    actionContext.url = URL.parse(actionConfig.movedTo);

                    return this.findEligibleActionConfig(actionContext);
                }

                if (actionConfig && actionConfig.childActionOnly && !actionContext.isChildAction) {
                    actionConfig = null;
                }

                if (!actionConfig) {
                    eventBus && eventBus.fire('actionnotfound', util.mix({
                        controller: this,
                        failType: 'NotFound',
                        reason: 'Not found'
                    }, actionContext));

                    actionContext.originalURL = actionContext.url;
                    actionContext.url = URL.parse(this.getNotFoundLocation());

                    if (!this.findActionConfig(actionContext)) {
                        return null;
                    }

                    return this.findEligibleActionConfig(actionContext);
                }

                var hasAuthority = this.checkAuthority(actionConfig, actionContext);
                if (!hasAuthority) {
                    eventBus && eventBus.fire('permissiondenied', util.mix({
                        controller: this,
                        failType: 'PermissionDenied',
                        reason: 'Permission denied',
                        config: actionConfig
                    }, actionContext));

                    var location = actionConfig.noAuthorityLocation || this.getNoAuthorityLocation();
                    actionContext.originalURL = actionContext.url;
                    actionContext.url = URL.parse(location);
                    return this.findEligibleActionConfig(actionContext);
                }

                return actionConfig;
            }
        }, {
            key: 'loadAction',
            value: function loadAction(actionContext) {
                var _this2 = this;

                var actionConfig = this.findEligibleActionConfig(actionContext);
                actionConfig = this.resolveActionConfig(actionConfig, actionContext);
                var eventBus = this.getEventBus();

                if (!actionConfig) {
                    var failed = new Promise(function (resolve, reject) {
                        reject('no action configured for url ' + actionContext.url.getPath());
                    });

                    return failed;
                }

                if (actionConfig.title) {
                    actionContext.title = actionConfig.title;
                    actionContext.args.title = actionConfig.title;
                }

                if (actionConfig.documentTitle) {
                    actionContext.documentTitle = actionConfig.documentTitle;
                    actionContext.args.documentTitle = actionConfig.documentTitle;
                }

                if (actionConfig.args) {
                    for (var name in actionConfig.args) {
                        if (actionConfig.args.hasOwnProperty(name)) {
                            if (!actionContext.args.hasOwnProperty(name)) {
                                actionContext.args[name] = actionConfig.args[name];
                            }
                            if (!actionContext.hasOwnProperty(name)) {
                                actionContext[name] = actionConfig.args[name];
                            }
                        }
                    }
                }

                var loading = {};
                var loader = new Promise(function (resolve, reject) {
                    loading.resolve = resolve;
                    loading.reject = reject;
                });

                var aborted = false;
                loader.abort = function () {
                    if (!aborted) {
                        aborted = true;
                        eventBus && eventBus.fire('actionabort', util.mix({
                            controller: _this2
                        }, actionContext));
                    }
                };

                if (!actionContext.isChildAction) {
                    this.currentURL = actionContext.url;
                }

                var callback = function callback(SpecificAction) {
                    if (aborted) {
                        return;
                    }

                    if (!SpecificAction) {
                        var reason = 'No action implement for ' + actionConfig.type;
                        var error = util.mix({
                            controller: _this2,
                            failType: 'NoModule',
                            config: actionConfig,
                            reason: reason
                        }, actionContext);

                        eventBus && eventBus.fire('actionfail', error);
                        eventBus && eventBus.notifyError(error);
                        loading.reject(reason);
                        return;
                    }

                    eventBus && eventBus.fire('actionloaded', {
                        controller: _this2,
                        url: actionContext.url,
                        config: actionConfig,
                        action: SpecificAction
                    });

                    if (typeof SpecificAction === 'function') {
                        loading.resolve({
                            action: new SpecificAction(),
                            actionContext: actionContext
                        });
                    } else if (typeof SpecificAction.createRuntimeAction === 'function') {
                        var resolveActionInstance = function resolveActionInstance(args) {
                            var action = args.action;

                            if (!action) {
                                var _reason = 'Action factory returns non-action';
                                var _error = util.mix({
                                    controller: _this2,
                                    failType: 'InvalidFactory',
                                    config: actionConfig,
                                    reason: _reason,
                                    action: action
                                }, actionContext);
                                eventBus && eventBus.fire('actionfail', _error);
                                eventBus && eventBus.notifyError(_error);

                                loading.reject(_reason);
                            } else {
                                loading.resolve({ action: action, actionContext: actionContext });
                            }
                        };
                        var actionFactoryProduct = SpecificAction.createRuntimeAction(actionContext);
                        Promise.resolve(actionFactoryProduct).then(resolveActionInstance);
                    } else {
                        loading.resolve({
                            action: SpecificAction,
                            actionContext: actionContext
                        });
                    }
                };

                if (typeof actionConfig.type === 'string') {
                    Controller.getRequire()([actionConfig.type], callback);
                } else {
                    callback(actionConfig.type);
                }

                return loader;
            }
        }, {
            key: 'enterAction',
            value: function enterAction(action, actionContext) {
                var _this3 = this;

                var eventBus = this.getEventBus();

                if (!actionContext.isChildAction) {
                    if (actionContext.url !== this.currentURL) {
                        return;
                    }

                    if (this.currentAction) {
                        eventBus && eventBus.fire('leaveaction', {
                            controller: this,
                            action: this.currentAction,
                            to: util.mix({}, actionContext)
                        });

                        if (typeof this.currentAction.leave === 'function') {
                            this.currentAction.leave();
                        }
                    }
                    this.currentAction = action;

                    if (global.document) {
                        global.document.title = actionContext.title || actionContext.documentTitle || this.getDefaultTitle();
                    }
                }

                eventBus && eventBus.fire('enteraction', util.mix({
                    controller: this,
                    action: action
                }, actionContext));

                var notifyEnterComplete = function notifyEnterComplete() {
                    eventBus && eventBus.fire('enteractioncomplete', util.mix({
                        controller: _this3,
                        action: action
                    }, actionContext));
                };

                var notifyEnterFail = function notifyEnterFail(reason) {
                    var message = '';
                    if (!reason) {
                        message = 'Invoke action.enter() causes error';
                    } else if (reason.message) {
                        message = reason.message;
                        if (reason.stack) {
                            message += '\n' + reason.stack;
                        }
                    } else if (JSON && typeof JSON.stringify === 'function') {
                        try {
                            message = JSON.stringify(reason);
                        } catch (parseJSONError) {
                            message = reason;
                        }
                    } else {
                        message = reason;
                    }

                    var error = util.mix({
                        failType: 'EnterFail',
                        reason: message
                    }, actionContext);

                    eventBus && eventBus.fire('enteractionfail', error);
                    eventBus && eventBus.notifyError(error);
                };

                var entering = action.enter(actionContext);
                entering.then(notifyEnterComplete, notifyEnterFail);

                return entering;
            }
        }, {
            key: 'forward',
            value: function forward(url, container, options, isChildAction) {
                var actionContext = {
                    url: url,
                    container: container,
                    isChildAction: !!isChildAction
                };
                var eventBus = this.getEventBus();

                if (isChildAction) {
                    var referrerInfo = this.childActionMapping[container];
                    actionContext.referrer = referrerInfo ? referrerInfo.url : null;
                } else {
                    actionContext.referrer = this.currentURL;
                }

                util.mix(actionContext, options);

                actionContext.args = util.mix({}, actionContext);
                util.mix(actionContext.args, url.getQuery());

                if (!isChildAction && this.rehydratedCurrentURL && this.rehydratedCurrentURL.getPath() === url.getPath()) {
                    actionContext.rehydratedModel = this.rehydratedModel;
                    this.rehydratedCurrentURL = null;
                    this.rehydratedModel = null;
                }
                actionContext.erContext = this.getErContext();

                eventBus && eventBus.fire('forwardaction', util.mix({ controller: this }, actionContext));
                var loader = this.loadAction(actionContext);
                assert.has(loader, 'loadAction should always return a Promise');

                return loader;
            }
        }, {
            key: 'renderAction',
            value: function renderAction(url) {
                var _this4 = this;

                if (typeof url === 'string') {
                    url = URL.parse(url);
                }
                if (this.globalActionLoader && typeof this.globalActionLoader.abort === 'function') {
                    this.globalActionLoader.abort();
                }

                if (this.currentAction && typeof this.currentAction.filterRedirect === 'function' && this.currentAction.filterRedirect(url) === false) {
                    return Promise.reject('Redirect aborted by previous action');
                }

                this.globalActionLoader = this.forward(url, this.getMainContainer(), null, false);
                var eventBus = this.getEventBus();

                return this.globalActionLoader.then(function (args) {
                    return _this4.enterAction.call(_this4, args.action, args.actionContext);
                }).then(null, function (error) {
                    eventBus && eventBus.notifyError(error);
                    throw error;
                });
            }
        }, {
            key: 'enterChildAction',
            value: function enterChildAction(action, actionContext) {
                this.childActionLoaders[actionContext.container] = null;

                var container = void 0;
                if (global.document && global.document.getElementById) {
                    container = global.document.getElementById(actionContext.container);
                }
                if (!container) {
                    return;
                }

                var locator = this.getLocator();
                var currentController = this;

                var redirect = function redirect(url, options, extra) {
                    options = options || {};
                    url = locator.resolveURL(url, options);

                    if (options.global) {
                        var globalRedirectPerformed = locator.redirect(url, options);
                        if (globalRedirectPerformed && container) {
                            removeChildAction(currentController, container);
                        }
                        return globalRedirectPerformed;
                    }

                    var childActionInfo = currentController.childActionMapping[actionContext.container];
                    var changed = url.toString() !== childActionInfo.url.toString();
                    var shouldPerformRedirect = changed || options.force;
                    if (shouldPerformRedirect) {
                        if (options.silent) {
                            childActionInfo.url = url;
                        } else {
                            currentController.renderChildAction(url, childActionInfo.container, extra);
                        }
                    }

                    return shouldPerformRedirect;
                };

                var isChildActionRedirected = function isChildActionRedirected(e) {
                    // 除低版本IE外，其它浏览器是可以在事件对象上加自定义属性的，IE每次都生成新的事件对象所以保留不了这些属性，
                    // 在这里优先用自定义属性控制，避免对DOM树无意义的遍历，只有在没有属性的时候，才向后兼容至DOM树的遍历
                    if (e.isChildActionRedirected) {
                        return true;
                    }

                    var innermostContainer = e.target || e.srcElement;
                    while (innermostContainer) {
                        // 是Action容器的元素肯定符合以下条件：
                        //
                        // - 有个`id`，因为没有`id`不能渲染子Action
                        // - 这个`id`在`childActionMapping`里是有对应的值的
                        if (innermostContainer.id && currentController.childActionMapping[innermostContainer.id]) {
                            break;
                        }

                        innermostContainer = innermostContainer.parentNode;
                    }
                    // 如果最接近被点击的链接的Action容器是不是当前的这个容器，就说明在当前容器和链接之间还有一层以上的子Action，
                    // 那么这个子Action肯定会处理掉这个链接的跳转，不需要这里处理了
                    if (innermostContainer.id !== actionContext.container) {
                        e.isChildActionRedirected = true;
                        return true;
                    }

                    return false;
                };

                // 需要把`container`上的链接点击全部拦截下来，如果是hash跳转，则转到controller上来
                var hijack = function hijack(e) {
                    // 下面两行是以主流浏览器为主，兼容IE的事件属性操作
                    e = e || global.window && global.window.event;
                    var target = e.target || e.srcElement;

                    // 担心有人在`<span>`之类的上面放`href`属性，还是判断一下标签
                    if (target.nodeName.toLowerCase() !== 'a') {
                        return;
                    }

                    // `<a>`元素也可能没有`href`属性
                    var href = target.getAttribute('href', 2) || '';
                    // 是hash跳转的链接就取消掉默认的跳转行为
                    if (href.charAt(0) !== '#') {
                        return;
                    }
                    // 如果有下面的子Action处理了跳转，那这里就啥也不干了
                    if (isChildActionRedirected(e)) {
                        return;
                    }

                    if (e.preventDefault) {
                        e.preventDefault();
                    } else {
                        e.returnValue = false;
                    }

                    // 转到`renderChildAction`上
                    var url = href.substring(1);

                    // 直接使用专供子Action上的`redirect`方法，
                    // 会自动处理`hijack`的解绑定、URL比对、进入子Action等事，
                    // 为免Action重写`redirect`方法，这里用闭包内的这个
                    var redirectAttributes = (target.getAttribute('data-redirect') || '').split(/[,\s]/);
                    var redirectOptions = {};
                    for (var i = 0; i < redirectAttributes.length; i++) {
                        var redirectAttributeName = util.trim(redirectAttributes[i]);
                        redirectOptions[redirectAttributeName] = true;
                    }
                    redirect(url, redirectOptions);
                };

                action.redirect = redirect;

                action.reload = function (extra) {
                    this.redirect(actionContext.url, { force: true }, extra);
                };

                action.back = function (defaultURL, extra) {
                    var referrer = this.context && this.context.referrer;
                    var url = referrer || defaultURL;
                    this.redirect(url, null, extra);
                };
                addChildAction(this, container, action, hijack, actionContext);

                return this.enterAction(action, actionContext);
            }
        }, {
            key: 'renderChildAction',
            value: function renderChildAction(url, container, options) {
                var _this5 = this;

                assert.has(container);

                if (typeof url === 'string') {
                    url = URL.parse(url);
                }

                var previousLoader = this.childActionLoaders[container];
                if (previousLoader && typeof previousLoader.abort === 'function') {
                    previousLoader.abort();
                }

                var actionInfo = this.childActionMapping[container];
                var previousAction = actionInfo && actionInfo.action;
                if (previousAction && typeof previousAction.filterRedirect === 'function' && previousAction.filterRedirect(url) === false) {
                    return Promise.reject('Redirect aborted by previous action');
                }

                var loader = this.forward(url, container, options, true);
                var events = this.getEventBus();
                var loadingChildAction = loader.then(function (args) {
                    return _this5.enterChildAction.call(_this5, args.action, args.actionContext);
                }).then(null, util.bind(events.notifyError, events));
                // `then`方法会返回一个新的`Promise`，但原来的`loader`上有个`abort`方法，要把这个方法留下来
                loadingChildAction.abort = loader.abort;
                this.childActionLoaders[container] = loadingChildAction;
                return loadingChildAction;
            }
        }, {
            key: 'rehydrate',
            value: function rehydrate(rehydratedState) {
                if (rehydratedState && rehydratedState.currentURL) {
                    this.rehydratedCurrentURL = URL.parse(rehydratedState.currentURL);
                    this.rehydratedModel = util.mix({}, rehydratedState.model, { url: this.rehydratedCurrentURL });
                }
            }
        }], [{
            key: 'getRequire',
            value: function getRequire() {
                return Controller.require || require;
            }
        }, {
            key: 'setRequire',
            value: function setRequire(require) {
                Controller.require = require;
            }
        }]);

        return Controller;
    }(EventTarget);

    var instance = new Controller();
    instance.Controller = Controller;

    return instance;
});
//# sourceMappingURL=data:application/json;base64,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RCtDO0FBRS9DLHlCQUFLLGVBQUwsR0FBdUIsS0FBSyxHQUFMLENBQVMsRUFBVCxFQUFhLGdCQUFnQixLQUFoQixFQUF1QixFQUFDLEtBQUssS0FBSyxvQkFBTCxFQUExQyxDQUF2QixDQUYrQztpQkFBbkQ7Ozs7eUNBTWlCO0FBQ2pCLHVCQUFPLFdBQVcsT0FBWCxJQUFzQixPQUF0QixDQURVOzs7O3VDQUlGLFNBQVM7QUFDeEIsMkJBQVcsT0FBWCxHQUFxQixPQUFyQixDQUR3Qjs7Ozs7TUExbkJQLGFBekVIOztBQXdzQnRCLFFBQUksV0FBVyxJQUFJLFVBQUosRUFBWCxDQXhzQmtCO0FBeXNCdEIsYUFBUyxVQUFULEdBQXNCLFVBQXRCLENBenNCc0I7O0FBMnNCdEIsV0FBTyxRQUFQLENBM3NCc0I7Q0FBbkIsQ0FBUCIsImZpbGUiOiJjb250cm9sbGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaWYgKHR5cGVvZiBkZWZpbmUgIT09ICdmdW5jdGlvbicpIHt2YXIgZGVmaW5lID0gcmVxdWlyZSgnYW1kZWZpbmUnKShtb2R1bGUpfVxuXG5kZWZpbmUoZnVuY3Rpb24gKHJlcXVpcmUpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBjb25zdCBVUkwgPSByZXF1aXJlKCcuL1VSTCcpO1xuICAgIGNvbnN0IGNvbmZpZyA9IHJlcXVpcmUoJy4vY29uZmlnJyk7XG4gICAgY29uc3QgdXRpbCA9IHJlcXVpcmUoJy4vdXRpbCcpO1xuICAgIGNvbnN0IGFzc2VydCA9IHJlcXVpcmUoJy4vYXNzZXJ0Jyk7XG4gICAgY29uc3QgRXZlbnRUYXJnZXQgPSByZXF1aXJlKCdmYy1taW5pLWV2ZW50L0V2ZW50VGFyZ2V0Jyk7XG4gICAgY29uc3QgUGVybWlzc2lvbiA9IHJlcXVpcmUoJy4vcGVybWlzc2lvbicpLlBlcm1pc3Npb247XG4gICAgY29uc3Qgcm91dGVyID0gcmVxdWlyZSgnLi9yb3V0ZXInKTtcbiAgICBjb25zdCBjYW5Vc2VET00gPSByZXF1aXJlKCcuL0V4ZWN1dGlvbkVudmlyb25tZW50JykuY2FuVXNlRE9NO1xuXG4gICAgY29uc3QgcmVtb3ZlQ2hpbGRBY3Rpb24gPSAoY29udHJvbGxlciwgY29udGFpbmVyLCB0YXJnZXRDb250ZXh0KSA9PiB7XG4gICAgICAgIGNvbnN0IGluZm8gPSBjb250cm9sbGVyLmNoaWxkQWN0aW9uTWFwcGluZ1tjb250YWluZXIuaWRdO1xuICAgICAgICBpZiAoIWluZm8pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRyb2xsZXIuY2hpbGRBY3Rpb25NYXBwaW5nW2NvbnRhaW5lci5pZF0gPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChpbmZvLmhpamFjaykge1xuICAgICAgICAgICAgaWYgKGNvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaW5mby5oaWphY2ssIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5kZXRhY2hFdmVudCgnb25jbGljaycsIGluZm8uaGlqYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbmZvLmFjdGlvbikge1xuICAgICAgICAgICAgdGFyZ2V0Q29udGV4dCA9IHRhcmdldENvbnRleHQgfHwge1xuICAgICAgICAgICAgICAgIHVybDogbnVsbCxcbiAgICAgICAgICAgICAgICByZWZlcnJlcjogaW5mby51cmwsXG4gICAgICAgICAgICAgICAgY29udGFpbmVyOiBjb250YWluZXIuaWQsXG4gICAgICAgICAgICAgICAgaXNDaGlsZEFjdGlvbjogdHJ1ZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50QnVzID0gY29udHJvbGxlci5nZXRFdmVudEJ1cygpO1xuICAgICAgICAgICAgZXZlbnRCdXMgJiYgZXZlbnRCdXMuZmlyZSgnbGVhdmVhY3Rpb24nLCB7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlcixcbiAgICAgICAgICAgICAgICBhY3Rpb246IGluZm8uYWN0aW9uLFxuICAgICAgICAgICAgICAgIHRvOiB0YXJnZXRDb250ZXh0XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgaW5mby5hY3Rpb24ubGVhdmUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGluZm8uYWN0aW9uLmxlYXZlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgYWRkQ2hpbGRBY3Rpb24gPSAoY29udHJvbGxlciwgY29udGFpbmVyLCBhY3Rpb24sIGhpamFjaywgY29udGV4dCkgPT4ge1xuICAgICAgICByZW1vdmVDaGlsZEFjdGlvbihjb250cm9sbGVyLCBjb250YWluZXIsIGNvbnRleHQpO1xuXG4gICAgICAgIGlmIChjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICAgICAgY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGlqYWNrLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb250YWluZXIuYXR0YWNoRXZlbnQoJ29uY2xpY2snLCBoaWphY2spO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udHJvbGxlci5jaGlsZEFjdGlvbk1hcHBpbmdbY29udGFpbmVyLmlkXSA9IHtcbiAgICAgICAgICAgIHVybDogY29udGV4dC51cmwsXG4gICAgICAgICAgICBjb250YWluZXI6IGNvbnRhaW5lci5pZCxcbiAgICAgICAgICAgIGFjdGlvbjogYWN0aW9uLFxuICAgICAgICAgICAgaGlqYWNrOiBoaWphY2tcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoYWN0aW9uIGluc3RhbmNlb2YgRXZlbnRUYXJnZXQpIHtcbiAgICAgICAgICAgIC8vIOWcqEFjdGlvbumUgOavgeeahOaXtuWAmeimgeWPlua2iOaOiVxuICAgICAgICAgICAgYWN0aW9uLm9uKCdsZWF2ZScsICgpID0+IHtcbiAgICAgICAgICAgICAgICByZW1vdmVDaGlsZEFjdGlvbihjb250cm9sbGVyLCBjb250YWluZXIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgY2xhc3MgQ29udHJvbGxlciBleHRlbmRzIEV2ZW50VGFyZ2V0IHtcbiAgICAgICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgICAgICBzdXBlcigpO1xuICAgICAgICAgICAgdGhpcy5jaGlsZEFjdGlvbk1hcHBpbmcgPSB7fTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFVSTCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRBY3Rpb24gPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5nbG9iYWxBY3Rpb25Mb2FkZXIgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5jaGlsZEFjdGlvbkxvYWRlcnMgPSB7fTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlZ2lzdGVyQWN0aW9uIChhY3Rpb25Db25maWdzKSB7XG4gICAgICAgICAgICBjb25zdCBtYWluID0gcmVxdWlyZSgnLi9tYWluJyk7XG4gICAgICAgICAgICBtYWluLnJlZ2lzdGVyQWN0aW9uKGFjdGlvbkNvbmZpZ3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0RGVmYXVsdFRpdGxlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVmYXVsdFRpdGxlO1xuICAgICAgICB9XG5cbiAgICAgICAgc2V0RGVmYXVsdFRpdGxlKHRpdGxlKSB7XG4gICAgICAgICAgICB0aGlzLmRlZmF1bHRUaXRsZSA9IHRpdGxlO1xuICAgICAgICB9XG5cbiAgICAgICAgc2V0RXJDb250ZXh0KGVyQ29udGV4dCkge1xuICAgICAgICAgICAgdGhpcy5lckNvbnRleHQgPSBlckNvbnRleHQ7XG4gICAgICAgIH1cblxuICAgICAgICBnZXRFckNvbnRleHQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lckNvbnRleHQ7XG4gICAgICAgIH1cblxuICAgICAgICBnZXRSb3V0ZXIoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lckNvbnRleHQgJiYgdGhpcy5lckNvbnRleHQuZ2V0Um91dGVyKCk7XG4gICAgICAgIH1cblxuICAgICAgICBzZXRSb3V0ZXIocm91dGVyKSB7XG4gICAgICAgICAgICB0aGlzLmVyQ29udGV4dCAmJiB0aGlzLmVyQ29udGV4dC5zZXRSb3V0ZXIocm91dGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldExvY2F0b3IoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lckNvbnRleHQgJiYgdGhpcy5lckNvbnRleHQuZ2V0TG9jYXRvcigpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2V0TG9jYXRvcihsb2NhdG9yKSB7XG4gICAgICAgICAgICB0aGlzLmVyQ29udGV4dCAmJiB0aGlzLmVyQ29udGV4dC5zZXRMb2NhdG9yKGxvY2F0b3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0RXZlbnRCdXMoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lckNvbnRleHQgJiYgdGhpcy5lckNvbnRleHQuZ2V0RXZlbnRCdXMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNldEV2ZW50QnVzKGV2ZW50QnVzKSB7XG4gICAgICAgICAgICB0aGlzLmVyQ29udGV4dCAmJiB0aGlzLmVyQ29udGV4dC5zZXRFdmVudEJ1cyhldmVudEJ1cyk7XG4gICAgICAgIH1cblxuICAgICAgICBnZXRQZXJtaXNzaW9uUHJvdmlkZXIoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lckNvbnRleHQgJiYgdGhpcy5lckNvbnRleHQuZ2V0UGVybWlzc2lvblByb3ZpZGVyKCk7XG4gICAgICAgIH1cblxuICAgICAgICBzZXRQZXJtaXNzaW9uUHJvdmlkZXIocGVybWlzc2lvblByb3ZpZGVyKSB7XG4gICAgICAgICAgICB0aGlzLmVyQ29udGV4dCAmJiB0aGlzLmVyQ29udGV4dC5zZXRQZXJtaXNzaW9uUHJvdmlkZXIocGVybWlzc2lvblByb3ZpZGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldE1haW5Db250YWluZXIoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tYWluQ29udGFpbmVyIHx8IGNvbmZpZy5tYWluRWxlbWVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIHNldE1haW5Db250YWluZXIobWFpbkNvbnRhaW5lcikge1xuICAgICAgICAgICAgdGhpcy5tYWluQ29udGFpbmVyID0gbWFpbkNvbnRhaW5lcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldE5vQXV0aG9yaXR5TG9jYXRpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ub0F1dGhvcml0eUxvY2F0aW9uIHx8IGNvbmZpZy5ub0F1dGhvcml0eUxvY2F0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgc2V0Tm9BdXRob3JpdHlMb2NhdGlvbihub0F1dGhvcml0eUxvY2F0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLm5vQXV0aG9yaXR5TG9jYXRpb24gPSBub0F1dGhvcml0eUxvY2F0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0Tm90Rm91bmRMb2NhdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm5vdEZvdW5kTG9jYXRpb24gfHwgY29uZmlnLm5vdEZvdW5kTG9jYXRpb247XG4gICAgICAgIH1cblxuICAgICAgICBzZXROb3RGb3VuZExvY2F0aW9uKG5vdEZvdW5kTG9jYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMubm90Rm91bmRMb2NhdGlvbiA9IG5vdEZvdW5kTG9jYXRpb247XG4gICAgICAgIH1cblxuICAgICAgICBzdGFydCgpIHtcbiAgICAgICAgICAgIGlmIChjYW5Vc2VET00gJiYgIXRoaXMuZ2V0RGVmYXVsdFRpdGxlKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldERlZmF1bHRUaXRsZShjb25maWcuc3lzdGVtTmFtZSB8fCBnbG9iYWwuZG9jdW1lbnQudGl0bGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCByb3V0ZXIgPSB0aGlzLmdldFJvdXRlcigpO1xuICAgICAgICAgICAgcm91dGVyICYmIHJvdXRlci5zZXRCYWNrdXAodXRpbC5iaW5kKHRoaXMucmVuZGVyQWN0aW9uLCB0aGlzKSk7XG4gICAgICAgIH1cblxuICAgICAgICBmaW5kQWN0aW9uQ29uZmlnIChhY3Rpb25Db250ZXh0KSB7XG4gICAgICAgICAgICBjb25zdCBtYWluID0gcmVxdWlyZSgnLi9tYWluJyk7XG4gICAgICAgICAgICByZXR1cm4gbWFpbi5maW5kQWN0aW9uQ29uZmlnKGFjdGlvbkNvbnRleHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzb2x2ZUFjdGlvbkNvbmZpZyhhY3Rpb25Db25maWcsIGFjdGlvbkNvbnRleHQpIHtcbiAgICAgICAgICAgIHJldHVybiBhY3Rpb25Db25maWc7XG4gICAgICAgIH1cblxuICAgICAgICBjaGVja0F1dGhvcml0eShhY3Rpb25Db25maWcsIGFjdGlvbkNvbnRleHQpIHtcbiAgICAgICAgICAgIGxldCBhdXRob3JpdHkgPSBhY3Rpb25Db25maWcuYXV0aG9yaXR5O1xuICAgICAgICAgICAgaWYgKCFhdXRob3JpdHkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgcGVybWlzc2lvblByb3ZpZGVyID0gdGhpcy5nZXRQZXJtaXNzaW9uUHJvdmlkZXIoKTtcbiAgICAgICAgICAgIGlmICghcGVybWlzc2lvblByb3ZpZGVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgYXV0aG9yaXR5ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF1dGhvcml0eShhY3Rpb25Db250ZXh0LCBhY3Rpb25Db25maWcsIHBlcm1pc3Npb25Qcm92aWRlcik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgYXV0aG9yaXR5ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGF1dGhvcml0eSA9IGF1dGhvcml0eS5zcGxpdCgnfCcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF1dGhvcml0eS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChwZXJtaXNzaW9uUHJvdmlkZXIuaXNBbGxvdyh1dGlsLnRyaW0oYXV0aG9yaXR5W2ldKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBmaW5kRWxpZ2libGVBY3Rpb25Db25maWcoYWN0aW9uQ29udGV4dCkge1xuICAgICAgICAgICAgbGV0IGFjdGlvbkNvbmZpZyA9IHRoaXMuZmluZEFjdGlvbkNvbmZpZyhhY3Rpb25Db250ZXh0KTtcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50QnVzID0gdGhpcy5nZXRFdmVudEJ1cygpO1xuXG4gICAgICAgICAgICBpZiAoYWN0aW9uQ29uZmlnICYmIGFjdGlvbkNvbmZpZy5tb3ZlZFRvKSB7XG4gICAgICAgICAgICAgICAgZXZlbnRCdXMgJiYgZXZlbnRCdXMuZmlyZSgnYWN0aW9ubW92ZWQnLCB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IHRoaXMsXG4gICAgICAgICAgICAgICAgICAgIHVybDogYWN0aW9uQ29udGV4dC51cmwsXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZzogYWN0aW9uQ29uZmlnLFxuICAgICAgICAgICAgICAgICAgICBtb3ZlZFRvOiBhY3Rpb25Db25maWcubW92ZWRUb1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGFjdGlvbkNvbnRleHQub3JpZ2luYWxVUkwgPSBhY3Rpb25Db250ZXh0LnVybDtcbiAgICAgICAgICAgICAgICBhY3Rpb25Db250ZXh0LnVybCA9IFVSTC5wYXJzZShhY3Rpb25Db25maWcubW92ZWRUbyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5maW5kRWxpZ2libGVBY3Rpb25Db25maWcoYWN0aW9uQ29udGV4dCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChhY3Rpb25Db25maWcgJiYgKGFjdGlvbkNvbmZpZy5jaGlsZEFjdGlvbk9ubHkgJiYgIWFjdGlvbkNvbnRleHQuaXNDaGlsZEFjdGlvbikpIHtcbiAgICAgICAgICAgICAgICBhY3Rpb25Db25maWcgPSBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWFjdGlvbkNvbmZpZykge1xuICAgICAgICAgICAgICAgIGV2ZW50QnVzICYmIGV2ZW50QnVzLmZpcmUoJ2FjdGlvbm5vdGZvdW5kJywgdXRpbC5taXgoe1xuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiB0aGlzLFxuICAgICAgICAgICAgICAgICAgICBmYWlsVHlwZTogJ05vdEZvdW5kJyxcbiAgICAgICAgICAgICAgICAgICAgcmVhc29uOiAnTm90IGZvdW5kJ1xuICAgICAgICAgICAgICAgIH0sIGFjdGlvbkNvbnRleHQpKTtcblxuICAgICAgICAgICAgICAgIGFjdGlvbkNvbnRleHQub3JpZ2luYWxVUkwgPSBhY3Rpb25Db250ZXh0LnVybDtcbiAgICAgICAgICAgICAgICBhY3Rpb25Db250ZXh0LnVybCA9IFVSTC5wYXJzZSh0aGlzLmdldE5vdEZvdW5kTG9jYXRpb24oKSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZmluZEFjdGlvbkNvbmZpZyhhY3Rpb25Db250ZXh0KSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5maW5kRWxpZ2libGVBY3Rpb25Db25maWcoYWN0aW9uQ29udGV4dCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGhhc0F1dGhvcml0eSA9IHRoaXMuY2hlY2tBdXRob3JpdHkoYWN0aW9uQ29uZmlnLCBhY3Rpb25Db250ZXh0KTtcbiAgICAgICAgICAgIGlmICghaGFzQXV0aG9yaXR5KSB7XG4gICAgICAgICAgICAgICAgZXZlbnRCdXMgJiYgZXZlbnRCdXMuZmlyZSgncGVybWlzc2lvbmRlbmllZCcsIHV0aWwubWl4KHtcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgZmFpbFR5cGU6ICdQZXJtaXNzaW9uRGVuaWVkJyxcbiAgICAgICAgICAgICAgICAgICAgcmVhc29uOiAnUGVybWlzc2lvbiBkZW5pZWQnLFxuICAgICAgICAgICAgICAgICAgICBjb25maWc6IGFjdGlvbkNvbmZpZ1xuICAgICAgICAgICAgICAgIH0sIGFjdGlvbkNvbnRleHQpKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2F0aW9uID0gYWN0aW9uQ29uZmlnLm5vQXV0aG9yaXR5TG9jYXRpb24gfHwgdGhpcy5nZXROb0F1dGhvcml0eUxvY2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgYWN0aW9uQ29udGV4dC5vcmlnaW5hbFVSTCA9IGFjdGlvbkNvbnRleHQudXJsO1xuICAgICAgICAgICAgICAgIGFjdGlvbkNvbnRleHQudXJsID0gVVJMLnBhcnNlKGxvY2F0aW9uKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5maW5kRWxpZ2libGVBY3Rpb25Db25maWcoYWN0aW9uQ29udGV4dCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBhY3Rpb25Db25maWc7XG4gICAgICAgIH1cblxuICAgICAgICBsb2FkQWN0aW9uKGFjdGlvbkNvbnRleHQpIHtcbiAgICAgICAgICAgIGxldCBhY3Rpb25Db25maWcgPSB0aGlzLmZpbmRFbGlnaWJsZUFjdGlvbkNvbmZpZyhhY3Rpb25Db250ZXh0KTtcbiAgICAgICAgICAgIGFjdGlvbkNvbmZpZyA9IHRoaXMucmVzb2x2ZUFjdGlvbkNvbmZpZyhhY3Rpb25Db25maWcsIGFjdGlvbkNvbnRleHQpO1xuICAgICAgICAgICAgY29uc3QgZXZlbnRCdXMgPSB0aGlzLmdldEV2ZW50QnVzKCk7XG5cbiAgICAgICAgICAgIGlmICghYWN0aW9uQ29uZmlnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmFpbGVkID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoYG5vIGFjdGlvbiBjb25maWd1cmVkIGZvciB1cmwgJHthY3Rpb25Db250ZXh0LnVybC5nZXRQYXRoKCl9YCk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFpbGVkO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoYWN0aW9uQ29uZmlnLnRpdGxlKSB7XG4gICAgICAgICAgICAgICAgYWN0aW9uQ29udGV4dC50aXRsZSA9IGFjdGlvbkNvbmZpZy50aXRsZTtcbiAgICAgICAgICAgICAgICBhY3Rpb25Db250ZXh0LmFyZ3MudGl0bGUgPSBhY3Rpb25Db25maWcudGl0bGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChhY3Rpb25Db25maWcuZG9jdW1lbnRUaXRsZSkge1xuICAgICAgICAgICAgICAgIGFjdGlvbkNvbnRleHQuZG9jdW1lbnRUaXRsZSA9IGFjdGlvbkNvbmZpZy5kb2N1bWVudFRpdGxlO1xuICAgICAgICAgICAgICAgIGFjdGlvbkNvbnRleHQuYXJncy5kb2N1bWVudFRpdGxlID0gYWN0aW9uQ29uZmlnLmRvY3VtZW50VGl0bGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChhY3Rpb25Db25maWcuYXJncykge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgbmFtZSBpbiBhY3Rpb25Db25maWcuYXJncykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aW9uQ29uZmlnLmFyZ3MuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghYWN0aW9uQ29udGV4dC5hcmdzLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uQ29udGV4dC5hcmdzW25hbWVdID0gYWN0aW9uQ29uZmlnLmFyZ3NbbmFtZV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWFjdGlvbkNvbnRleHQuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25Db250ZXh0W25hbWVdID0gYWN0aW9uQ29uZmlnLmFyZ3NbbmFtZV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGxvYWRpbmcgPSB7fTtcbiAgICAgICAgICAgIGNvbnN0IGxvYWRlciA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBsb2FkaW5nLnJlc29sdmUgPSByZXNvbHZlO1xuICAgICAgICAgICAgICAgIGxvYWRpbmcucmVqZWN0ID0gcmVqZWN0O1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGxldCBhYm9ydGVkID0gZmFsc2U7XG4gICAgICAgICAgICBsb2FkZXIuYWJvcnQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFhYm9ydGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGFib3J0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBldmVudEJ1cyAmJiBldmVudEJ1cy5maXJlKCdhY3Rpb25hYm9ydCcsIHV0aWwubWl4KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IHRoaXNcbiAgICAgICAgICAgICAgICAgICAgfSwgYWN0aW9uQ29udGV4dCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGlmICghYWN0aW9uQ29udGV4dC5pc0NoaWxkQWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VVJMID0gYWN0aW9uQ29udGV4dC51cmw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGNhbGxiYWNrID0gKFNwZWNpZmljQWN0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGFib3J0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICghU3BlY2lmaWNBY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVhc29uID0gYE5vIGFjdGlvbiBpbXBsZW1lbnQgZm9yICR7YWN0aW9uQ29uZmlnLnR5cGV9YDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyb3IgPSB1dGlsLm1peCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiB0aGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmFpbFR5cGU6ICdOb01vZHVsZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWc6IGFjdGlvbkNvbmZpZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYXNvbjogcmVhc29uXG4gICAgICAgICAgICAgICAgICAgIH0sIGFjdGlvbkNvbnRleHQpO1xuXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50QnVzICYmIGV2ZW50QnVzLmZpcmUoJ2FjdGlvbmZhaWwnLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50QnVzICYmIGV2ZW50QnVzLm5vdGlmeUVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgbG9hZGluZy5yZWplY3QocmVhc29uKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGV2ZW50QnVzICYmIGV2ZW50QnVzLmZpcmUoJ2FjdGlvbmxvYWRlZCcsIHtcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBhY3Rpb25Db250ZXh0LnVybCxcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnOiBhY3Rpb25Db25maWcsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogU3BlY2lmaWNBY3Rpb25cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgU3BlY2lmaWNBY3Rpb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9hZGluZy5yZXNvbHZlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjogbmV3IFNwZWNpZmljQWN0aW9uKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25Db250ZXh0XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgU3BlY2lmaWNBY3Rpb24uY3JlYXRlUnVudGltZUFjdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNvbHZlQWN0aW9uSW5zdGFuY2UgPSAoYXJncykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qge2FjdGlvbn0gPSBhcmdzO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZWFzb24gPSAnQWN0aW9uIGZhY3RvcnkgcmV0dXJucyBub24tYWN0aW9uJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnJvciA9IHV0aWwubWl4KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFpbFR5cGU6ICdJbnZhbGlkRmFjdG9yeScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZzogYWN0aW9uQ29uZmlnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFzb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGFjdGlvbkNvbnRleHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50QnVzICYmIGV2ZW50QnVzLmZpcmUoJ2FjdGlvbmZhaWwnLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRCdXMgJiYgZXZlbnRCdXMubm90aWZ5RXJyb3IoZXJyb3IpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGluZy5yZWplY3QocmVhc29uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRpbmcucmVzb2x2ZSh7YWN0aW9uLCBhY3Rpb25Db250ZXh0fSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFjdGlvbkZhY3RvcnlQcm9kdWN0ID0gU3BlY2lmaWNBY3Rpb24uY3JlYXRlUnVudGltZUFjdGlvbihhY3Rpb25Db250ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgUHJvbWlzZS5yZXNvbHZlKGFjdGlvbkZhY3RvcnlQcm9kdWN0KS50aGVuKHJlc29sdmVBY3Rpb25JbnN0YW5jZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsb2FkaW5nLnJlc29sdmUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBTcGVjaWZpY0FjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbkNvbnRleHRcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBhY3Rpb25Db25maWcudHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBDb250cm9sbGVyLmdldFJlcXVpcmUoKShbYWN0aW9uQ29uZmlnLnR5cGVdLCBjYWxsYmFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhhY3Rpb25Db25maWcudHlwZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBsb2FkZXI7XG4gICAgICAgIH1cblxuICAgICAgICBlbnRlckFjdGlvbihhY3Rpb24sIGFjdGlvbkNvbnRleHQpIHtcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50QnVzID0gdGhpcy5nZXRFdmVudEJ1cygpO1xuXG4gICAgICAgICAgICBpZiAoIWFjdGlvbkNvbnRleHQuaXNDaGlsZEFjdGlvbikge1xuICAgICAgICAgICAgICAgIGlmIChhY3Rpb25Db250ZXh0LnVybCAhPT0gdGhpcy5jdXJyZW50VVJMKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50QWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50QnVzICYmIGV2ZW50QnVzLmZpcmUoJ2xlYXZlYWN0aW9uJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjogdGhpcy5jdXJyZW50QWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG86IHV0aWwubWl4KHt9LCBhY3Rpb25Db250ZXh0KVxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMuY3VycmVudEFjdGlvbi5sZWF2ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50QWN0aW9uLmxlYXZlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50QWN0aW9uID0gYWN0aW9uO1xuXG4gICAgICAgICAgICAgICAgaWYgKGdsb2JhbC5kb2N1bWVudCkge1xuICAgICAgICAgICAgICAgICAgICBnbG9iYWwuZG9jdW1lbnQudGl0bGUgPSBhY3Rpb25Db250ZXh0LnRpdGxlIHx8IGFjdGlvbkNvbnRleHQuZG9jdW1lbnRUaXRsZSB8fCB0aGlzLmdldERlZmF1bHRUaXRsZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZXZlbnRCdXMgJiYgZXZlbnRCdXMuZmlyZSgnZW50ZXJhY3Rpb24nLCB1dGlsLm1peCh7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogdGhpcyxcbiAgICAgICAgICAgICAgICBhY3Rpb25cbiAgICAgICAgICAgIH0sIGFjdGlvbkNvbnRleHQpKTtcblxuICAgICAgICAgICAgY29uc3Qgbm90aWZ5RW50ZXJDb21wbGV0ZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBldmVudEJ1cyAmJiBldmVudEJ1cy5maXJlKCdlbnRlcmFjdGlvbmNvbXBsZXRlJywgdXRpbC5taXgoe1xuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiB0aGlzLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25cbiAgICAgICAgICAgICAgICB9LCBhY3Rpb25Db250ZXh0KSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBub3RpZnlFbnRlckZhaWwgPSAocmVhc29uKSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IG1lc3NhZ2UgPSAnJztcbiAgICAgICAgICAgICAgICBpZiAoIXJlYXNvbikge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gJ0ludm9rZSBhY3Rpb24uZW50ZXIoKSBjYXVzZXMgZXJyb3InO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChyZWFzb24ubWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gcmVhc29uLm1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZWFzb24uc3RhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgKz0gJ1xcbicgKyByZWFzb24uc3RhY2s7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoSlNPTiAmJiB0eXBlb2YgSlNPTi5zdHJpbmdpZnkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBKU09OLnN0cmluZ2lmeShyZWFzb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChwYXJzZUpTT05FcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IHJlYXNvbjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IHJlYXNvbjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBlcnJvciA9IHV0aWwubWl4KHtcbiAgICAgICAgICAgICAgICAgICAgZmFpbFR5cGU6ICdFbnRlckZhaWwnLFxuICAgICAgICAgICAgICAgICAgICByZWFzb246IG1lc3NhZ2VcbiAgICAgICAgICAgICAgICB9LCBhY3Rpb25Db250ZXh0KTtcblxuICAgICAgICAgICAgICAgIGV2ZW50QnVzICYmIGV2ZW50QnVzLmZpcmUoJ2VudGVyYWN0aW9uZmFpbCcsIGVycm9yKTtcbiAgICAgICAgICAgICAgICBldmVudEJ1cyAmJiBldmVudEJ1cy5ub3RpZnlFcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBlbnRlcmluZyA9IGFjdGlvbi5lbnRlcihhY3Rpb25Db250ZXh0KTtcbiAgICAgICAgICAgIGVudGVyaW5nLnRoZW4obm90aWZ5RW50ZXJDb21wbGV0ZSwgbm90aWZ5RW50ZXJGYWlsKTtcblxuICAgICAgICAgICAgcmV0dXJuIGVudGVyaW5nO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yd2FyZCh1cmwsIGNvbnRhaW5lciwgb3B0aW9ucywgaXNDaGlsZEFjdGlvbikge1xuICAgICAgICAgICAgY29uc3QgYWN0aW9uQ29udGV4dCA9IHtcbiAgICAgICAgICAgICAgICB1cmwsXG4gICAgICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgICAgIGlzQ2hpbGRBY3Rpb246ICEhaXNDaGlsZEFjdGlvblxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50QnVzID0gdGhpcy5nZXRFdmVudEJ1cygpO1xuXG4gICAgICAgICAgICBpZiAoaXNDaGlsZEFjdGlvbikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlZmVycmVySW5mbyA9IHRoaXMuY2hpbGRBY3Rpb25NYXBwaW5nW2NvbnRhaW5lcl07XG4gICAgICAgICAgICAgICAgYWN0aW9uQ29udGV4dC5yZWZlcnJlciA9IHJlZmVycmVySW5mbyA/IHJlZmVycmVySW5mby51cmwgOiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYWN0aW9uQ29udGV4dC5yZWZlcnJlciA9IHRoaXMuY3VycmVudFVSTDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdXRpbC5taXgoYWN0aW9uQ29udGV4dCwgb3B0aW9ucyk7XG5cbiAgICAgICAgICAgIGFjdGlvbkNvbnRleHQuYXJncyA9IHV0aWwubWl4KHt9LCBhY3Rpb25Db250ZXh0KTtcbiAgICAgICAgICAgIHV0aWwubWl4KGFjdGlvbkNvbnRleHQuYXJncywgdXJsLmdldFF1ZXJ5KCkpO1xuXG4gICAgICAgICAgICBpZiAoIWlzQ2hpbGRBY3Rpb24gJiYgdGhpcy5yZWh5ZHJhdGVkQ3VycmVudFVSTFxuICAgICAgICAgICAgICAgICYmIHRoaXMucmVoeWRyYXRlZEN1cnJlbnRVUkwuZ2V0UGF0aCgpID09PSB1cmwuZ2V0UGF0aCgpKSB7XG4gICAgICAgICAgICAgICAgYWN0aW9uQ29udGV4dC5yZWh5ZHJhdGVkTW9kZWwgPSB0aGlzLnJlaHlkcmF0ZWRNb2RlbDtcbiAgICAgICAgICAgICAgICB0aGlzLnJlaHlkcmF0ZWRDdXJyZW50VVJMID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLnJlaHlkcmF0ZWRNb2RlbCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhY3Rpb25Db250ZXh0LmVyQ29udGV4dCA9IHRoaXMuZ2V0RXJDb250ZXh0KCk7XG5cbiAgICAgICAgICAgIGV2ZW50QnVzICYmIGV2ZW50QnVzLmZpcmUoJ2ZvcndhcmRhY3Rpb24nLCB1dGlsLm1peCh7Y29udHJvbGxlcjogdGhpc30sIGFjdGlvbkNvbnRleHQpKTtcbiAgICAgICAgICAgIGNvbnN0IGxvYWRlciA9IHRoaXMubG9hZEFjdGlvbihhY3Rpb25Db250ZXh0KTtcbiAgICAgICAgICAgIGFzc2VydC5oYXMobG9hZGVyLCAnbG9hZEFjdGlvbiBzaG91bGQgYWx3YXlzIHJldHVybiBhIFByb21pc2UnKTtcblxuICAgICAgICAgICAgcmV0dXJuIGxvYWRlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlbmRlckFjdGlvbih1cmwpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdXJsID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHVybCA9IFVSTC5wYXJzZSh1cmwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuZ2xvYmFsQWN0aW9uTG9hZGVyICYmIHR5cGVvZiB0aGlzLmdsb2JhbEFjdGlvbkxvYWRlci5hYm9ydCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIHRoaXMuZ2xvYmFsQWN0aW9uTG9hZGVyLmFib3J0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRBY3Rpb25cbiAgICAgICAgICAgICAgICAmJiB0eXBlb2YgdGhpcy5jdXJyZW50QWN0aW9uLmZpbHRlclJlZGlyZWN0ID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgICAgICAgJiYgdGhpcy5jdXJyZW50QWN0aW9uLmZpbHRlclJlZGlyZWN0KHVybCkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdSZWRpcmVjdCBhYm9ydGVkIGJ5IHByZXZpb3VzIGFjdGlvbicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmdsb2JhbEFjdGlvbkxvYWRlciA9IHRoaXMuZm9yd2FyZCh1cmwsIHRoaXMuZ2V0TWFpbkNvbnRhaW5lcigpLCBudWxsLCBmYWxzZSk7XG4gICAgICAgICAgICBjb25zdCBldmVudEJ1cyA9IHRoaXMuZ2V0RXZlbnRCdXMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2xvYmFsQWN0aW9uTG9hZGVyXG4gICAgICAgICAgICAgICAgLnRoZW4oYXJncyA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVudGVyQWN0aW9uLmNhbGwodGhpcywgYXJncy5hY3Rpb24sIGFyZ3MuYWN0aW9uQ29udGV4dCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAudGhlbihudWxsLCAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRCdXMgJiYgZXZlbnRCdXMubm90aWZ5RXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVudGVyQ2hpbGRBY3Rpb24oYWN0aW9uLCBhY3Rpb25Db250ZXh0KSB7XG4gICAgICAgICAgICB0aGlzLmNoaWxkQWN0aW9uTG9hZGVyc1thY3Rpb25Db250ZXh0LmNvbnRhaW5lcl0gPSBudWxsO1xuXG4gICAgICAgICAgICBsZXQgY29udGFpbmVyO1xuICAgICAgICAgICAgaWYgKGdsb2JhbC5kb2N1bWVudCAmJiBnbG9iYWwuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQpIHtcbiAgICAgICAgICAgICAgICBjb250YWluZXIgPSBnbG9iYWwuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYWN0aW9uQ29udGV4dC5jb250YWluZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFjb250YWluZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGxvY2F0b3IgPSB0aGlzLmdldExvY2F0b3IoKTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRDb250cm9sbGVyID0gdGhpcztcblxuICAgICAgICAgICAgY29uc3QgcmVkaXJlY3QgPSAodXJsLCBvcHRpb25zLCBleHRyYSkgPT4ge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICAgICAgICAgIHVybCA9IGxvY2F0b3IucmVzb2x2ZVVSTCh1cmwsIG9wdGlvbnMpO1xuXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZ2xvYmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGdsb2JhbFJlZGlyZWN0UGVyZm9ybWVkID0gbG9jYXRvci5yZWRpcmVjdCh1cmwsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ2xvYmFsUmVkaXJlY3RQZXJmb3JtZWQgJiYgY29udGFpbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVDaGlsZEFjdGlvbihjdXJyZW50Q29udHJvbGxlciwgY29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2xvYmFsUmVkaXJlY3RQZXJmb3JtZWQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgY2hpbGRBY3Rpb25JbmZvID0gY3VycmVudENvbnRyb2xsZXIuY2hpbGRBY3Rpb25NYXBwaW5nW2FjdGlvbkNvbnRleHQuY29udGFpbmVyXTtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGFuZ2VkID0gdXJsLnRvU3RyaW5nKCkgIT09IGNoaWxkQWN0aW9uSW5mby51cmwudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzaG91bGRQZXJmb3JtUmVkaXJlY3QgPSBjaGFuZ2VkIHx8IG9wdGlvbnMuZm9yY2U7XG4gICAgICAgICAgICAgICAgaWYgKHNob3VsZFBlcmZvcm1SZWRpcmVjdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5zaWxlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkQWN0aW9uSW5mby51cmwgPSB1cmw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Q29udHJvbGxlci5yZW5kZXJDaGlsZEFjdGlvbih1cmwsIGNoaWxkQWN0aW9uSW5mby5jb250YWluZXIsIGV4dHJhKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBzaG91bGRQZXJmb3JtUmVkaXJlY3Q7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBpc0NoaWxkQWN0aW9uUmVkaXJlY3RlZCA9IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8g6Zmk5L2O54mI5pysSUXlpJbvvIzlhbblroPmtY/op4jlmajmmK/lj6/ku6XlnKjkuovku7blr7nosaHkuIrliqDoh6rlrprkuYnlsZ7mgKfnmoTvvIxJReavj+asoemDveeUn+aIkOaWsOeahOS6i+S7tuWvueixoeaJgOS7peS/neeVmeS4jeS6hui/meS6m+WxnuaAp++8jFxuICAgICAgICAgICAgICAgIC8vIOWcqOi/memHjOS8mOWFiOeUqOiHquWumuS5ieWxnuaAp+aOp+WItu+8jOmBv+WFjeWvuURPTeagkeaXoOaEj+S5ieeahOmBjeWOhu+8jOWPquacieWcqOayoeacieWxnuaAp+eahOaXtuWAme+8jOaJjeWQkeWQjuWFvOWuueiHs0RPTeagkeeahOmBjeWOhlxuICAgICAgICAgICAgICAgIGlmIChlLmlzQ2hpbGRBY3Rpb25SZWRpcmVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxldCBpbm5lcm1vc3RDb250YWluZXIgPSBlLnRhcmdldCB8fCBlLnNyY0VsZW1lbnQ7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGlubmVybW9zdENvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgICAgICAvLyDmmK9BY3Rpb27lrrnlmajnmoTlhYPntKDogq/lrprnrKblkIjku6XkuIvmnaHku7bvvJpcbiAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgLy8gLSDmnInkuKpgaWRg77yM5Zug5Li65rKh5pyJYGlkYOS4jeiDvea4suafk+WtkEFjdGlvblxuICAgICAgICAgICAgICAgICAgICAvLyAtIOi/meS4qmBpZGDlnKhgY2hpbGRBY3Rpb25NYXBwaW5nYOmHjOaYr+acieWvueW6lOeahOWAvOeahFxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5uZXJtb3N0Q29udGFpbmVyLmlkICYmIGN1cnJlbnRDb250cm9sbGVyLmNoaWxkQWN0aW9uTWFwcGluZ1tpbm5lcm1vc3RDb250YWluZXIuaWRdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlubmVybW9zdENvbnRhaW5lciA9IGlubmVybW9zdENvbnRhaW5lci5wYXJlbnROb2RlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyDlpoLmnpzmnIDmjqXov5Hooqvngrnlh7vnmoTpk77mjqXnmoRBY3Rpb27lrrnlmajmmK/kuI3mmK/lvZPliY3nmoTov5nkuKrlrrnlmajvvIzlsLHor7TmmI7lnKjlvZPliY3lrrnlmajlkozpk77mjqXkuYvpl7Tov5jmnInkuIDlsYLku6XkuIrnmoTlrZBBY3Rpb27vvIxcbiAgICAgICAgICAgICAgICAvLyDpgqPkuYjov5nkuKrlrZBBY3Rpb27ogq/lrprkvJrlpITnkIbmjonov5nkuKrpk77mjqXnmoTot7PovazvvIzkuI3pnIDopoHov5nph4zlpITnkIbkuoZcbiAgICAgICAgICAgICAgICBpZiAoaW5uZXJtb3N0Q29udGFpbmVyLmlkICE9PSBhY3Rpb25Db250ZXh0LmNvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgICAgICBlLmlzQ2hpbGRBY3Rpb25SZWRpcmVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8g6ZyA6KaB5oqKYGNvbnRhaW5lcmDkuIrnmoTpk77mjqXngrnlh7vlhajpg6jmi6bmiKrkuIvmnaXvvIzlpoLmnpzmmK9oYXNo6Lez6L2s77yM5YiZ6L2s5YiwY29udHJvbGxlcuS4iuadpVxuICAgICAgICAgICAgY29uc3QgaGlqYWNrID0gKGUpID0+IHtcbiAgICAgICAgICAgICAgICAvLyDkuIvpnaLkuKTooYzmmK/ku6XkuLvmtYHmtY/op4jlmajkuLrkuLvvvIzlhbzlrrlJReeahOS6i+S7tuWxnuaAp+aTjeS9nFxuICAgICAgICAgICAgICAgIGUgPSBlIHx8IChnbG9iYWwud2luZG93ICYmIGdsb2JhbC53aW5kb3cuZXZlbnQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0IHx8IGUuc3JjRWxlbWVudDtcblxuICAgICAgICAgICAgICAgIC8vIOaLheW/g+acieS6uuWcqGA8c3Bhbj5g5LmL57G755qE5LiK6Z2i5pS+YGhyZWZg5bGe5oCn77yM6L+Y5piv5Yik5pat5LiA5LiL5qCH562+XG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICE9PSAnYScpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGA8YT5g5YWD57Sg5Lmf5Y+v6IO95rKh5pyJYGhyZWZg5bGe5oCnXG4gICAgICAgICAgICAgICAgY29uc3QgaHJlZiA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2hyZWYnLCAyKSB8fCAnJztcbiAgICAgICAgICAgICAgICAvLyDmmK9oYXNo6Lez6L2s55qE6ZO+5o6l5bCx5Y+W5raI5o6J6buY6K6k55qE6Lez6L2s6KGM5Li6XG4gICAgICAgICAgICAgICAgaWYgKGhyZWYuY2hhckF0KDApICE9PSAnIycpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyDlpoLmnpzmnInkuIvpnaLnmoTlrZBBY3Rpb27lpITnkIbkuobot7PovazvvIzpgqPov5nph4zlsLHllaXkuZ/kuI3lubLkuoZcbiAgICAgICAgICAgICAgICBpZiAoaXNDaGlsZEFjdGlvblJlZGlyZWN0ZWQoZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChlLnByZXZlbnREZWZhdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGUucmV0dXJuVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyDovazliLBgcmVuZGVyQ2hpbGRBY3Rpb25g5LiKXG4gICAgICAgICAgICAgICAgY29uc3QgdXJsID0gaHJlZi5zdWJzdHJpbmcoMSk7XG5cbiAgICAgICAgICAgICAgICAvLyDnm7TmjqXkvb/nlKjkuJPkvpvlrZBBY3Rpb27kuIrnmoRgcmVkaXJlY3Rg5pa55rOV77yMXG4gICAgICAgICAgICAgICAgLy8g5Lya6Ieq5Yqo5aSE55CGYGhpamFja2DnmoTop6Pnu5HlrprjgIFVUkzmr5Tlr7njgIHov5vlhaXlrZBBY3Rpb27nrYnkuovvvIxcbiAgICAgICAgICAgICAgICAvLyDkuLrlhY1BY3Rpb27ph43lhplgcmVkaXJlY3Rg5pa55rOV77yM6L+Z6YeM55So6Zet5YyF5YaF55qE6L+Z5LiqXG4gICAgICAgICAgICAgICAgY29uc3QgcmVkaXJlY3RBdHRyaWJ1dGVzID0gKHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcmVkaXJlY3QnKSB8fCAnJykuc3BsaXQoL1ssXFxzXS8pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlZGlyZWN0T3B0aW9ucyA9IHt9O1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVkaXJlY3RBdHRyaWJ1dGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlZGlyZWN0QXR0cmlidXRlTmFtZSA9IHV0aWwudHJpbShyZWRpcmVjdEF0dHJpYnV0ZXNbaV0pO1xuICAgICAgICAgICAgICAgICAgICByZWRpcmVjdE9wdGlvbnNbcmVkaXJlY3RBdHRyaWJ1dGVOYW1lXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlZGlyZWN0KHVybCwgcmVkaXJlY3RPcHRpb25zKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGFjdGlvbi5yZWRpcmVjdCA9IHJlZGlyZWN0O1xuXG4gICAgICAgICAgICBhY3Rpb24ucmVsb2FkID0gZnVuY3Rpb24gKGV4dHJhKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWRpcmVjdChhY3Rpb25Db250ZXh0LnVybCwge2ZvcmNlOiB0cnVlfSwgZXh0cmEpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgYWN0aW9uLmJhY2sgPSBmdW5jdGlvbiAoZGVmYXVsdFVSTCwgZXh0cmEpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZWZlcnJlciA9IHRoaXMuY29udGV4dCAmJiB0aGlzLmNvbnRleHQucmVmZXJyZXI7XG4gICAgICAgICAgICAgICAgY29uc3QgdXJsID0gcmVmZXJyZXIgfHwgZGVmYXVsdFVSTDtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZGlyZWN0KHVybCwgbnVsbCwgZXh0cmEpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGFkZENoaWxkQWN0aW9uKHRoaXMsIGNvbnRhaW5lciwgYWN0aW9uLCBoaWphY2ssIGFjdGlvbkNvbnRleHQpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbnRlckFjdGlvbihhY3Rpb24sIGFjdGlvbkNvbnRleHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVuZGVyQ2hpbGRBY3Rpb24odXJsLCBjb250YWluZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGFzc2VydC5oYXMoY29udGFpbmVyKTtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiB1cmwgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgdXJsID0gVVJMLnBhcnNlKHVybCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzTG9hZGVyID0gdGhpcy5jaGlsZEFjdGlvbkxvYWRlcnNbY29udGFpbmVyXTtcbiAgICAgICAgICAgIGlmIChwcmV2aW91c0xvYWRlciAmJiB0eXBlb2YgcHJldmlvdXNMb2FkZXIuYWJvcnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICBwcmV2aW91c0xvYWRlci5hYm9ydCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBhY3Rpb25JbmZvID0gdGhpcy5jaGlsZEFjdGlvbk1hcHBpbmdbY29udGFpbmVyXTtcbiAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzQWN0aW9uID0gYWN0aW9uSW5mbyAmJiBhY3Rpb25JbmZvLmFjdGlvbjtcbiAgICAgICAgICAgIGlmIChwcmV2aW91c0FjdGlvblxuICAgICAgICAgICAgICAgICYmIHR5cGVvZiBwcmV2aW91c0FjdGlvbi5maWx0ZXJSZWRpcmVjdCA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgICAgICAgICYmIHByZXZpb3VzQWN0aW9uLmZpbHRlclJlZGlyZWN0KHVybCkgPT09IGZhbHNlXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoJ1JlZGlyZWN0IGFib3J0ZWQgYnkgcHJldmlvdXMgYWN0aW9uJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGxvYWRlciA9IHRoaXMuZm9yd2FyZCh1cmwsIGNvbnRhaW5lciwgb3B0aW9ucywgdHJ1ZSk7XG4gICAgICAgICAgICBjb25zdCBldmVudHMgPSB0aGlzLmdldEV2ZW50QnVzKCk7XG4gICAgICAgICAgICBjb25zdCBsb2FkaW5nQ2hpbGRBY3Rpb24gPSBsb2FkZXJcbiAgICAgICAgICAgICAgICAudGhlbihhcmdzID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZW50ZXJDaGlsZEFjdGlvbi5jYWxsKHRoaXMsIGFyZ3MuYWN0aW9uLCBhcmdzLmFjdGlvbkNvbnRleHQpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnRoZW4obnVsbCwgdXRpbC5iaW5kKGV2ZW50cy5ub3RpZnlFcnJvciwgZXZlbnRzKSk7XG4gICAgICAgICAgICAvLyBgdGhlbmDmlrnms5XkvJrov5Tlm57kuIDkuKrmlrDnmoRgUHJvbWlzZWDvvIzkvYbljp/mnaXnmoRgbG9hZGVyYOS4iuacieS4qmBhYm9ydGDmlrnms5XvvIzopoHmiorov5nkuKrmlrnms5XnlZnkuIvmnaVcbiAgICAgICAgICAgIGxvYWRpbmdDaGlsZEFjdGlvbi5hYm9ydCA9IGxvYWRlci5hYm9ydDtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRBY3Rpb25Mb2FkZXJzW2NvbnRhaW5lcl0gPSBsb2FkaW5nQ2hpbGRBY3Rpb247XG4gICAgICAgICAgICByZXR1cm4gbG9hZGluZ0NoaWxkQWN0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVoeWRyYXRlKHJlaHlkcmF0ZWRTdGF0ZSkge1xuICAgICAgICAgICAgaWYgKHJlaHlkcmF0ZWRTdGF0ZSAmJiByZWh5ZHJhdGVkU3RhdGUuY3VycmVudFVSTCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVoeWRyYXRlZEN1cnJlbnRVUkwgPSBVUkwucGFyc2UocmVoeWRyYXRlZFN0YXRlLmN1cnJlbnRVUkwpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVoeWRyYXRlZE1vZGVsID0gdXRpbC5taXgoe30sIHJlaHlkcmF0ZWRTdGF0ZS5tb2RlbCwge3VybDogdGhpcy5yZWh5ZHJhdGVkQ3VycmVudFVSTH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgc3RhdGljIGdldFJlcXVpcmUgKCkge1xuICAgICAgICAgICAgcmV0dXJuIENvbnRyb2xsZXIucmVxdWlyZSB8fCByZXF1aXJlO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RhdGljIHNldFJlcXVpcmUgKHJlcXVpcmUpIHtcbiAgICAgICAgICAgIENvbnRyb2xsZXIucmVxdWlyZSA9IHJlcXVpcmU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBsZXQgaW5zdGFuY2UgPSBuZXcgQ29udHJvbGxlcigpO1xuICAgIGluc3RhbmNlLkNvbnRyb2xsZXIgPSBDb250cm9sbGVyO1xuXG4gICAgcmV0dXJuIGluc3RhbmNlO1xufSk7XG4iXX0= at SyntaxError: Unexpected token (19:8)
    at Parser.pp$4.raise (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:2221:15)
    at Parser.pp.unexpected (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:603:10)
    at Parser.pp$2.parseBindingAtom (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:1417:12)
    at Parser.parseBindingAtom (/root/ExpoSE/lib/Tropigate/bin/FunctionSignatures.js:49:30)
    at Parser.pp$1.parseVarId (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:1049:20)
    at Parser.pp$1.parseVar (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:1032:14)
    at Parser.pp$1.parseVarStatement (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:917:10)
    at Parser.pp$1.parseStatement (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:706:19)
    at Parser.parseStatement (/root/ExpoSE/lib/Tropigate/bin/Statements.js:104:30)
    at Parser.pp$1.parseBlock (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:981:25)
*-- Replay with NO_COMPILE=1 expoSE replay '/root/ExpoSE/lib/Harness/src/harness.js' '{"_bound":0}'
*-- Coverage Data
*- File /root/ExpoSE/lib/Harness/src/harness.js. Coverage (Term): 18% Coverage (LOC): 24%
*- File /root/ExpoSE/lib/S$/bin/symbols.js. Coverage (Term): 16% Coverage (LOC): 34%
*- File /root/Targets/fc-er/node_modules/fc-er/main.js. Coverage (Term): 15% Coverage (LOC): 14%
*- File /root/Targets/fc-er/node_modules/amdefine/amdefine.js. Coverage (Term): 48% Coverage (LOC): 53%
*- File /root/Targets/fc-er/node_modules/fc-er/ErContext.js. Coverage (Term): 7% Coverage (LOC): 8%
*- Re-run with EXPOSE_PRINT_COVERAGE=1 to print line by line coverage information
** ExpoSE Finished. 1 paths with 1 errors **
