/root/Targets/dicom-web-viewer
└─┬ dicom-web-viewer@0.1.2 
  ├─┬ react@15.6.2 
  │ ├── create-react-class@15.6.2 
  │ ├─┬ fbjs@0.8.16 
  │ │ ├── core-js@1.2.7 
  │ │ ├─┬ isomorphic-fetch@2.2.1 
  │ │ │ ├─┬ node-fetch@1.7.3 
  │ │ │ │ ├─┬ encoding@0.1.12 
  │ │ │ │ │ └── iconv-lite@0.4.19 
  │ │ │ │ └── is-stream@1.1.0 
  │ │ │ └── whatwg-fetch@2.0.3 
  │ │ ├─┬ promise@7.3.1 
  │ │ │ └── asap@2.0.6 
  │ │ ├── setimmediate@1.0.5 
  │ │ └── ua-parser-js@0.7.14 
  │ ├─┬ loose-envify@1.3.1 
  │ │ └── js-tokens@3.0.2 
  │ ├── object-assign@4.1.1 
  │ └── prop-types@15.6.0 
  └── react-dom@15.6.2 

Setup Done exists, not setting up
:../FeatureTester/libs/:/root/Targets/dicom-web-viewer/node_modules
Set Default Z3_PATH to ./node_modules/z3javascript/bin/libz3.so
ExpoSE Master: /root/ExpoSE/lib/Harness/src/harness.js max concurrent: 16 max paths: 1000000
Setting timeout to 900000
*** [0 done /0 queued / 1 running / 0 errors / 0% coverage ] ****** [0 done /0 queued / 1 running / 0 errors / 0% coverage ] ****** [1 done /0 queued / 0 running / 1 errors / 34% coverage ] ***
*-- Stat Module Output --*
*-- concretizations: ["defineProperty","bound log"]
*-- Stat Module Done --*
*-- Test Case {"_bound":0} start 0.0675 took 3.2665s
*-- Errors occured in test {"_bound":0}
* Error: Tropigate failed because SyntaxError: Unexpected token (103:12) on program /* eslint-disable */
import React, { Component } from 'react';
import ReactDOM from 'react-dom';
import '../App.css';
//import '../compatibility/hammer.js';
//import {cornerstone,cornerstoneTools} from 'cornerstone';


class viewOneDicom extends Component {
    constructor(props) {
        super(props);
        this.state = {
        };
    }

    domFind(id){
        return document.getElementsByClassName(id)
    };

    onImageRendered() {
        const cornerstone = window.cornerstone;
        var domNode = this.domFind(ReactDOM.findDOMNode(this));
        var topLeft = domNode.find(".topLeft");
        var topRight = domNode.find(".topRight");
        var bottomRight = domNode.find(".bottomRight");
        var bottomLeft = domNode.find(".bottomLeft");

        var element = document.getElementsByClassName('viewportElement')[0];
        var viewport = cornerstone.getViewport(element)

        this.setState({
            wwwc: Math.round(viewport.voi.windowWidth) + "/" + Math.round(viewport.voi.windowCenter),
            zoom: viewport.scale.toFixed(2)
        });
    }

    returnFalse(e) {
        e.stopPropagation();
        e.preventDefault();
    }

    handleResize() {
        const cornerstone = window.cornerstone;
        this.updateHeight();
        //var domNode = ReactDOM.findDOMNode(this);
        var element = document.getElementsByClassName('viewportElement')[0];
        cornerstone.resize(element, true);
    }

    updateHeight() {
        var domNode = this.domFind(ReactDOM.findDOMNode(this));
        var container = $(domNode);
        // Subtract the header height and some padding
        var windowHeight = $(window).height() - $("#header").height() - 10 ;
        container.css({
            height: windowHeight
        });
    }

    componentDidMount() {
        const cornerstone = window.cornerstone;
        const cornerstoneTools = window.cornerstoneTools;
        this.updateHeight();
        //var domNode = ReactDOM.findDOMNode(this);
        console.log(document.getElementsByClassName('viewportElement')[0]);

        var element = document.getElementsByClassName('viewportElement')[0];

        this.onImageRendered;
        //element.on("CornerstoneImageRendered", this.onImageRendered);
        window.addEventListener('resize', this.handleResize);



        cornerstone.enable(element);
        //var imageId = "example://1";
        //var imageId ="dicomweb://cornerstonetech.org/images/ClearCanvas/CTStudy/1.2.840.113619.2.30.1.1762295590.1623.978668950.110.dcm";
        var imageId = this.props.web;
        cornerstone.loadImage(imageId).then(function(image) {
            cornerstone.displayImage(element, image);
            cornerstoneTools.mouseInput.enable(element);
            cornerstoneTools.mouseWheelInput.enable(element);
            cornerstoneTools.wwwc.activate(element, 1); // ww/wc is the default tool for left mouse button
            cornerstoneTools.pan.activate(element, 2); // pan is the default tool for middle mouse button
            cornerstoneTools.zoom.activate(element, 4); // zoom is the default tool for right mouse button
            cornerstoneTools.zoomWheel.activate(element); // zoom is the default tool for middle mouse wheel

            cornerstoneTools.touchInput.enable(element);
            cornerstoneTools.panTouchDrag.activate(element);
            cornerstoneTools.zoomTouchPinch.activate(element);
        });
    }

    componentWillUnmount() {
        //var domNode = this.domFind(ReactDOM.findDOMNode(this));
        var element = document.getElementsByClassName('viewportElement')[0];
        element.off("CornerstoneImageRendered", this.onImageRendered);
        window.removeEventListener('resize', this.handleResize);
    }

    render() {
        return (
            <div
                 className='viewportContainer'
                 unselectable='on'
                 onContextMenu={this.returnFalse}
                 //onSelectStart={this.returnFalse}
                 onMouseDown={this.returnFalse}>
                <div className="viewportElement" style={{height:'480px'}}>
                </div>
                <div className="topLeft dicomTag">
                    Patient Name
                </div>
                <div className="topRight dicomTag">
                    Hospital
                </div>
                <div className="bottomRight dicomTag">
                    Zoom: {this.state.zoom}
                </div>
                <div className="bottomLeft dicomTag">
                    WW/WC: {this.state.wwwc}
                </div>
            </div>
        );
    }
}
module.exports = viewOneDicom;

export default viewOneDicom;
 at SyntaxError: Unexpected token (103:12)
    at Parser.pp$4.raise (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:2221:15)
    at Parser.pp.unexpected (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:603:10)
    at Parser.pp$3.parseExprAtom (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:1822:12)
    at Parser.parseExprAtom (/root/ExpoSE/lib/Tropigate/bin/Expression.js:28:30)
    at Parser.pp$3.parseExprSubscripts (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:1715:21)
    at Parser.parseMaybeUnary (/root/ExpoSE/lib/Tropigate/bin/Unary.js:34:29)
    at Parser.pp$3.parseExprOps (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:1637:21)
    at Parser.pp$3.parseMaybeConditional (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:1620:21)
    at Parser.pp$3.parseMaybeAssign (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:1597:21)
    at Parser.pp$3.parseParenAndDistinguishExpression (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:1861:32)
*-- Replay with NO_COMPILE=1 expoSE replay '/root/ExpoSE/lib/Harness/src/harness.js' '{"_bound":0}'
*-- Coverage Data
*- File /root/ExpoSE/lib/Harness/src/harness.js. Coverage (Term): 18% Coverage (LOC): 24%
*- File /root/ExpoSE/lib/S$/bin/symbols.js. Coverage (Term): 16% Coverage (LOC): 34%
*- File /root/Targets/dicom-web-viewer/node_modules/dicom-web-viewer/index.js. Coverage (Term): 62% Coverage (LOC): 100%
*- Re-run with EXPOSE_PRINT_COVERAGE=1 to print line by line coverage information
** ExpoSE Finished. 1 paths with 1 errors **
