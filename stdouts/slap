
> marker-index@4.0.0 install /root/Targets/slap/node_modules/marker-index
> node-gyp rebuild

make: Entering directory '/root/Targets/slap/node_modules/marker-index/build'
  CXX(target) Release/obj.target/marker_index/src/native/iterator.o
  CXX(target) Release/obj.target/marker_index/src/native/marker-index-wrapper.o
  CXX(target) Release/obj.target/marker_index/src/native/marker-index.o
  CXX(target) Release/obj.target/marker_index/src/native/node.o
  CXX(target) Release/obj.target/marker_index/src/native/point.o
  SOLINK_MODULE(target) Release/obj.target/marker_index.node
  COPY Release/marker_index.node
make: Leaving directory '/root/Targets/slap/node_modules/marker-index/build'

> runas@3.1.1 install /root/Targets/slap/node_modules/runas
> node-gyp rebuild

make: Entering directory '/root/Targets/slap/node_modules/runas/build'
  CXX(target) Release/obj.target/runas/src/main.o
  CXX(target) Release/obj.target/runas/src/runas_posix.o
  CXX(target) Release/obj.target/runas/src/fork.o
  SOLINK_MODULE(target) Release/obj.target/runas.node
  COPY Release/runas.node
make: Leaving directory '/root/Targets/slap/node_modules/runas/build'

> pathwatcher@6.6.2 install /root/Targets/slap/node_modules/pathwatcher
> node-gyp rebuild

make: Entering directory '/root/Targets/slap/node_modules/pathwatcher/build'
  CXX(target) Release/obj.target/pathwatcher/src/main.o
  CXX(target) Release/obj.target/pathwatcher/src/common.o
  CXX(target) Release/obj.target/pathwatcher/src/handle_map.o
  CXX(target) Release/obj.target/pathwatcher/src/pathwatcher_linux.o
  SOLINK_MODULE(target) Release/obj.target/pathwatcher.node
  COPY Release/pathwatcher.node
make: Leaving directory '/root/Targets/slap/node_modules/pathwatcher/build'
/root/Targets/slap
└─┬ slap@0.1.61 
  ├─┬ base-widget@1.1.0 
  │ ├── lodash@4.13.1 
  │ ├─┬ text-buffer@9.2.2 
  │ │ ├─┬ atom-patch@0.3.0 
  │ │ │ └── random-seed@0.2.0 
  │ │ ├─┬ delegato@1.0.0 
  │ │ │ └── mixto@1.0.0 
  │ │ ├── diff@2.2.3 
  │ │ ├── display-index@0.1.0 
  │ │ ├─┬ emissary@1.3.3 
  │ │ │ ├─┬ es6-weak-map@0.1.4 
  │ │ │ │ ├── es6-iterator@0.1.3 
  │ │ │ │ └── es6-symbol@2.0.1 
  │ │ │ └── property-accessors@1.1.3 
  │ │ ├── event-kit@1.5.0 
  │ │ ├─┬ fs-plus@2.10.1 
  │ │ │ ├── async@1.5.2 
  │ │ │ └─┬ rimraf@2.6.2 
  │ │ │   └─┬ glob@7.1.2 
  │ │ │     └── fs.realpath@1.0.0 
  │ │ ├── grim@1.5.0 
  │ │ ├── line-length-index@0.0.2 
  │ │ ├─┬ marker-index@4.0.0 
  │ │ │ └── nan@2.7.0 
  │ │ ├─┬ pathwatcher@6.6.2 
  │ │ │ ├── async@0.2.10 
  │ │ │ └── runas@3.1.1 
  │ │ ├─┬ serializable@1.0.3 
  │ │ │ └── get-parameter-names@0.2.0 
  │ │ ├── span-skip-list@0.2.0 
  │ │ └─┬ underscore-plus@1.6.6 
  │ │   └── underscore@1.6.0 
  │ └─┬ through2@2.0.1 
  │   ├─┬ readable-stream@2.0.6 
  │   │ ├── core-util-is@1.0.2 
  │   │ ├── isarray@1.0.0 
  │   │ ├── process-nextick-args@1.0.7 
  │   │ ├── string_decoder@0.10.31 
  │   │ └── util-deprecate@1.0.2 
  │   └── xtend@4.0.1 
  ├── blessed@0.1.81 
  ├── bluebird@3.4.1 
  ├─┬ editor-widget@1.1.1 
  │ ├─┬ base-widget@1.0.9 
  │ │ ├── bluebird@3.0.5 
  │ │ ├── rc@1.1.5 
  │ │ ├─┬ slap-util@1.0.5 
  │ │ │ └── bluebird@2.11.0 
  │ │ ├─┬ text-buffer@8.0.2 
  │ │ │ └── interval-skip-list@2.0.1 
  │ │ └── through2@2.0.0 
  │ ├── bluebird@3.1.1 
  │ ├─┬ cheerio@0.19.0 
  │ │ ├─┬ css-select@1.0.0 
  │ │ │ ├── boolbase@1.0.0 
  │ │ │ ├── css-what@1.0.0 
  │ │ │ ├── domutils@1.4.3 
  │ │ │ └── nth-check@1.0.1 
  │ │ ├─┬ dom-serializer@0.1.0 
  │ │ │ └── domelementtype@1.1.3 
  │ │ ├── entities@1.1.1 
  │ │ ├─┬ htmlparser2@3.8.3 
  │ │ │ ├── domelementtype@1.3.0 
  │ │ │ ├── domhandler@2.3.0 
  │ │ │ ├── domutils@1.5.1 
  │ │ │ ├── entities@1.0.0 
  │ │ │ └─┬ readable-stream@1.1.14 
  │ │ │   └── isarray@0.0.1 
  │ │ └── lodash@3.10.1 
  │ ├─┬ copy-paste@1.3.0 
  │ │ ├── iconv-lite@0.4.19 
  │ │ └── sync-exec@0.6.2 
  │ ├─┬ es6-set@0.1.3 
  │ │ ├── d@0.1.1 
  │ │ ├─┬ es5-ext@0.10.30 
  │ │ │ ├─┬ es6-iterator@2.0.1 
  │ │ │ │ └── d@1.0.0 
  │ │ │ └── es6-symbol@3.1.1 
  │ │ ├─┬ es6-iterator@2.0.1 
  │ │ │ └── d@1.0.0 
  │ │ ├─┬ es6-symbol@3.1.1 
  │ │ │ └── d@1.0.0 
  │ │ └─┬ event-emitter@0.3.5 
  │ │   └── d@1.0.0 
  │ ├── highlight.js@9.0.0 
  │ ├── iconv-lite@0.4.13 
  │ ├── lodash@3.10.1 
  │ ├── minimist@1.2.0 
  │ ├── semver@5.1.0 
  │ ├── slap-util@1.0.6 
  │ ├─┬ tape@4.4.0 
  │ │ ├── deep-equal@1.0.1 
  │ │ ├── defined@1.0.0 
  │ │ ├── function-bind@1.0.2 
  │ │ ├─┬ glob@5.0.15 
  │ │ │ ├─┬ inflight@1.0.6 
  │ │ │ │ └── wrappy@1.0.2 
  │ │ │ ├─┬ minimatch@3.0.4 
  │ │ │ │ └─┬ brace-expansion@1.1.8 
  │ │ │ │   ├── balanced-match@1.0.0 
  │ │ │ │   └── concat-map@0.0.1 
  │ │ │ ├── once@1.4.0 
  │ │ │ └── path-is-absolute@1.0.1 
  │ │ ├── has@1.0.1 
  │ │ ├── inherits@2.0.3 
  │ │ ├── object-inspect@1.0.2 
  │ │ ├── resolve@1.1.7 
  │ │ ├── resumer@0.0.0 
  │ │ ├─┬ string.prototype.trim@1.1.2 
  │ │ │ ├─┬ define-properties@1.1.2 
  │ │ │ │ ├── foreach@2.0.5 
  │ │ │ │ └── object-keys@1.0.11 
  │ │ │ └─┬ es-abstract@1.8.2 
  │ │ │   ├─┬ es-to-primitive@1.1.1 
  │ │ │   │ ├── is-date-object@1.0.1 
  │ │ │   │ └── is-symbol@1.0.1 
  │ │ │   ├── function-bind@1.1.1 
  │ │ │   ├── is-callable@1.1.3 
  │ │ │   └── is-regex@1.0.4 
  │ │ └── through@2.3.8 
  │ └─┬ text-buffer@8.0.6 
  │   ├── atom-diff@2.0.0 
  │   └── marker-index@2.1.1 
  ├── lodash@4.14.1 
  ├─┬ mkdirp@0.5.1 
  │ └── minimist@0.0.8 
  ├─┬ node-clap@0.0.5 
  │ ├── bluebird@2.11.0 
  │ └─┬ npm@2.15.12 
  │   ├── abbrev@1.0.9 
  │   ├── ansi@0.3.1 
  │   ├── ansi-regex@2.0.0 
  │   ├── ansicolors@0.3.2 
  │   ├── ansistyles@0.1.3 
  │   ├── archy@1.0.0 
  │   ├── async-some@1.0.2 
  │   ├── block-stream@0.0.9 
  │   ├── char-spinner@1.0.1 
  │   ├── chmodr@1.0.2 
  │   ├── chownr@1.0.1 
  │   ├── cmd-shim@2.0.2 
  │   ├─┬ columnify@1.5.4 
  │   │ └─┬ wcwidth@1.0.0 
  │   │   └─┬ defaults@1.0.3 
  │   │     └── clone@1.0.2 
  │   ├─┬ config-chain@1.1.10 
  │   │ └── proto-list@1.2.4 
  │   ├─┬ dezalgo@1.0.3 
  │   │ └── asap@2.0.3 
  │   ├── editor@1.0.0 
  │   ├── fs-vacuum@1.2.9 
  │   ├─┬ fs-write-stream-atomic@1.0.8 
  │   │ └── iferr@0.1.5 
  │   ├── fstream@1.0.10 
  │   ├─┬ fstream-npm@1.1.1 
  │   │ └── fstream-ignore@1.0.5 
  │   ├── github-url-from-git@1.4.0 
  │   ├── github-url-from-username-repo@1.0.2 
  │   ├─┬ glob@7.0.6 
  │   │ ├── fs.realpath@1.0.0 
  │   │ └── path-is-absolute@1.0.0 
  │   ├── graceful-fs@4.1.6 
  │   ├── hosted-git-info@2.1.5 
  │   ├── imurmurhash@0.1.4 
  │   ├── inflight@1.0.5 
  │   ├── inherits@2.0.3 
  │   ├── ini@1.3.4 
  │   ├─┬ init-package-json@1.9.4 
  │   │ ├─┬ glob@6.0.4 
  │   │ │ └── path-is-absolute@1.0.0 
  │   │ └── promzard@0.3.0 
  │   ├── lockfile@1.0.1 
  │   ├─┬ lru-cache@4.0.1 
  │   │ ├── pseudomap@1.0.2 
  │   │ └── yallist@2.0.0 
  │   ├─┬ minimatch@3.0.3 
  │   │ └─┬ brace-expansion@1.1.6 
  │   │   ├── balanced-match@0.4.2 
  │   │   └── concat-map@0.0.1 
  │   ├─┬ mkdirp@0.5.1 
  │   │ └── minimist@0.0.8 
  │   ├─┬ node-gyp@3.6.0 
  │   │ └── semver@5.3.0 
  │   ├── nopt@3.0.6 
  │   ├── normalize-git-url@3.0.2 
  │   ├─┬ normalize-package-data@2.3.5 
  │   │ └─┬ is-builtin-module@1.0.0 
  │   │   └── builtin-modules@1.1.0 
  │   ├── npm-cache-filename@1.0.2 
  │   ├── npm-install-checks@1.0.7 
  │   ├── npm-package-arg@4.1.0 
  │   ├─┬ npm-registry-client@7.2.1 
  │   │ ├─┬ concat-stream@1.5.2 
  │   │ │ ├─┬ readable-stream@2.0.6 
  │   │ │ │ ├── core-util-is@1.0.2 
  │   │ │ │ ├── isarray@1.0.0 
  │   │ │ │ ├── process-nextick-args@1.0.7 
  │   │ │ │ ├── string_decoder@0.10.31 
  │   │ │ │ └── util-deprecate@1.0.2 
  │   │ │ └── typedarray@0.0.6 
  │   │ └── retry@0.10.0 
  │   ├── npm-user-validate@0.1.5 
  │   ├─┬ npmlog@2.0.4 
  │   │ ├─┬ are-we-there-yet@1.1.2 
  │   │ │ └── delegates@1.0.0 
  │   │ └─┬ gauge@1.2.7 
  │   │   ├── has-unicode@2.0.0 
  │   │   ├─┬ lodash.pad@4.4.0 
  │   │   │ ├── lodash._baseslice@4.0.0 
  │   │   │ ├── lodash._basetostring@4.12.0 
  │   │   │ └── lodash.tostring@4.1.4 
  │   │   ├── lodash.padend@4.5.0 
  │   │   └── lodash.padstart@4.5.0 
  │   ├── once@1.4.0 
  │   ├── opener@1.4.1 
  │   ├─┬ osenv@0.1.3 
  │   │ ├── os-homedir@1.0.0 
  │   │ └── os-tmpdir@1.0.1 
  │   ├── path-is-inside@1.0.1 
  │   ├─┬ read@1.0.7 
  │   │ └── mute-stream@0.0.5 
  │   ├─┬ read-installed@4.0.3 
  │   │ ├── debuglog@1.0.1 
  │   │ ├── readdir-scoped-modules@1.0.2 
  │   │ └── util-extend@1.0.1 
  │   ├─┬ read-package-json@2.0.4 
  │   │ ├─┬ glob@6.0.4 
  │   │ │ └── path-is-absolute@1.0.0 
  │   │ └─┬ json-parse-helpfulerror@1.0.3 
  │   │   └── jju@1.3.0 
  │   ├─┬ readable-stream@2.1.5 
  │   │ ├── buffer-shims@1.0.0 
  │   │ ├── core-util-is@1.0.2 
  │   │ ├── isarray@1.0.0 
  │   │ ├── process-nextick-args@1.0.7 
  │   │ ├── string_decoder@0.10.31 
  │   │ └── util-deprecate@1.0.2 
  │   ├── realize-package-specifier@3.0.1 
  │   ├─┬ request@2.74.0 
  │   │ ├── aws-sign2@0.6.0 
  │   │ ├── aws4@1.4.1 
  │   │ ├─┬ bl@1.1.2 
  │   │ │ └─┬ readable-stream@2.0.6 
  │   │ │   ├── core-util-is@1.0.2 
  │   │ │   ├── isarray@1.0.0 
  │   │ │   ├── process-nextick-args@1.0.7 
  │   │ │   ├── string_decoder@0.10.31 
  │   │ │   └── util-deprecate@1.0.2 
  │   │ ├── caseless@0.11.0 
  │   │ ├─┬ combined-stream@1.0.5 
  │   │ │ └── delayed-stream@1.0.0 
  │   │ ├── extend@3.0.0 
  │   │ ├── forever-agent@0.6.1 
  │   │ ├─┬ form-data@1.0.0-rc4 
  │   │ │ └── async@1.5.2 
  │   │ ├─┬ har-validator@2.0.6 
  │   │ │ ├─┬ chalk@1.1.3 
  │   │ │ │ ├── ansi-styles@2.2.1 
  │   │ │ │ ├── escape-string-regexp@1.0.5 
  │   │ │ │ ├── has-ansi@2.0.0 
  │   │ │ │ └── supports-color@2.0.0 
  │   │ │ ├─┬ commander@2.9.0 
  │   │ │ │ └── graceful-readlink@1.0.1 
  │   │ │ ├─┬ is-my-json-valid@2.13.1 
  │   │ │ │ ├── generate-function@2.0.0 
  │   │ │ │ ├─┬ generate-object-property@1.2.0 
  │   │ │ │ │ └── is-property@1.0.2 
  │   │ │ │ ├── jsonpointer@2.0.0 
  │   │ │ │ └── xtend@4.0.1 
  │   │ │ └─┬ pinkie-promise@2.0.1 
  │   │ │   └── pinkie@2.0.4 
  │   │ ├─┬ hawk@3.1.3 
  │   │ │ ├── boom@2.10.1 
  │   │ │ ├── cryptiles@2.0.5 
  │   │ │ ├── hoek@2.16.3 
  │   │ │ └── sntp@1.0.9 
  │   │ ├─┬ http-signature@1.1.1 
  │   │ │ ├── assert-plus@0.2.0 
  │   │ │ ├─┬ jsprim@1.3.0 
  │   │ │ │ ├── extsprintf@1.0.2 
  │   │ │ │ ├── json-schema@0.2.2 
  │   │ │ │ └── verror@1.3.6 
  │   │ │ └─┬ sshpk@1.9.2 
  │   │ │   ├── asn1@0.2.3 
  │   │ │   ├── assert-plus@1.0.0 
  │   │ │   ├── dashdash@1.14.0 
  │   │ │   ├── ecc-jsbn@0.1.1 
  │   │ │   ├── getpass@0.1.6 
  │   │ │   ├── jodid25519@1.0.2 
  │   │ │   ├── jsbn@0.1.0 
  │   │ │   └── tweetnacl@0.13.3 
  │   │ ├── is-typedarray@1.0.0 
  │   │ ├── isstream@0.1.2 
  │   │ ├── json-stringify-safe@5.0.1 
  │   │ ├─┬ mime-types@2.1.11 
  │   │ │ └── mime-db@1.23.0 
  │   │ ├── node-uuid@1.4.7 
  │   │ ├── oauth-sign@0.8.2 
  │   │ ├── qs@6.2.1 
  │   │ ├── stringstream@0.0.5 
  │   │ ├── tough-cookie@2.3.1 
  │   │ └── tunnel-agent@0.4.3 
  │   ├── retry@0.10.0 
  │   ├── rimraf@2.5.4 
  │   ├── semver@5.1.0 
  │   ├─┬ sha@2.0.1 
  │   │ └─┬ readable-stream@2.0.2 
  │   │   ├── core-util-is@1.0.1 
  │   │   ├── isarray@0.0.1 
  │   │   ├── process-nextick-args@1.0.3 
  │   │   ├── string_decoder@0.10.31 
  │   │   └── util-deprecate@1.0.1 
  │   ├── slide@1.1.6 
  │   ├── sorted-object@2.0.0 
  │   ├── spdx-license-ids@1.2.2 
  │   ├── strip-ansi@3.0.1 
  │   ├── tar@2.2.1 
  │   ├── text-table@0.2.0 
  │   ├── uid-number@0.0.6 
  │   ├── umask@1.1.0 
  │   ├─┬ validate-npm-package-license@3.0.1 
  │   │ ├── spdx-correct@1.0.2 
  │   │ └─┬ spdx-expression-parse@1.0.2 
  │   │   └── spdx-exceptions@1.0.4 
  │   ├─┬ validate-npm-package-name@2.2.2 
  │   │ └── builtins@0.0.7 
  │   ├─┬ which@1.2.11 
  │   │ └── isexe@1.1.2 
  │   ├── wrappy@1.0.2 
  │   └── write-file-atomic@1.1.4 
  ├─┬ rc@1.1.6 
  │ ├── deep-extend@0.4.2 
  │ ├── ini@1.3.4 
  │ └── strip-json-comments@1.0.4 
  ├─┬ slap-util@1.0.7 
  │ ├── lodash@4.13.1 
  │ ├─┬ longjohn@0.2.11 
  │ │ └─┬ source-map-support@0.3.2 
  │ │   └─┬ source-map@0.1.32 
  │ │     └── amdefine@1.0.1 
  │ ├── traverse@0.6.6 
  │ └─┬ winston@1.1.2 
  │   ├── async@1.0.0 
  │   ├── colors@1.0.3 
  │   ├── cycle@1.0.3 
  │   ├── eyes@0.1.8 
  │   ├── isstream@0.1.2 
  │   ├── pkginfo@0.3.1 
  │   └── stack-trace@0.0.10 
  ├── ttys@0.0.3 
  └─┬ update-notifier@1.0.2 
    ├─┬ boxen@0.6.0 
    │ ├── ansi-align@1.1.0 
    │ ├── camelcase@2.1.1 
    │ ├── cli-boxes@1.0.0 
    │ ├── filled-array@1.1.0 
    │ ├── object-assign@4.1.1 
    │ ├─┬ repeating@2.0.1 
    │ │ └─┬ is-finite@1.0.2 
    │ │   └── number-is-nan@1.0.1 
    │ ├─┬ string-width@1.0.2 
    │ │ ├── code-point-at@1.1.0 
    │ │ └── is-fullwidth-code-point@1.0.0 
    │ └── widest-line@1.0.0 
    ├─┬ chalk@1.1.3 
    │ ├── ansi-styles@2.2.1 
    │ ├── escape-string-regexp@1.0.5 
    │ ├─┬ has-ansi@2.0.0 
    │ │ └── ansi-regex@2.1.1 
    │ ├── strip-ansi@3.0.1 
    │ └── supports-color@2.0.0 
    ├─┬ configstore@2.1.0 
    │ ├─┬ dot-prop@3.0.0 
    │ │ └── is-obj@1.0.1 
    │ ├── graceful-fs@4.1.11 
    │ ├── os-tmpdir@1.0.2 
    │ ├── osenv@0.1.4 
    │ ├── uuid@2.0.3 
    │ └─┬ write-file-atomic@1.3.4 
    │   ├── imurmurhash@0.1.4 
    │   └── slide@1.1.6 
    ├── is-npm@1.0.0 
    ├─┬ latest-version@2.0.0 
    │ └─┬ package-json@2.4.0 
    │   ├─┬ got@5.7.1 
    │   │ ├─┬ create-error-class@3.0.2 
    │   │ │ └── capture-stack-trace@1.0.0 
    │   │ ├── duplexer2@0.1.4 
    │   │ ├── is-redirect@1.0.0 
    │   │ ├── is-retry-allowed@1.1.0 
    │   │ ├── is-stream@1.1.0 
    │   │ ├── lowercase-keys@1.0.0 
    │   │ ├── node-status-codes@1.0.0 
    │   │ ├─┬ parse-json@2.2.0 
    │   │ │ └─┬ error-ex@1.3.1 
    │   │ │   └── is-arrayish@0.2.1 
    │   │ ├─┬ pinkie-promise@2.0.1 
    │   │ │ └── pinkie@2.0.4 
    │   │ ├── read-all-stream@3.1.0 
    │   │ ├── timed-out@3.1.3 
    │   │ ├── unzip-response@1.0.2 
    │   │ └─┬ url-parse-lax@1.0.0 
    │   │   └── prepend-http@1.0.4 
    │   ├─┬ registry-auth-token@3.3.1 
    │   │ └── safe-buffer@5.1.1 
    │   └── registry-url@3.1.0 
    ├── lazy-req@1.1.0 
    ├── semver-diff@2.1.0 
    └─┬ xdg-basedir@2.0.0 
      └── os-homedir@1.0.2 

Setup Done exists, not setting up
:../FeatureTester/libs/:/root/Targets/slap/node_modules
Set Default Z3_PATH to ./node_modules/z3javascript/bin/libz3.so
ExpoSE Master: /root/ExpoSE/lib/Harness/src/harness.js max concurrent: 16 max paths: 1000000
Setting timeout to 900000
*** [0 done /0 queued / 1 running / 0 errors / 0% coverage ] ****** [0 done /0 queued / 1 running / 0 errors / 0% coverage ] ****** [1 done /0 queued / 0 running / 1 errors / 33% coverage ] ***
*-- Stat Module Output --*
*-- concretizations: ["defineProperty","bound log"]
*-- Stat Module Done --*
*-- Test Case {"_bound":0} start 0.0363 took 3.7635s
*-- Errors occured in test {"_bound":0}
* Error: Tropigate failed because SyntaxError: The keyword 'package' is reserved (7:4) on program var _ = require('lodash');
var path = require('path');
var rc = require('rc');

var util = require('slap-util');
var ttys = require('ttys');
var package = require('../package');
var baseDir = path.join(__dirname, '..');
var configFile = path.join(baseDir, package.name + '.ini');
var opts = util.parseOpts(rc(package.name, configFile));
opts = _.merge(opts, opts.slap);

var info = console._error || console.error;

// special invocation modes
if (opts.h || opts.help) {
  var command = process.argv[1];
  if (!process.env.PATH.split(path.delimiter).some(function (binPath) {
    var newCommand = path.relative(binPath, command);
    if (path.dirname(newCommand) === '.') {
      command = newCommand;
      return true;
    }
  })) {
    command = path.relative(process.cwd(), command);
    if (path.dirname(command) === '.') command = '.' + path.sep + command;
  }

  info([
    "Usage: " + command + " [options...] [<file1> [<file2> [...]]]",
    "",
    package.description,
    "",
    "To see what options are available, run `" + command + " " + configFile + "`.",
    "Example: `" + command + " --logger.level debug file.c`."
  ].join("\n"));

  return process.exit(0);
}

if (opts.v || opts.version) {
  var SORT_ORDER = ['slap', 'node', 'v8'].reverse();
  var versions = _.clone(process.versions);
  versions[package.name] = package.version;
  info(Object.keys(versions)
    .sort(function (a, b) { return SORT_ORDER.indexOf(b) - SORT_ORDER.indexOf(a); })
    .map(function (name) { return name+"@"+versions[name]; })
    .join(", "));
  return process.exit(0);
}

if (opts.perf.profile && process.execArgv.indexOf('--prof') === -1) {
  var cp = require('child_process').fork(process.argv[1], process.argv.slice(2), {
    stdio: 'inherit',
    execArgv: ['--prof'].concat(process.execArgv)
  });
  cp.on('exit', function (code) { process.exit(code); });
  cp.on('error', function (err) { process.exit(8); });
  return;
}

global.Promise = require('bluebird');
var fs = Promise.promisifyAll(require('fs'));

var blessed = require('base-widget').blessed;
var Slap = require('./ui/Slap');
var EditorPane = require('./ui/EditorPane');

function readAsync (stream) {
  return new Promise(function (resolve, reject) {
    var chunks = [];
    stream
      .on('error', reject)
      .on('data', chunks.push.bind(chunks))
      .on('end', function () { resolve(Buffer.concat(chunks)); });
  });
}

module.exports = function (options) {
  opts = _.merge(opts, options);
  return Promise.all([
    Slap.getUserDir().catch(Promise.resolve()),
    process.stdin.isTTY ? Promise.resolve() : readAsync(process.stdin) // read pipe to stdin into a new file if there is one
  ]).spread(function (userDir, stdin) {
    if (userDir) opts = _.merge({logger: {file: path.resolve(userDir, package.name+'.log')}}, opts);
    opts = _.merge({editor: {logger: opts.logger}}, opts);
    opts.screenOpts.input = ttys.stdin; // Uses ttys to read from /dev/tty
    util.logger(opts.logger);
    util.logger.info("loading...");
    util.logger.verbose("configuration:", opts);

    if (!opts.config) fs // if a user config doesn't exist, make one by copying a template
      .createReadStream(path.join(__dirname, '..', 'default-config.ini'))
        .pipe(fs.createWriteStream(path.join(userDir, 'config')));

    if (!opts.screen) opts.screen = new blessed.Screen(opts.screenOpts);
    opts.screen.logger = opts.logger;
    var slap = new Slap(opts);

    Promise.all(opts._.map(function (path, i) {
      return slap.open(path.toString(), !i);
    })).done();

    if (stdin || !opts._.length) { // if no files are passed
      var pane = new EditorPane({parent: slap});
      // Sets stdin from pipe if it exists
      if (stdin) pane.editor.textBuf.setText(stdin.toString());
      pane.setCurrent();
    }

    require('update-notifier')({pkg: package}).notify();

    return slap.ready.disposer(function (slap) { slap.quit(); });
  });
};
 at SyntaxError: The keyword 'package' is reserved (7:4)
    at Parser.pp$4.raise (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:2221:15)
    at Parser.pp$3.parseIdent (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:2182:14)
    at Parser.parseBindingAtom (/root/ExpoSE/lib/Tropigate/bin/FunctionSignatures.js:41:34)
    at Parser.pp$1.parseVarId (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:1049:20)
    at Parser.pp$1.parseVar (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:1032:14)
    at Parser.pp$1.parseVarStatement (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:917:10)
    at Parser.pp$1.parseStatement (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:706:19)
    at Parser.parseStatement (/root/ExpoSE/lib/Tropigate/bin/Statements.js:104:30)
    at Parser.pp$1.parseTopLevel (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:638:25)
    at Parser.parse (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:516:17)
*-- Replay with NO_COMPILE=1 expoSE replay '/root/ExpoSE/lib/Harness/src/harness.js' '{"_bound":0}'
*-- Coverage Data
*- File /root/ExpoSE/lib/Harness/src/harness.js. Coverage (Term): 18% Coverage (LOC): 24%
*- File /root/ExpoSE/lib/S$/bin/symbols.js. Coverage (Term): 16% Coverage (LOC): 34%
*- Re-run with EXPOSE_PRINT_COVERAGE=1 to print line by line coverage information
** ExpoSE Finished. 1 paths with 1 errors **
