
> proxy-lite@2014.8.27-10 install /root/Targets/proxy-lite/node_modules/proxy-lite
> ./utility2.sh shNpmInstall

/root/Targets/proxy-lite
└── proxy-lite@2014.8.27-10 

Setup Done exists, not setting up
:../FeatureTester/libs/:/root/Targets/proxy-lite/node_modules
Set Default Z3_PATH to ./node_modules/z3javascript/bin/libz3.so
ExpoSE Master: /root/ExpoSE/lib/Harness/src/harness.js max concurrent: 16 max paths: 1000000
Setting timeout to 900000
*** [0 done /0 queued / 1 running / 0 errors / 0% coverage ] ****** [0 done /0 queued / 1 running / 0 errors / 0% coverage ] ****** [1 done /0 queued / 0 running / 1 errors / 33% coverage ] ***
*-- Stat Module Output --*
*-- concretizations: ["defineProperty","bound log"]
*-- Stat Module Done --*
*-- Test Case {"_bound":0} start 0.059 took 3.0788s
*-- Errors occured in test {"_bound":0}
* Error: Tropigate failed because SyntaxError: Unexpected character '#' (1:78) on program #!/usr/bin/env node
/*jslint
  bitwise: true, browser: true,
  indent: 2,
  maxerr: 8,
  node: true, nomen: true,
  regexp: true,
  stupid: true,
  todo: true
*/
// declare module vars
var exports, required, state, stateRestore;
stateRestore = function (state2) {
  /*
    this function is used by testMock to restore the local state var
  */
  'use strict';
  state = state2;
};



(function submoduleMainNodejs() {
  /*
    this nodejs submodule exports the main api
  */
  'use strict';
  var local = {
    _name: 'main.submoduleMainNodejs',

    _init: function () {
      /*
        this function inits the submodule
      */
      // init export object
      exports = module.exports = require(__dirname + '/utility2.js');
      // export __dirname
      exports.__dirname = __dirname;
      // export __filename
      exports.__filename = __filename;
      // init this submodule
      exports.initSubmodule(local);
      // init required object
      required = exports.required;
      // init state object
      state = exports.state;
    },

    'serverPathHandlerDict_/': function (request, response, next) {
      var finished, modeIo, onEventIo, options, proxyResponse, timerTimeout;
      modeIo = 0;
      onEventIo = function (error) {
        modeIo = error instanceof Error ? -1 : modeIo + 1;
        switch (modeIo) {
        case 1:
          // serve main page
          if (request.urlPathNormalized === '/') {
            exports.serverRespondData(response, 200, 'text/html', exports.textFormat(
              state.fileDict['/public/main.html'].data,
              { stateBrowserJson: state.stateBrowserJson }
            ));
            return;
          }
          // init url options
          options = required.url.parse(request.url.replace((/^\//), ''));
          if (options.protocol) {
            // set timerTimeout
            timerTimeout = exports.onEventTimeout(
              onEventIo,
              state.timeoutDefault,
              'proxy ' + request.url
            );
            (options.protocol === 'https:' ? required.https : required.http)
              .request(options, onEventIo)
              // handle error event
              .on('error', onEventIo)
              .end();
            return;
          }
          // handle invalid url case
          modeIo = -2;
          onEventIo();
          break;
        case 2:
          // pipe proxy response back to request
          proxyResponse = error;
          proxyResponse.pipe(response).on('error', onEventIo);
          break;
        default:
          // ignore error / data if already finished
          if (finished) {
            return;
          }
          finished = true;
          // cleanup timerTimeout
          clearTimeout(timerTimeout);
          // cleanup proxyResponse socket
          if (proxyResponse) {
            proxyResponse.destroy();
          }
          next(error);
        }
      };
      onEventIo();
    },

    '_serverPathHandlerDict_/_default_test': function (onEventError) {
      /*
        this function tests serverPathHandlerDict_/'s default handing behavior
      */
      exports.ajax({
        url: state.localhost + '/' + state.localhost + '/test/hello.json'
      }, function (error, data) {
        exports.testTryCatch(function () {
          // validate no error occurred
          exports.assert(!error, error);
          // validate data
          exports.assert(data === '"hello"', data);
          onEventError();
        }, onEventError);
      });
    },

    '_serverPathHandlerDict_/_invalidUrl_test': function (onEventError) {
      /*
        this function tests serverPathHandlerDict_/'s invalid url handing behavior
      */
      exports.ajax({
        url: '/invalid/url'
      }, function (error, data) {
        exports.testTryCatch(function () {
          // validate error occurred
          exports.assert(error instanceof Error, error);
          // validate data
          exports.assert(data === '404 Not Found', data);
          onEventError();
        }, onEventError);
      });
    }

  };
  local._init();
}());
 at SyntaxError: Unexpected character '#' (1:78)
    at Parser.pp$4.raise (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:2221:15)
    at Parser.pp$7.getTokenFromCode (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:2756:10)
    at Parser.pp$7.readToken (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:2477:17)
    at Parser.readToken (/root/ExpoSE/lib/Tropigate/bin/Tokens.js:124:26)
    at Parser.pp$7.nextToken (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:2468:15)
    at Parser.pp$7.next (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:2413:10)
    at Parser.pp.eat (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:536:12)
    at Parser.pp.semicolon (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:581:15)
    at Parser.pp$1.parseVarStatement (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:918:10)
    at Parser.pp$1.parseStatement (/root/ExpoSE/lib/Tropigate/node_modules/acorn/dist/acorn.js:706:19)
*-- Replay with NO_COMPILE=1 expoSE replay '/root/ExpoSE/lib/Harness/src/harness.js' '{"_bound":0}'
*-- Coverage Data
*- File /root/ExpoSE/lib/Harness/src/harness.js. Coverage (Term): 18% Coverage (LOC): 24%
*- File /root/ExpoSE/lib/S$/bin/symbols.js. Coverage (Term): 16% Coverage (LOC): 34%
*- Re-run with EXPOSE_PRINT_COVERAGE=1 to print line by line coverage information
** ExpoSE Finished. 1 paths with 1 errors **
