{"version":3,"file":"index.es6.js","sources":["../src/Range.js","../src/RangeableObject.js"],"sourcesContent":["/**\n * xethya-range\n *\n * Copyright © 2016 Joel A. Villarreal Bertoldi. All rights reserved.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.txt file in the root directory of this source tree.\n */\n\n/**\n * Represents a range of number, described through boundaries.\n */\nclass Range {\n  /**\n   * Instantiates a Range object.\n   * @param  {Number} lowerBound The minimum number in this range.\n   * @param  {Number} upperBound The maximum number in this range.\n   * @constructor\n   * @throws {Error} If lowerBound and upperBound are the same.\n   */\n  constructor(lowerBound, upperBound) {\n    if (typeof lowerBound === 'undefined') {\n      throw new Error('Range#constructor: lowerBound is required');\n    }\n    if (typeof lowerBound !== 'number') {\n      throw new Error('Range#constructor: lowerBound must be a Number');\n    }\n    if (typeof upperBound === 'undefined') {\n      throw new Error('Range#constructor: upperBound is required');\n    }\n    if (typeof upperBound !== 'number') {\n      throw new Error('Range#constructor: upperBound must be a Number');\n    }\n    if (lowerBound === upperBound) {\n      throw new Error('Range#constructor: lowerBound and upperBound cannot be equal');\n    }\n\n    /**\n     * @property {Number} lowerBound The minimum number in this range.\n     */\n    this.lowerBound = Math.min(lowerBound, upperBound);\n\n    /**\n     * @property {Number} upperBound The maximum number in this range.\n     */\n    this.upperBound = Math.max(lowerBound, upperBound);\n  }\n\n  /**\n   * Checks if a value is in the defined range.\n   *\n   * @param  {Number} value Value to compare.\n   * @return {Boolean} true if in range, false otherwise.\n   * @function\n   */\n  includes(value) {\n    if (typeof value === 'undefined') {\n      throw new Error('Range#includes: value is required');\n    }\n    if (typeof value !== 'number') {\n      throw new Error('Range#includes: value must be a Number');\n    }\n    return this.lowerBound <= value && value <= this.upperBound;\n  }\n\n  /**\n   * Converts the Range object to a string representation.\n   * @return {String}\n   * @function\n   */\n  toString() {\n    return `${this.lowerBound.toString()} ~ ${this.upperBound.toString()}`;\n  }\n\n  /**\n   * Creates a Range from an array of two numbers.\n   *\n   * @param  {Array.<Number>} values Boundaries of the range.\n   * @return {Range}\n   * @function\n   * @static\n   */\n  static fromArray(values) {\n    if (!Array.isArray(values)) {\n      throw new Error('Range#fromArray: values must be an Array of 2 numerical elements');\n    }\n    if (values.length !== 2) {\n      throw new Error('Range#fromArray: values must be an Array of 2 numerical elements');\n    }\n    if (!values.every(value => typeof value === 'number')) {\n      throw new Error('Range#fromArray: values must be an Array of 2 numerical elements');\n    }\n    return new Range(Number(values[0]), Number(values[1]));\n  }\n\n  /**\n   * Creates a Range from a string-based notation.\n   *\n   * @param  {String} notedRange A string representation of a Range,\n   * using delimiters. Accepted formats: x,y x;y x:y x~y.\n   * @return {Range}\n   * @function\n   * @static\n   */\n  static fromNotation(notedRange) {\n    if (!notedRange) {\n      throw new Error('Range#fromNotation: notedRange must use one of these formats: '\n        + 'x,y x;y x:y x~y');\n    }\n    if (typeof notedRange !== 'string') {\n      throw new Error('Range#fromNotation: notedRange must use one of these formats: '\n        + 'x,y x;y x:y x~y');\n    }\n\n    let range;\n    const allowedDelimiters = [',', ';', ':', '~'];\n    if (!allowedDelimiters.some(delimiter => notedRange.includes(delimiter))) {\n      throw new Error('Range#fromNotation: notedRange must use one of these formats: '\n        + 'x,y x;y x:y x~y');\n    }\n    let delimiterFound = false;\n    while (!delimiterFound) {\n      const delimiter = allowedDelimiters.shift();\n      delimiterFound = notedRange.includes(delimiter);\n      if (delimiterFound) {\n        const data = notedRange.split(delimiter).map(d => d.trim());\n        if (data.length !== 2) {\n          throw new Error('Range#fromNotation: notedRange must use one of these formats: '\n            + 'x,y x;y x:y x~y');\n        } else {\n          range = Range.fromArray(data.map(d => Number(d)));\n        }\n      }\n    }\n    if (!range) {\n      throw new Error('Range#fromNotation: notedRange must use one of these formats: '\n        + 'x,y x;y x:y x~y');\n    }\n    return range;\n  }\n}\n\nexport default Range;\n","/**\n * xethya-range\n *\n * Copyright © 2016 Joel A. Villarreal Bertoldi. All rights reserved.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.txt file in the root directory of this source tree.\n */\n\nimport { Mixin } from 'mixwith';\nimport Range from './Range';\n\nconst RangeableObject = Mixin((superclass) => class extends superclass {\n  constructor(...args) {\n    super(...args);\n    this.__meta__ = Object.assign({}, this.__meta__, {\n      rangeDefinition: new Range(0, Infinity)\n    });\n  }\n\n  get rangeDefinition() {\n    return this.__meta__.rangeDefinition;\n  }\n\n  set rangeDefinition(_) {\n    throw new Error('RangeableObject#rangeDefinition: object cannot be replaced');\n  }\n});\n\nexport default RangeableObject;\n"],"names":["Range","lowerBound","upperBound","Error","Math","min","max","value","toString","values","Array","isArray","length","every","Number","notedRange","range","allowedDelimiters","some","includes","delimiter","delimiterFound","shift","data","split","map","d","trim","fromArray","RangeableObject","Mixin","superclass","args","__meta__","Infinity","rangeDefinition","_"],"mappings":"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"}