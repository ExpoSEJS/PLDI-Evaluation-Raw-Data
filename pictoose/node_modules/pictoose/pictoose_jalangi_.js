J$.iids = {"8":[74,9,74,35],"9":[1,20,1,27],"10":[89,9,89,36],"16":[81,9,81,35],"17":[1,28,1,32],"18":[90,38,90,64],"24":[89,9,89,36],"25":[1,20,1,33],"26":[93,13,93,44],"32":[93,13,93,44],"33":[1,20,1,33],"34":[100,9,100,14],"40":[100,9,100,14],"41":[1,20,1,33],"42":[103,30,103,32],"48":[103,9,103,32],"49":[2,26,2,38],"50":[103,9,103,32],"56":[106,9,106,51],"57":[2,26,2,45],"58":[106,9,106,51],"64":[114,26,114,31],"65":[2,26,2,45],"66":[114,26,114,31],"72":[119,9,119,43],"73":[2,26,2,45],"74":[114,33,114,36],"80":[123,13,123,31],"81":[3,1,3,13],"88":[124,10,124,16],"89":[3,1,3,14],"90":[115,53,115,69],"96":[127,10,127,16],"97":[4,10,4,17],"98":[115,36,115,70],"104":[130,10,130,16],"105":[4,18,4,22],"106":[115,19,115,72],"112":[145,13,145,16],"113":[4,10,4,23],"114":[119,9,119,43],"120":[146,10,146,15],"121":[4,10,4,23],"122":[123,28,123,30],"128":[149,10,149,15],"129":[4,10,4,23],"130":[134,34,134,52],"136":[152,10,152,15],"137":[5,12,5,19],"138":[162,33,162,44],"144":[165,20,165,46],"145":[5,20,5,26],"146":[162,33,162,55],"152":[165,20,165,46],"153":[5,12,5,27],"154":[165,32,165,46],"160":[163,13,163,37],"161":[5,12,5,27],"162":[166,58,166,69],"168":[183,25,183,127],"169":[5,12,5,27],"170":[166,58,166,80],"176":[185,33,185,36],"177":[6,11,6,18],"178":[166,20,166,81],"184":[183,25,183,127],"185":[6,19,6,24],"186":[180,28,180,70],"192":[194,25,194,28],"193":[6,11,6,25],"194":[180,28,180,82],"200":[179,17,179,26],"201":[6,11,6,25],"202":[181,28,181,39],"208":[205,20,205,101],"209":[6,11,6,25],"210":[181,28,181,50],"216":[208,21,208,24],"217":[8,23,8,30],"218":[182,71,182,82],"224":[216,20,216,48],"225":[8,31,8,51],"226":[182,71,182,93],"232":[216,20,216,70],"233":[8,23,8,52],"234":[182,27,182,94],"240":[218,21,218,24],"241":[8,23,8,52],"242":[183,94,183,105],"248":[225,20,225,41],"249":[8,23,8,52],"250":[183,94,183,116],"256":[216,20,216,70],"257":[10,23,10,27],"258":[183,50,183,117],"264":[205,20,205,101],"265":[10,23,10,27],"266":[184,79,184,90],"272":[176,13,176,31],"273":[10,23,10,27],"274":[184,79,184,101],"280":[246,17,246,97],"281":[9,3,11,2],"282":[184,35,184,102],"288":[249,17,249,105],"289":[13,28,13,42],"290":[186,45,186,111],"296":[253,21,253,24],"297":[14,27,14,37],"298":[186,125,186,136],"304":[279,9,279,42],"305":[15,24,15,37],"306":[186,125,186,147],"312":[279,9,279,42],"313":[12,16,16,2],"314":[186,45,186,148],"320":[287,20,287,89],"321":[12,16,16,2],"322":[193,30,193,71],"328":[287,20,287,157],"329":[12,16,16,2],"330":[195,37,195,108],"336":[287,20,287,172],"337":[17,24,17,30],"338":[195,37,195,119],"344":[287,20,287,172],"345":[17,31,17,109],"346":[197,36,197,47],"352":[285,13,285,19],"353":[17,20,17,110],"354":[197,36,197,58],"361":[17,20,17,110],"362":[203,29,203,60],"369":[17,20,17,110],"370":[205,59,205,100],"377":[18,31,18,37],"378":[205,44,205,101],"385":[18,38,18,80],"386":[206,24,206,35],"393":[18,27,18,81],"394":[206,24,206,46],"401":[18,27,18,81],"402":[207,30,207,71],"409":[18,27,18,81],"410":[209,33,209,95],"417":[21,20,21,25],"418":[209,33,209,106],"425":[22,15,22,22],"426":[211,32,211,43],"433":[20,18,23,6],"434":[211,32,211,54],"441":[25,20,25,25],"442":[216,20,216,31],"449":[26,15,26,22],"450":[216,35,216,48],"457":[24,18,27,6],"458":[216,52,216,70],"465":[29,20,29,26],"466":[217,67,217,78],"473":[30,15,30,22],"474":[217,67,217,89],"481":[28,19,31,6],"482":[217,23,217,90],"489":[33,20,33,25],"490":[219,33,219,100],"497":[34,15,34,22],"498":[219,114,219,125],"505":[32,18,35,6],"506":[219,114,219,136],"513":[37,20,37,25],"514":[219,33,219,137],"521":[38,15,38,22],"522":[224,24,224,35],"529":[36,28,39,6],"530":[224,24,224,46],"537":[41,20,41,25],"538":[226,24,226,35],"545":[42,15,42,22],"546":[226,24,226,46],"553":[40,18,43,6],"554":[228,27,228,53],"561":[45,20,45,26],"562":[235,19,235,34],"569":[46,15,46,22],"570":[235,19,235,45],"577":[44,19,47,6],"578":[246,69,246,84],"585":[49,20,49,25],"586":[246,69,246,95],"593":[50,15,50,22],"594":[246,32,246,96],"601":[48,18,51,6],"602":[246,17,246,97],"609":[53,20,53,25],"610":[249,68,249,83],"617":[54,15,54,22],"618":[249,68,249,94],"625":[52,18,55,6],"626":[249,31,249,95],"633":[57,20,57,25],"634":[249,17,249,105],"641":[58,15,58,22],"642":[252,60,252,75],"649":[56,22,59,6],"650":[252,60,252,86],"657":[61,20,61,25],"658":[252,23,252,87],"665":[62,15,62,22],"666":[254,33,254,84],"673":[60,24,63,6],"674":[254,91,254,106],"681":[65,20,65,25],"682":[254,91,254,117],"689":[66,15,66,22],"690":[254,33,254,118],"697":[64,24,67,6],"698":[282,20,282,38],"705":[69,20,69,26],"706":[282,20,282,57],"713":[70,15,70,22],"714":[282,20,282,77],"721":[68,19,71,6],"722":[284,15,284,56],"729":[19,13,72,2],"730":[286,26,286,66],"737":[19,13,72,2],"738":[287,37,287,89],"745":[19,13,72,2],"746":[287,107,287,156],"753":[74,9,74,14],"754":[290,42,290,91],"761":[74,30,74,34],"762":[297,30,297,71],"769":[74,9,74,35],"770":[298,26,298,66],"771":[74,9,74,29],"777":[75,16,75,21],"778":[300,26,300,74],"785":[75,22,75,26],"793":[75,16,75,27],"801":[75,16,75,37],"809":[75,16,75,37],"817":[75,9,75,38],"825":[77,16,77,21],"833":[77,16,77,21],"841":[77,9,77,22],"849":[73,24,79,2],"857":[73,24,79,2],"865":[73,24,79,2],"873":[73,24,79,2],"881":[73,24,79,2],"889":[73,24,79,2],"897":[81,9,81,14],"905":[81,30,81,34],"913":[81,9,81,35],"915":[81,9,81,29],"921":[82,16,82,21],"929":[82,22,82,26],"937":[82,16,82,27],"945":[82,16,82,32],"953":[82,16,82,32],"961":[82,9,82,33],"969":[84,16,84,21],"977":[84,16,84,21],"985":[84,9,84,22],"993":[80,19,86,2],"1001":[80,19,86,2],"1009":[80,19,86,2],"1017":[80,19,86,2],"1025":[80,19,86,2],"1033":[80,19,86,2],"1041":[88,21,88,24],"1049":[88,21,88,24],"1057":[88,21,88,24],"1065":[89,9,89,18],"1073":[89,27,89,30],"1081":[89,9,89,31],"1083":[89,9,89,26],"1089":[89,35,89,36],"1097":[90,21,90,30],"1105":[90,38,90,47],"1113":[90,56,90,59],"1121":[90,38,90,60],"1123":[90,38,90,55],"1129":[90,63,90,64],"1137":[90,21,90,65],"1139":[90,21,90,37],"1145":[90,21,90,65],"1153":[90,9,90,66],"1161":[92,19,92,24],"1169":[93,13,93,18],"1177":[93,19,93,20],"1185":[93,13,93,21],"1193":[93,13,93,31],"1201":[93,35,93,44],"1209":[94,20,94,25],"1217":[94,26,94,27],"1225":[94,20,94,28],"1233":[94,20,94,33],"1241":[94,20,94,33],"1249":[94,13,94,34],"1257":[92,19,92,24],"1265":[92,5,96,6],"1273":[92,5,96,6],"1281":[97,12,97,17],"1289":[97,12,97,17],"1297":[97,5,97,18],"1305":[87,30,98,2],"1313":[87,30,98,2],"1321":[87,30,98,2],"1329":[87,30,98,2],"1337":[87,30,98,2],"1345":[87,30,98,2],"1353":[87,30,98,2],"1361":[87,30,98,2],"1369":[100,10,100,14],"1377":[101,16,101,21],"1385":[101,16,101,21],"1393":[101,9,101,22],"1401":[103,9,103,13],"1409":[103,22,103,25],"1417":[103,9,103,26],"1419":[103,9,103,21],"1425":[103,31,103,32],"1433":[104,16,104,21],"1441":[104,16,104,21],"1449":[104,9,104,22],"1457":[106,9,106,13],"1465":[106,22,106,25],"1473":[106,9,106,26],"1475":[106,9,106,21],"1481":[106,30,106,34],"1489":[106,47,106,50],"1497":[106,30,106,51],"1499":[106,30,106,46],"1505":[107,16,107,21],"1513":[107,16,107,21],"1521":[107,9,107,22],"1529":[109,13,109,17],"1537":[109,24,109,27],"1545":[109,13,109,28],"1547":[109,13,109,23],"1553":[109,29,109,30],"1561":[109,13,109,31],"1569":[109,13,109,31],"1577":[109,13,109,31],"1585":[110,12,110,24],"1593":[110,30,110,31],"1601":[110,12,110,32],"1603":[110,12,110,29],"1609":[110,12,110,32],"1617":[110,5,110,33],"1625":[99,19,111,2],"1633":[99,19,111,2],"1641":[99,19,111,2],"1649":[99,19,111,2],"1657":[99,19,111,2],"1665":[99,19,111,2],"1673":[99,19,111,2],"1681":[113,18,113,20],"1689":[113,18,113,20],"1697":[113,18,113,20],"1705":[114,18,114,24],"1713":[114,18,114,24],"1721":[114,18,114,24],"1729":[114,26,114,27],"1737":[114,30,114,31],"1753":[114,35,114,36],"1761":[114,33,114,36],"1769":[115,19,115,24],"1777":[115,25,115,29],"1785":[115,36,115,40],"1793":[115,36,115,49],"1795":[115,36,115,47],"1801":[115,53,115,58],"1809":[115,53,115,65],"1817":[115,68,115,69],"1825":[115,25,115,71],"1827":[115,25,115,35],"1833":[115,19,115,72],"1841":[115,9,115,15],"1849":[115,9,115,72],"1857":[115,9,115,73],"1865":[116,12,116,18],"1873":[116,12,116,18],"1881":[116,5,116,19],"1889":[112,20,117,2],"1897":[112,20,117,2],"1905":[112,20,117,2],"1913":[112,20,117,2],"1921":[112,20,117,2],"1929":[112,20,117,2],"1937":[112,20,117,2],"1945":[112,20,117,2],"1953":[112,20,117,2],"1961":[119,10,119,29],"1969":[119,35,119,42],"1977":[119,10,119,43],"1979":[119,10,119,34],"1985":[120,16,120,21],"1993":[120,16,120,21],"2001":[120,9,120,22],"2009":[123,13,123,20],"2017":[123,29,123,30],"2025":[123,13,123,31],"2027":[123,13,123,27],"2033":[125,16,125,28],"2041":[125,16,125,28],"2049":[125,9,125,29],"2057":[124,10,124,16],"2065":[128,16,128,27],"2073":[128,16,128,27],"2081":[128,9,128,28],"2089":[127,10,127,16],"2097":[131,16,131,22],"2105":[131,16,131,22],"2113":[131,9,131,23],"2121":[130,10,130,16],"2129":[134,16,134,23],"2137":[134,31,134,32],"2145":[134,34,134,41],"2153":[134,34,134,48],"2161":[134,51,134,52],"2169":[134,16,134,53],"2171":[134,16,134,30],"2177":[134,16,134,53],"2185":[134,16,134,53],"2193":[135,16,135,20],"2201":[135,27,135,30],"2209":[135,16,135,31],"2211":[135,16,135,26],"2217":[135,16,135,31],"2225":[135,16,135,31],"2233":[137,16,137,24],"2241":[137,25,137,29],"2249":[137,30,137,31],"2257":[137,25,137,32],"2265":[137,16,137,33],"2273":[138,17,138,25],"2281":[138,26,138,30],"2289":[138,31,138,32],"2297":[138,26,138,33],"2305":[138,17,138,34],"2313":[139,15,139,19],"2321":[136,12,140,6],"2329":[136,12,140,6],"2337":[136,5,140,7],"2345":[118,26,141,2],"2353":[118,26,141,2],"2361":[118,26,141,2],"2369":[118,26,141,2],"2377":[118,26,141,2],"2385":[118,26,141,2],"2393":[118,26,141,2],"2401":[118,26,141,2],"2409":[143,15,143,24],"2417":[143,15,143,38],"2419":[143,15,143,36],"2425":[143,15,143,38],"2433":[143,15,143,38],"2441":[145,13,145,16],"2449":[147,18,147,23],"2457":[147,18,147,23],"2465":[147,9,147,24],"2473":[146,10,146,15],"2481":[150,18,150,23],"2489":[150,18,150,23],"2497":[150,9,150,24],"2505":[149,10,149,15],"2513":[153,18,153,23],"2521":[153,18,153,23],"2529":[153,9,153,24],"2537":[152,10,152,15],"2545":[156,18,156,24],"2553":[156,18,156,24],"2561":[156,9,156,25],"2569":[158,12,158,18],"2577":[158,12,158,18],"2585":[158,5,158,19],"2593":[142,32,159,2],"2601":[142,32,159,2],"2609":[142,32,159,2],"2617":[142,32,159,2],"2625":[142,32,159,2],"2633":[142,32,159,2],"2641":[142,32,159,2],"2649":[142,32,159,2],"2657":[162,24,162,28],"2665":[162,33,162,36],"2673":[162,39,162,44],"2681":[162,47,162,55],"2689":[162,24,162,56],"2691":[162,24,162,32],"2697":[162,24,162,56],"2705":[162,24,162,56],"2713":[163,13,163,16],"2721":[163,23,163,31],"2729":[163,13,163,32],"2731":[163,13,163,22],"2737":[163,13,163,37],"2745":[164,20,164,28],"2753":[164,20,164,28],"2761":[164,13,164,29],"2769":[165,20,165,28],"2777":[165,32,165,40],"2785":[165,44,165,46],"2793":[166,20,166,28],"2801":[166,20,166,46],"2809":[166,49,166,53],"2817":[166,58,166,61],"2825":[166,64,166,69],"2833":[166,72,166,80],"2841":[166,49,166,81],"2843":[166,49,166,57],"2849":[166,20,166,81],"2857":[166,13,166,82],"2865":[168,20,168,22],"2873":[168,20,168,22],"2881":[168,13,168,23],"2889":[161,12,170,6],"2897":[161,12,170,6],"2905":[161,12,170,6],"2913":[161,12,170,6],"2921":[161,12,170,6],"2929":[161,5,170,7],"2937":[160,21,171,2],"2945":[160,21,171,2],"2953":[160,21,171,2],"2961":[160,21,171,2],"2969":[160,21,171,2],"2977":[160,21,171,2],"2985":[174,22,174,26],"2993":[174,22,174,26],"3001":[174,22,174,26],"3009":[175,24,175,28],"3017":[175,38,175,43],"3025":[175,24,175,44],"3027":[175,24,175,37],"3033":[175,24,175,44],"3041":[175,24,175,44],"3049":[176,13,176,24],"3057":[176,25,176,30],"3065":[176,13,176,31],"3073":[177,28,177,33],"3081":[177,41,177,42],"3089":[177,28,177,43],"3091":[177,28,177,40],"3097":[177,50,177,53],"3105":[177,28,177,54],"3107":[177,28,177,49],"3113":[177,55,177,56],"3121":[177,28,177,57],"3129":[177,28,177,57],"3137":[177,28,177,57],"3145":[178,29,178,45],"3153":[178,46,178,54],"3161":[178,29,178,55],"3169":[178,29,178,55],"3177":[178,29,178,55],"3185":[179,17,179,26],"3193":[180,28,180,40],"3201":[180,41,180,43],"3209":[180,45,180,63],"3217":[180,28,180,64],"3225":[180,67,180,70],"3233":[180,73,180,82],"3241":[180,28,180,82],"3249":[180,17,180,83],"3257":[181,17,181,23],"3265":[181,28,181,31],"3273":[181,34,181,39],"3281":[181,42,181,50],"3289":[181,52,181,60],"3297":[181,17,181,61],"3299":[181,17,181,27],"3305":[181,17,181,62],"3313":[182,17,182,19],"3321":[182,27,182,35],"3329":[182,27,182,57],"3337":[182,60,182,66],"3345":[182,71,182,74],"3353":[182,77,182,82],"3361":[182,85,182,93],"3369":[182,60,182,94],"3371":[182,60,182,70],"3377":[183,25,183,33],"3385":[183,37,183,39],"3393":[183,50,183,58],"3401":[183,50,183,80],"3409":[183,83,183,89],"3417":[183,94,183,97],"3425":[183,100,183,105],"3433":[183,108,183,116],"3441":[183,83,183,117],"3443":[183,83,183,93],"3449":[183,37,183,118],"3451":[183,37,183,49],"3457":[183,37,183,127],"3459":[183,37,183,125],"3465":[184,25,184,27],"3473":[184,35,184,43],"3481":[184,35,184,65],"3489":[184,68,184,74],"3497":[184,79,184,82],"3505":[184,85,184,90],"3513":[184,93,184,101],"3521":[184,68,184,102],"3523":[184,68,184,78],"3529":[185,33,185,36],"3537":[186,33,186,40],"3545":[186,45,186,78],"3553":[186,81,186,89],"3561":[186,81,186,111],"3569":[186,114,186,120],"3577":[186,125,186,128],"3585":[186,131,186,136],"3593":[186,139,186,147],"3601":[186,114,186,148],"3603":[186,114,186,124],"3609":[186,33,186,149],"3611":[186,33,186,44],"3617":[186,33,186,150],"3625":[187,33,187,40],"3633":[187,47,187,50],"3641":[187,33,187,51],"3643":[187,33,187,46],"3649":[187,33,187,52],"3657":[188,33,188,40],"3665":[188,33,188,40],"3673":[184,104,190,26],"3681":[184,104,190,26],"3689":[184,104,190,26],"3697":[184,104,190,26],"3705":[184,25,190,27],"3707":[184,25,184,34],"3713":[184,25,190,28],"3721":[182,96,192,18],"3729":[182,96,192,18],"3737":[182,96,192,18],"3745":[182,96,192,18],"3753":[182,17,192,19],"3755":[182,17,182,26],"3761":[182,17,192,20],"3769":[193,17,193,19],"3777":[193,30,193,38],"3785":[193,30,193,60],"3793":[193,63,193,71],"3801":[193,73,193,78],"3809":[193,85,193,88],"3817":[193,73,193,89],"3819":[193,73,193,84],"3825":[193,90,193,91],"3833":[193,73,193,92],"3841":[193,94,193,102],"3849":[194,25,194,28],"3857":[195,25,195,32],"3865":[195,37,195,75],"3873":[195,78,195,86],"3881":[195,78,195,108],"3889":[195,111,195,119],"3897":[195,25,195,120],"3899":[195,25,195,36],"3905":[195,25,195,121],"3913":[196,25,196,32],"3921":[196,39,196,42],"3929":[196,25,196,43],"3931":[196,25,196,38],"3937":[196,25,196,44],"3945":[197,25,197,31],"3953":[197,36,197,39],"3961":[197,42,197,47],"3969":[197,50,197,58],"3977":[197,60,197,62],"3985":[197,25,197,63],"3987":[197,25,197,35],"3993":[197,25,197,64],"4001":[198,25,198,32],"4009":[198,25,198,32],"4017":[200,21,200,27],"4025":[200,21,200,34],"4027":[200,21,200,32],"4033":[200,21,200,35],"4041":[193,104,201,18],"4049":[193,104,201,18],"4057":[193,104,201,18],"4065":[193,104,201,18],"4073":[193,17,201,19],"4075":[193,17,193,29],"4081":[193,17,201,20],"4089":[203,17,203,24],"4097":[203,29,203,49],"4105":[203,52,203,60],"4113":[203,17,203,61],"4115":[203,17,203,28],"4121":[203,17,203,62],"4129":[205,20,205,22],"4137":[205,34,205,39],"4145":[205,20,205,40],"4147":[205,20,205,33],"4153":[205,45,205,47],"4161":[205,59,205,67],"4169":[205,59,205,89],"4177":[205,92,205,100],"4185":[205,45,205,101],"4187":[205,45,205,58],"4193":[206,13,206,19],"4201":[206,24,206,27],"4209":[206,30,206,35],"4217":[206,38,206,46],"4225":[206,48,206,56],"4233":[206,13,206,57],"4235":[206,13,206,23],"4241":[206,13,206,58],"4249":[207,13,207,15],"4257":[207,23,207,28],"4265":[207,30,207,38],"4273":[207,30,207,60],"4281":[207,63,207,71],"4289":[208,21,208,24],"4297":[209,21,209,28],"4305":[209,33,209,62],"4313":[209,65,209,73],"4321":[209,65,209,95],"4329":[209,98,209,106],"4337":[209,21,209,107],"4339":[209,21,209,32],"4345":[209,21,209,108],"4353":[210,21,210,28],"4361":[210,35,210,38],"4369":[210,21,210,39],"4371":[210,21,210,34],"4377":[210,21,210,40],"4385":[211,21,211,27],"4393":[211,32,211,35],"4401":[211,38,211,43],"4409":[211,46,211,54],"4417":[211,56,211,58],"4425":[211,21,211,59],"4427":[211,21,211,31],"4433":[211,21,211,60],"4441":[212,21,212,28],"4449":[212,21,212,28],"4457":[214,17,214,23],"4465":[214,17,214,30],"4467":[214,17,214,28],"4473":[214,17,214,31],"4481":[207,73,215,14],"4489":[207,73,215,14],"4497":[207,73,215,14],"4505":[207,73,215,14],"4513":[207,13,215,15],"4515":[207,13,207,22],"4521":[207,13,215,16],"4529":[216,20,216,25],"4537":[216,29,216,31],"4545":[216,35,216,40],"4553":[216,44,216,48],"4561":[216,52,216,57],"4569":[216,61,216,70],"4577":[217,13,217,15],"4585":[217,23,217,31],"4593":[217,23,217,53],"4601":[217,56,217,62],"4609":[217,67,217,70],"4617":[217,73,217,78],"4625":[217,81,217,89],"4633":[217,56,217,90],"4635":[217,56,217,66],"4641":[218,21,218,24],"4649":[219,21,219,28],"4657":[219,33,219,67],"4665":[219,70,219,78],"4673":[219,70,219,100],"4681":[219,103,219,109],"4689":[219,114,219,117],"4697":[219,120,219,125],"4705":[219,128,219,136],"4713":[219,103,219,137],"4715":[219,103,219,113],"4721":[219,21,219,138],"4723":[219,21,219,32],"4729":[219,21,219,139],"4737":[220,21,220,28],"4745":[220,35,220,38],"4753":[220,21,220,39],"4755":[220,21,220,34],"4761":[220,21,220,40],"4769":[221,21,221,28],"4777":[221,21,221,28],"4785":[217,92,223,14],"4793":[217,92,223,14],"4801":[217,92,223,14],"4809":[217,92,223,14],"4817":[217,13,223,15],"4819":[217,13,217,22],"4825":[217,13,223,16],"4833":[224,13,224,19],"4841":[224,24,224,27],"4849":[224,30,224,35],"4857":[224,38,224,46],"4865":[224,48,224,50],"4873":[224,13,224,51],"4875":[224,13,224,23],"4881":[224,13,224,52],"4889":[225,20,225,23],"4897":[225,30,225,35],"4905":[225,20,225,36],"4907":[225,20,225,29],"4913":[225,20,225,41],"4921":[226,13,226,19],"4929":[226,24,226,27],"4937":[226,30,226,35],"4945":[226,38,226,46],"4953":[226,48,226,53],"4961":[226,13,226,54],"4963":[226,13,226,23],"4969":[226,13,226,55],"4977":[228,13,228,20],"4985":[228,27,228,45],"4993":[228,48,228,53],"5001":[228,13,228,54],"5003":[228,13,228,26],"5009":[228,13,228,55],"5017":[173,12,230,6],"5025":[173,12,230,6],"5033":[173,12,230,6],"5041":[173,12,230,6],"5049":[173,12,230,6],"5057":[173,12,230,6],"5065":[173,12,230,6],"5073":[173,12,230,6],"5081":[173,12,230,6],"5089":[173,5,230,7],"5097":[172,21,231,2],"5105":[172,21,231,2],"5113":[172,21,231,2],"5121":[172,21,231,2],"5129":[172,21,231,2],"5137":[172,21,231,2],"5145":[233,21,233,23],"5153":[233,21,233,23],"5161":[233,21,233,23],"5169":[234,19,234,25],"5177":[235,9,235,18],"5185":[235,19,235,22],"5193":[235,25,235,31],"5201":[235,32,235,33],"5209":[235,25,235,34],"5217":[235,37,235,45],"5225":[236,19,236,25],"5233":[237,22,237,24],"5241":[238,21,238,25],"5249":[235,49,239,10],"5257":[235,9,239,10],"5265":[235,9,239,11],"5273":[234,19,234,25],"5281":[234,5,240,6],"5289":[234,5,240,6],"5297":[241,12,241,21],"5305":[241,12,241,21],"5313":[241,5,241,22],"5321":[232,27,242,2],"5329":[232,27,242,2],"5337":[232,27,242,2],"5345":[232,27,242,2],"5353":[232,27,242,2],"5361":[232,27,242,2],"5369":[232,27,242,2],"5377":[232,27,242,2],"5385":[245,23,245,29],"5393":[246,18,246,20],"5401":[246,32,246,40],"5409":[246,32,246,62],"5417":[246,65,246,68],"5425":[246,69,246,72],"5433":[246,75,246,81],"5441":[246,82,246,83],"5449":[246,75,246,84],"5457":[246,87,246,95],"5465":[246,65,246,96],"5473":[246,18,246,97],"5475":[246,18,246,31],"5481":[247,17,247,24],"5489":[247,17,247,24],"5497":[249,18,249,20],"5505":[249,31,249,39],"5513":[249,31,249,61],"5521":[249,64,249,67],"5529":[249,68,249,71],"5537":[249,74,249,80],"5545":[249,81,249,82],"5553":[249,74,249,83],"5561":[249,86,249,94],"5569":[249,64,249,95],"5577":[249,18,249,96],"5579":[249,18,249,30],"5585":[249,18,249,105],"5587":[249,18,249,103],"5593":[250,17,250,24],"5601":[250,17,250,24],"5609":[252,13,252,15],"5617":[252,23,252,31],"5625":[252,23,252,53],"5633":[252,56,252,59],"5641":[252,60,252,63],"5649":[252,66,252,72],"5657":[252,73,252,74],"5665":[252,66,252,75],"5673":[252,78,252,86],"5681":[252,56,252,87],"5689":[253,21,253,24],"5697":[254,21,254,28],"5705":[254,33,254,51],"5713":[254,54,254,62],"5721":[254,54,254,84],"5729":[254,87,254,90],"5737":[254,91,254,94],"5745":[254,97,254,103],"5753":[254,104,254,105],"5761":[254,97,254,106],"5769":[254,109,254,117],"5777":[254,87,254,118],"5785":[254,21,254,119],"5787":[254,21,254,32],"5793":[254,21,254,120],"5801":[255,21,255,28],"5809":[255,35,255,38],"5817":[255,21,255,39],"5819":[255,21,255,34],"5825":[255,21,255,40],"5833":[252,89,257,14],"5841":[252,89,257,14],"5849":[252,89,257,14],"5857":[252,89,257,14],"5865":[252,13,257,15],"5867":[252,13,252,22],"5873":[252,13,257,16],"5881":[245,23,245,29],"5889":[245,9,258,10],"5897":[245,9,258,10],"5905":[244,12,259,6],"5913":[244,12,259,6],"5921":[244,12,259,6],"5929":[244,12,259,6],"5937":[244,12,259,6],"5945":[244,12,259,6],"5953":[244,5,259,7],"5961":[243,22,260,2],"5969":[243,22,260,2],"5977":[243,22,260,2],"5985":[243,22,260,2],"5993":[243,22,260,2],"6001":[243,22,260,2],"6009":[262,19,262,25],"6017":[263,9,263,15],"6025":[263,24,263,30],"6033":[263,31,263,32],"6041":[263,24,263,33],"6049":[263,9,263,34],"6051":[263,9,263,23],"6057":[263,39,263,52],"6065":[263,53,263,59],"6073":[263,60,263,61],"6081":[263,53,263,62],"6089":[263,39,263,63],"6097":[263,9,263,64],"6099":[263,9,263,38],"6105":[263,9,263,65],"6113":[264,9,264,15],"6121":[264,24,264,30],"6129":[264,31,264,32],"6137":[264,24,264,33],"6145":[264,9,264,34],"6147":[264,9,264,23],"6153":[264,39,264,52],"6161":[264,53,264,59],"6169":[264,60,264,61],"6177":[264,53,264,62],"6185":[264,39,264,63],"6193":[264,9,264,64],"6195":[264,9,264,38],"6201":[264,9,264,65],"6209":[262,19,262,25],"6217":[262,5,265,6],"6225":[262,5,265,6],"6233":[266,5,266,11],"6241":[266,16,266,24],"6249":[266,38,266,42],"6257":[266,26,266,44],"6265":[266,5,266,45],"6267":[266,5,266,15],"6273":[266,5,266,46],"6281":[267,5,267,11],"6289":[267,16,267,26],"6297":[267,40,267,44],"6305":[267,28,267,46],"6313":[267,5,267,47],"6315":[267,5,267,15],"6321":[267,5,267,48],"6329":[268,5,268,11],"6337":[268,16,268,35],"6345":[268,36,268,42],"6353":[268,16,268,43],"6361":[268,5,268,44],"6363":[268,5,268,15],"6369":[268,5,268,45],"6377":[269,5,269,11],"6385":[269,17,269,25],"6393":[269,27,269,41],"6401":[269,42,269,48],"6409":[269,27,269,49],"6417":[269,5,269,50],"6419":[269,5,269,16],"6425":[269,5,269,51],"6433":[261,14,270,2],"6441":[261,14,270,2],"6449":[261,14,270,2],"6457":[261,14,270,2],"6465":[261,14,270,2],"6473":[261,14,270,2],"6481":[261,14,270,2],"6489":[261,14,270,2],"6497":[272,5,272,13],"6505":[272,14,272,17],"6513":[272,21,272,26],"6521":[272,5,272,26],"6529":[272,5,272,27],"6537":[271,14,273,2],"6545":[271,14,273,2],"6553":[271,14,273,2],"6561":[271,14,273,2],"6569":[271,14,273,2],"6577":[271,14,273,2],"6585":[271,14,273,2],"6593":[275,20,275,23],"6601":[275,20,275,30],"6609":[275,20,275,36],"6617":[275,20,275,36],"6625":[275,20,275,36],"6633":[276,25,276,43],"6641":[276,44,276,47],"6649":[276,44,276,53],"6657":[276,44,276,60],"6665":[276,25,276,61],"6673":[276,25,276,61],"6681":[276,25,276,61],"6689":[279,9,279,12],"6697":[279,9,279,18],"6705":[279,9,279,25],"6713":[279,29,279,42],"6721":[280,29,280,37],"6729":[280,45,280,53],"6737":[280,66,280,69],"6745":[280,45,280,70],"6747":[280,45,280,65],"6753":[280,29,280,71],"6755":[280,29,280,44],"6761":[280,29,280,71],"6769":[280,9,280,72],"6777":[281,24,281,32],"6785":[281,40,281,41],"6793":[281,43,281,51],"6801":[281,64,281,67],"6809":[281,43,281,68],"6811":[281,43,281,63],"6817":[281,24,281,69],"6819":[281,24,281,39],"6825":[281,24,281,69],"6833":[281,9,281,70],"6841":[282,20,282,32],"6849":[282,35,282,38],"6857":[282,41,282,44],"6865":[282,41,282,50],"6873":[282,41,282,57],"6881":[282,60,282,77],"6889":[282,20,282,77],"6897":[282,9,282,78],"6905":[284,5,284,7],"6913":[284,15,284,23],"6921":[284,15,284,45],"6929":[284,48,284,56],"6937":[285,13,285,19],"6945":[286,13,286,16],"6953":[286,26,286,34],"6961":[286,26,286,55],"6969":[286,58,286,66],"6977":[286,13,286,67],"6979":[286,13,286,25],"6985":[286,13,286,68],"6993":[287,20,287,33],"7001":[287,37,287,59],"7009":[287,60,287,77],"7017":[287,37,287,78],"7025":[287,82,287,89],"7033":[287,93,287,95],"7041":[287,107,287,115],"7049":[287,107,287,137],"7057":[287,140,287,143],"7065":[287,140,287,150],"7073":[287,140,287,156],"7081":[287,93,287,157],"7083":[287,93,287,106],"7089":[287,161,287,172],"7097":[288,26,288,50],"7105":[288,51,288,68],"7113":[288,26,288,69],"7121":[288,26,288,69],"7129":[288,26,288,69],"7137":[289,33,289,44],"7145":[290,26,290,28],"7153":[290,42,290,50],"7161":[290,42,290,72],"7169":[290,75,290,78],"7177":[290,75,290,85],"7185":[290,75,290,91],"7193":[290,26,290,92],"7195":[290,26,290,41],"7201":[291,24,291,37],"7209":[291,24,291,43],"7217":[292,25,292,38],"7225":[292,25,292,45],"7233":[293,30,293,43],"7241":[293,30,293,48],"7249":[294,26,294,28],"7257":[295,25,295,31],"7265":[289,53,296,14],"7273":[289,33,296,15],"7275":[289,33,289,52],"7281":[289,33,296,15],"7289":[289,33,296,15],"7297":[297,13,297,15],"7305":[297,30,297,38],"7313":[297,30,297,60],"7321":[297,63,297,71],"7329":[297,73,297,86],"7337":[297,13,297,87],"7339":[297,13,297,29],"7345":[297,13,297,88],"7353":[298,13,298,16],"7361":[298,26,298,34],"7369":[298,26,298,55],"7377":[298,58,298,66],"7385":[298,13,298,67],"7387":[298,13,298,25],"7393":[298,13,298,68],"7401":[300,13,300,16],"7409":[300,26,300,34],"7417":[300,26,300,55],"7425":[300,58,300,61],"7433":[300,58,300,68],"7441":[300,58,300,74],"7449":[300,13,300,75],"7451":[300,13,300,25],"7457":[300,13,300,76],"7465":[284,58,302,6],"7473":[284,58,302,6],"7481":[284,58,302,6],"7489":[284,58,302,6],"7497":[284,58,302,6],"7505":[284,58,302,6],"7513":[284,5,302,7],"7515":[284,5,284,14],"7521":[284,5,302,8],"7529":[274,23,303,2],"7537":[274,23,303,2],"7545":[274,23,303,2],"7553":[274,23,303,2],"7561":[274,23,303,2],"7569":[274,23,303,2],"7577":[274,23,303,2],"7585":[274,23,303,2],"7593":[274,23,303,2],"7601":[274,23,303,2],"7609":[274,23,303,2],"7617":[304,1,304,7],"7625":[305,13,305,19],"7633":[306,13,306,19],"7641":[307,22,307,37],"7649":[304,18,308,2],"7657":[304,1,308,2],"7665":[304,1,308,3],"7673":[1,1,308,3],"7681":[1,1,308,3],"7689":[1,1,308,3],"7697":[1,1,308,3],"7705":[1,1,308,3],"7713":[1,1,308,3],"7721":[1,1,308,3],"7729":[1,1,308,3],"7737":[1,1,308,3],"7745":[1,1,308,3],"7753":[1,1,308,3],"7761":[1,1,308,3],"7769":[1,1,308,3],"7777":[1,1,308,3],"7785":[1,1,308,3],"7793":[1,1,308,3],"7801":[1,1,308,3],"7809":[1,1,308,3],"7817":[1,1,308,3],"7825":[1,1,308,3],"7833":[1,1,308,3],"7841":[1,1,308,3],"7849":[1,1,308,3],"7857":[1,1,308,3],"7865":[1,1,308,3],"7873":[74,5,78,6],"7881":[73,24,79,2],"7889":[73,24,79,2],"7897":[81,5,85,6],"7905":[80,19,86,2],"7913":[80,19,86,2],"7921":[89,5,91,6],"7929":[93,9,95,10],"7937":[87,30,98,2],"7945":[87,30,98,2],"7953":[100,5,102,6],"7961":[103,5,105,6],"7969":[106,5,108,6],"7977":[99,19,111,2],"7985":[99,19,111,2],"7993":[114,5,115,73],"8001":[114,5,115,73],"8009":[112,20,117,2],"8017":[112,20,117,2],"8025":[119,5,121,6],"8033":[123,13,123,31],"8041":[124,10,124,16],"8049":[127,10,127,16],"8057":[130,10,130,16],"8065":[118,26,141,2],"8073":[118,26,141,2],"8081":[145,13,145,16],"8089":[146,10,146,15],"8097":[149,10,149,15],"8105":[152,10,152,15],"8113":[142,32,159,2],"8121":[142,32,159,2],"8129":[165,16,169,10],"8137":[163,9,169,10],"8145":[161,12,170,6],"8153":[161,12,170,6],"8161":[160,21,171,2],"8169":[160,21,171,2],"8177":[185,29,189,30],"8185":[184,104,190,26],"8193":[184,104,190,26],"8201":[183,21,191,22],"8209":[182,96,192,18],"8217":[182,96,192,18],"8225":[194,21,199,22],"8233":[193,104,201,18],"8241":[193,104,201,18],"8249":[179,13,204,14],"8257":[208,17,213,18],"8265":[207,73,215,14],"8273":[207,73,215,14],"8281":[218,17,222,18],"8289":[217,92,223,14],"8297":[217,92,223,14],"8305":[225,16,229,10],"8313":[216,16,229,10],"8321":[205,16,229,10],"8329":[176,9,229,10],"8337":[173,12,230,6],"8345":[173,12,230,6],"8353":[172,21,231,2],"8361":[172,21,231,2],"8369":[232,27,242,2],"8377":[232,27,242,2],"8385":[246,13,248,14],"8393":[249,13,251,14],"8401":[253,17,256,18],"8409":[252,89,257,14],"8417":[252,89,257,14],"8425":[244,12,259,6],"8433":[244,12,259,6],"8441":[243,22,260,2],"8449":[243,22,260,2],"8457":[261,14,270,2],"8465":[261,14,270,2],"8473":[271,14,273,2],"8481":[271,14,273,2],"8489":[279,5,283,6],"8497":[287,16,301,10],"8505":[285,9,301,10],"8513":[284,58,302,6],"8521":[284,58,302,6],"8529":[274,23,303,2],"8537":[274,23,303,2],"8545":[1,1,308,3],"8553":[1,1,308,3],"nBranches":88,"originalCodeFileName":"/home/blake/ExpoSE/Targets/pictoose/node_modules/pictoose/pictoose.js","instrumentedCodeFileName":"/home/blake/ExpoSE/Targets/pictoose/node_modules/pictoose/pictoose_jalangi_.js","code":"//     ______ _      _                       \n//     | ___ (_)    | |                      \n//     | |_/ /_  ___| |_ ___   ___  ___  ___ \n//     |  __/| |/ __| __/ _ \\ / _ \\/ __|/ _ \\\n//     | |   | | (__| || (_) | (_) \\__ \\  __/\n//     \\_|   |_|\\___|\\__\\___/ \\___/|___/\\___|\n//\n//  Carlos FernÃ¡ndez (@sirikon) - Seis Cocos S.L.\n\n/* use strict & requirements */\n'use strict';\nvar fs \t\t\t\t= require('fs');\nvar path \t\t\t= require('path');\nvar url \t\t\t= require('url');\ntry {\n\tvar imagemagick = require('imagemagick-native');\n}catch(err){\n\tvar imagemagick = null;\n}\n\n\n/* Settings */\nvar Settings = {\n\tRESOURCE_STORAGE_ROOT: \t\"./resources/\",\n\tRESOURCE_STORAGE_URL: \t\"/public/\",\n\tRESOURCE_MAIN_URL: \t\t\"/resources/\"\n}\n\n/* Regular expression to check if a string is base64 */\nvar base64RegExp \t\t\t= new RegExp(\"^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{4}|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)$\");\nvar resizeOptionsRegExp \t= new RegExp(\"^[0-9]{1,4}x[0-9]{1,4}(afit|afil|fill)*$\");\n\n/* Allowed MimeTypes list */\nvar mimes = {\n\t\"image/png\"\t\t\t\t: {extension: \"png\", \ttype: \"image\"},\n\t\"image/jpg\"\t\t\t\t: {extension: \"jpg\", \ttype: \"image\"},\n\t\"image/jpeg\"\t\t\t: {extension: \"jpeg\", \ttype: \"image\"},\n\t\"image/gif\"\t\t\t\t: {extension: \"gif\", \ttype: \"image\"},\n\t\"image/x-windows-bmp\"\t: {extension: \"bmp\", \ttype: \"image\"},\n\t\"image/bmp\"\t\t\t\t: {extension: \"bmp\", \ttype: \"image\"},\n\t\"image/webp\"\t\t\t: {extension: \"webp\", \ttype: \"image\"},\n\t\"video/mp4\"\t\t\t\t: {extension: \"mp4\", \ttype: \"video\"},\n\t\"video/avi\"\t\t\t\t: {extension: \"avi\", \ttype: \"video\"},\n\t\"video/msvideo\"\t\t\t: {extension: \"avi\", \ttype: \"video\"},\n\t\"video/x-msvideo\"\t\t: {extension: \"avi\", \ttype: \"video\"},\n\t\"video/quicktime\"\t\t: {extension: \"mov\", \ttype: \"video\"},\n\t\"video/mpeg\"\t\t\t: {extension: \"mpeg\", \ttype: \"video\"},\n}\n\n/**\n * Checks if a given mimetype is valid\n * Returns the extension or false if it's not valid \n */\nvar GetMimeExtension = function(mime){\n\t// If the mimetype exists in the object...\n\tif ( mimes.hasOwnProperty(mime) ){\n\t\treturn mimes[mime].extension;\n\t}else{\n\t\treturn false;\n\t}\n}\n\n/**\n * Checks if a given mimetype is valid.\n * Returns the type or false if it's not valid \n */\nvar GetMimeType = function(mime){\n\t// If the mimetype exists in the object...\n\tif ( mimes.hasOwnProperty(mime) ){\n\t\treturn mimes[mime].type;\n\t}else{\n\t\treturn false;\n\t}\n}\n\n/**\n * Checks if a given mimetype is valid.\n * Returns the type or false if it's not valid \n */\nvar GetMimeTypeByExtension = function(ext){\n\tvar extension = ext;\n\tif(extension.indexOf('.') >= 0){\n\t\textension = extension.substr( extension.indexOf('.')+1 );\n\t}\n\tfor (var x in mimes){\n\t\tif( mimes[x].extension == extension ){\n\t\t\treturn mimes[x].type;\n\t\t}\n\t}\n\treturn false;\n}\n\n/**\n * Checks if a given base64 string is valid.\n * Returns true/false\n */\nvar CheckBase64 = function(data){\n\n\t/*\n\t * A string is base64 when:\n\t * 1.- is not undefined/false\n\t * 2.- have a single comma\n\t * 3.- matches the regular expression\n\t */\n\tif ( !data ){\n\t\treturn false;\n\t}\n\n\tif( data.indexOf(\",\") == -1 ){\n\t\treturn false;\n\t}\n\n\tif(  data.indexOf(\",\") != data.lastIndexOf(\",\") ){\n\t\treturn false;\n\t}\n\n\tvar d = data.split(',')[1];\n\n\treturn base64RegExp.test(d);\n}\n\n/**\n * Returns a random string with the given lenght and allowed chars\n */\nvar randomString = function(length, chars) {\n    var result = '';\n    for (var i = length; i > 0; --i) result += chars[Math.round(Math.random() * (chars.length - 1))];\n    return result;\n}\n\nvar ParseResizeOptions = function(options){\n\tif( !resizeOptionsRegExp.test(options) ){\n\t\treturn false;\n\t}\n\n\tvar mode;\n\tswitch(options.substr(-4)) {\n\t\tcase 'afil':\n\t\t\tmode = 'aspectfill';\n\t\t\tbreak;\n\t\tcase 'afit':\n\t\t\tmode = 'aspectfit';\n\t\t\tbreak;\n\t\tcase 'fill':\n\t\t\tmode = 'fill';\n\t\t\tbreak;\n\t}\n\n\tvar rest = options.substr(0, options.length-4);\n\tvar rest = rest.split('x');\n\n\treturn {\n\t\twidth: parseInt(rest[0]),\n\t\theight: parseInt(rest[1]),\n\t\tmode: mode\n\t}\n}\n\nvar ParseFormatFromExtension = function(extension){\n\tvar ext = extension.toLowerCase();\n\tvar result;\n\tswitch(ext){\n\t\tcase 'png':\n\t\t\tresult = 'PNG';\n\t\t\tbreak;\n\t\tcase 'gif':\n\t\t\tresult = 'GIF';\n\t\t\tbreak;\n\t\tcase 'bmp':\n\t\t\tresult = 'BMP';\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tresult = 'JPEG';\n\t}\n\treturn result;\n}\n\n/**\n * Mongoose Getter\n */\nvar PictureGetter = function(field){\n\treturn function(){\n\t\tvar filename = this.get(\"_\"+field+\"_resid\");\n\t\tif ( url.parse(filename).host ){\n\t\t\treturn filename;\n\t\t}else if( filename && filename != \"\" ){\n\t\t\treturn Settings.RESOURCE_MAIN_URL+this.get(\"_\"+field+\"_resid\");\n\t\t}else{\n\t\t\treturn \"\";\n\t\t}\n\t}\n}\n\n/**\n * Mongoose Setter\n */\nvar PictureSetter = function(field){\n\treturn function(value){\n\t\tvar anchor = this;\n\t\tvar filename = path.basename(value)\n\n\t\tif(CheckBase64(value)){\n\t\t\t// It's base64, save it!\n\t\t\tvar mimetype = value.substr(5).split(\";\")[0];\n\t\t\tvar extension = GetMimeExtension(mimetype);\n\t\t\tif(extension){\n\t\t\t\tfilename = randomString(32,'abcdef1234567890')+\".\"+extension;\n\t\t\t\tanchor.set(\"_\"+field+\"_resid\", filename);\n\n\t\t\t\tfs.exists(Settings.RESOURCE_STORAGE_ROOT+anchor.get(\"_\"+field+\"_resid\"), function(existsit){\n\t\t\t\t\tif(existsit && fs.lstatSync(Settings.RESOURCE_STORAGE_ROOT+anchor.get(\"_\"+field+\"_resid\")).isFile()){\n\t\t\t\t\t\tfs.unlink(Settings.RESOURCE_STORAGE_ROOT+anchor.get(\"_\"+field+\"_resid\"), function(err){\n\t\t\t\t\t\t\tif(err){\n\t\t\t\t\t\t\t\tconsole.log('Error removing previous image: '+Settings.RESOURCE_STORAGE_ROOT+anchor.get(\"_\"+field+\"_resid\"));\n\t\t\t\t\t\t\t\tconsole.error(err);\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tfs.writeFile(Settings.RESOURCE_STORAGE_ROOT+filename, value.split(',')[1], 'base64', function(err){\n\t\t\t\t\tif(err){\n\t\t\t\t\t\tconsole.log('Error writing on disk the new file: '+Settings.RESOURCE_STORAGE_ROOT+filename);\n\t\t\t\t\t\tconsole.error(err);\n\t\t\t\t\t\tanchor.set(\"_\"+field+\"_resid\", '');\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tanchor.save();\n\t\t\t\t});\n\t\t\t}else{\n\t\t\t\tconsole.log('invalid mimetype: '+mimetype);\n\t\t\t}\n\t\t}else if(fs.existsSync(value) && !fs.existsSync(Settings.RESOURCE_STORAGE_ROOT+filename)){\n\t\t\t// It's a path, move it!\n\t\t\tanchor.set(\"_\"+field+\"_resid\", filename);\n\t\t\tfs.rename(value, Settings.RESOURCE_STORAGE_ROOT+filename, function(err){\n\t\t\t\tif(err){\n\t\t\t\t\tconsole.log('Error moving the new file: '+Settings.RESOURCE_STORAGE_ROOT+filename);\n\t\t\t\t\tconsole.error(err);\n\t\t\t\t\tanchor.set(\"_\"+field+\"_resid\", '');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tanchor.save();\n\t\t\t});\n\t\t}else if(value == '' || value == null || value == undefined){\n\t\t\tfs.unlink(Settings.RESOURCE_STORAGE_ROOT+anchor.get(\"_\"+field+\"_resid\"), function(err){\n\t\t\t\tif(err){\n\t\t\t\t\tconsole.log('Error removing the actual file: '+Settings.RESOURCE_STORAGE_ROOT+anchor.get(\"_\"+field+\"_resid\"))\n\t\t\t\t\tconsole.error(err);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t});\n\t\t\tanchor.set(\"_\"+field+\"_resid\", '');\n\t\t}else if( url.parse(value).host ){\n\t\t\tanchor.set(\"_\"+field+\"_resid\", value);\n\t\t}else{\n\t\t\t// Unknown\n\t\t\tconsole.error('Could not save: ' + value);\n\t\t}\t\t\n\t}\n}\n\n/**\n * Fields creator of the given field names\n */\nvar PictureFieldCreator = function(fields){\n\tvar newFields = {};\n\tfor (var i in fields){\n\t\tnewFields[\"_\"+fields[i]+\"_resid\"] = {type: String, default: \"\", select: true};\n\t}\n\treturn newFields;\n}\n\n/**\n * Mongoose Post Remove\n */\nvar PictureRemover = function(fields){\n\treturn function(doc){\n\t\tfor(var x in fields){\n\t\t\tif( !fs.existsSync( Settings.RESOURCE_STORAGE_ROOT+doc[\"_\"+fields[x]+\"_resid\"] ) ){ return; }\n\t\t\tif( !fs.lstatSync(Settings.RESOURCE_STORAGE_ROOT+doc[\"_\"+fields[x]+\"_resid\"]).isFile() ){ return; }\n\t\t\tfs.unlink(Settings.RESOURCE_STORAGE_ROOT+doc[\"_\"+fields[x]+\"_resid\"], function(err){\n\t\t\t\tif(err){\n\t\t\t\t\tconsole.log('Error removing: ' + Settings.RESOURCE_STORAGE_ROOT+doc[\"_\"+fields[x]+\"_resid\"]);\n\t\t\t\t\tconsole.error(err);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n}\n\n/**\n * Mongoose Plugin\n */\nvar Plugin = function(schema,fields){\n\tfor(var i in fields){\n\t\tschema.virtual(fields[i]).get(PictureGetter(fields[i]));\n\t\tschema.virtual(fields[i]).set(PictureSetter(fields[i]));\n\t}\n\tschema.set('toJSON', {virtuals: true});\n\tschema.set('toObject', {virtuals: true});\n\tschema.add(PictureFieldCreator(fields));\n\tschema.post('remove', PictureRemover(fields));\n}\n\n/**\n * Given a key/value, stores it in Settings\n */\nvar Config = function(key,value){\n\tSettings[key] = value;\n}\n\n/**\n * Express Route Controller\n * Will return an image or redirect to a image\n */\nvar RouteController = function(req,res){\n\tvar filename = req.params.resid;\n\tvar parsedOptions = ParseResizeOptions(req.query.resize);\n\tvar filenameExtension;\n\tvar filenameName;\n\tif(req.query.resize && parsedOptions){\n\t\tfilenameExtension = filename.substr(filename.lastIndexOf('.'));\n\t\tfilenameName = filename.substr(0,filename.lastIndexOf('.'));\n\t\tfilename = filenameName+\"_\"+req.query.resize+filenameExtension;\n\t}\n\tfs.exists(Settings.RESOURCE_STORAGE_ROOT+filename, function(exists){\n\t\tif(exists){\n\t\t\tres.redirect(Settings.RESOURCE_STORAGE_URL+filename);\n\t\t}else if(parsedOptions && GetMimeTypeByExtension(filenameExtension) == 'image' && fs.existsSync(Settings.RESOURCE_STORAGE_ROOT+req.params.resid) && imagemagick){\n\t\t\tvar format = ParseFormatFromExtension(filenameExtension);\n\t\t\tvar resizedBuffer = imagemagick.convert({\n\t\t\t\tsrcData: fs.readFileSync(Settings.RESOURCE_STORAGE_ROOT+req.params.resid),\n\t\t\t\twidth: parsedOptions.width,\n\t\t\t\theight: parsedOptions.height,\n\t\t\t\tresizeStyle: parsedOptions.mode,\n\t\t\t\tquality: 75,\n\t\t\t\tformat: format\n\t\t\t});\n\t\t\tfs.writeFileSync(Settings.RESOURCE_STORAGE_ROOT+filename,resizedBuffer);\n\t\t\tres.redirect(Settings.RESOURCE_STORAGE_URL+filename);\n\t\t}else{\n\t\t\tres.redirect(Settings.RESOURCE_STORAGE_URL+req.params.resid);\n\t\t}\n\t})\n}\n\n/**\n * Module exports\n */\nmodule.exports = {\n\tPlugin: Plugin,\n\tConfig: Config,\n\tRouteController: RouteController\n}"};
jalangiLabel67:
    while (true) {
        try {
            J$.Se(7673, '/home/blake/ExpoSE/Targets/pictoose/node_modules/pictoose/pictoose_jalangi_.js', '/home/blake/ExpoSE/Targets/pictoose/node_modules/pictoose/pictoose.js');
            J$.N(7681, '__secret__S$', __secret__S$, 0);
            J$.N(7689, '__secret__traits__', __secret__traits__, 0);
            J$.N(7697, 'fs', fs, 0);
            J$.N(7705, 'path', path, 0);
            J$.N(7713, 'url', url, 0);
            J$.N(7721, 'imagemagick', imagemagick, 0);
            J$.N(7729, 'Settings', Settings, 0);
            J$.N(7737, 'base64RegExp', base64RegExp, 0);
            J$.N(7745, 'resizeOptionsRegExp', resizeOptionsRegExp, 0);
            J$.N(7753, 'mimes', mimes, 0);
            J$.N(7761, 'GetMimeExtension', GetMimeExtension, 0);
            J$.N(7769, 'GetMimeType', GetMimeType, 0);
            J$.N(7777, 'GetMimeTypeByExtension', GetMimeTypeByExtension, 0);
            J$.N(7785, 'CheckBase64', CheckBase64, 0);
            J$.N(7793, 'randomString', randomString, 0);
            J$.N(7801, 'ParseResizeOptions', ParseResizeOptions, 0);
            J$.N(7809, 'ParseFormatFromExtension', ParseFormatFromExtension, 0);
            J$.N(7817, 'PictureGetter', PictureGetter, 0);
            J$.N(7825, 'PictureSetter', PictureSetter, 0);
            J$.N(7833, 'PictureFieldCreator', PictureFieldCreator, 0);
            J$.N(7841, 'PictureRemover', PictureRemover, 0);
            J$.N(7849, 'Plugin', Plugin, 0);
            J$.N(7857, 'Config', Config, 0);
            J$.N(7865, 'RouteController', RouteController, 0);
            var __secret__S$ = J$.X1(41, J$.W(33, '__secret__S$', J$.F(25, J$.R(9, 'require', require, 2), 0)(J$.T(17, 'S$', 21, false)), __secret__S$, 3));
            var __secret__traits__ = J$.X1(73, J$.W(65, '__secret__traits__', J$.G(57, J$.R(49, '__secret__S$', __secret__S$, 1), 'Traits', 0), __secret__traits__, 3));
            J$.X1(89, J$.T(81, 'use strict', 21, false));
            var fs = J$.X1(129, J$.W(121, 'fs', J$.F(113, J$.R(97, 'require', require, 2), 0)(J$.T(105, 'fs', 21, false)), fs, 3));
            var path = J$.X1(169, J$.W(161, 'path', J$.F(153, J$.R(137, 'require', require, 2), 0)(J$.T(145, 'path', 21, false)), path, 3));
            var url = J$.X1(209, J$.W(201, 'url', J$.F(193, J$.R(177, 'require', require, 2), 0)(J$.T(185, 'url', 21, false)), url, 3));
            try {
                var imagemagick = J$.X1(249, J$.W(241, 'imagemagick', J$.F(233, J$.R(217, 'require', require, 2), 0)(J$.T(225, 'imagemagick-native', 21, false)), imagemagick, 3));
            } catch (err) {
                err = J$.N(281, 'err', err, 1);
                var imagemagick = J$.X1(273, J$.W(265, 'imagemagick', J$.T(257, null, 25, false), imagemagick, 3));
            }
            var Settings = J$.X1(329, J$.W(321, 'Settings', J$.T(313, {
                RESOURCE_STORAGE_ROOT: J$.T(289, './resources/', 21, false),
                RESOURCE_STORAGE_URL: J$.T(297, '/public/', 21, false),
                RESOURCE_MAIN_URL: J$.T(305, '/resources/', 21, false)
            }, 11, false), Settings, 3));
            var base64RegExp = J$.X1(369, J$.W(361, 'base64RegExp', J$.F(353, J$.R(337, 'RegExp', RegExp, 2), 1)(J$.T(345, '^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{4}|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)$', 21, false)), base64RegExp, 3));
            var resizeOptionsRegExp = J$.X1(409, J$.W(401, 'resizeOptionsRegExp', J$.F(393, J$.R(377, 'RegExp', RegExp, 2), 1)(J$.T(385, '^[0-9]{1,4}x[0-9]{1,4}(afit|afil|fill)*$', 21, false)), resizeOptionsRegExp, 3));
            var mimes = J$.X1(745, J$.W(737, 'mimes', J$.T(729, {
                'image/png': J$.T(433, {
                    extension: J$.T(417, 'png', 21, false),
                    type: J$.T(425, 'image', 21, false)
                }, 11, false),
                'image/jpg': J$.T(457, {
                    extension: J$.T(441, 'jpg', 21, false),
                    type: J$.T(449, 'image', 21, false)
                }, 11, false),
                'image/jpeg': J$.T(481, {
                    extension: J$.T(465, 'jpeg', 21, false),
                    type: J$.T(473, 'image', 21, false)
                }, 11, false),
                'image/gif': J$.T(505, {
                    extension: J$.T(489, 'gif', 21, false),
                    type: J$.T(497, 'image', 21, false)
                }, 11, false),
                'image/x-windows-bmp': J$.T(529, {
                    extension: J$.T(513, 'bmp', 21, false),
                    type: J$.T(521, 'image', 21, false)
                }, 11, false),
                'image/bmp': J$.T(553, {
                    extension: J$.T(537, 'bmp', 21, false),
                    type: J$.T(545, 'image', 21, false)
                }, 11, false),
                'image/webp': J$.T(577, {
                    extension: J$.T(561, 'webp', 21, false),
                    type: J$.T(569, 'image', 21, false)
                }, 11, false),
                'video/mp4': J$.T(601, {
                    extension: J$.T(585, 'mp4', 21, false),
                    type: J$.T(593, 'video', 21, false)
                }, 11, false),
                'video/avi': J$.T(625, {
                    extension: J$.T(609, 'avi', 21, false),
                    type: J$.T(617, 'video', 21, false)
                }, 11, false),
                'video/msvideo': J$.T(649, {
                    extension: J$.T(633, 'avi', 21, false),
                    type: J$.T(641, 'video', 21, false)
                }, 11, false),
                'video/x-msvideo': J$.T(673, {
                    extension: J$.T(657, 'avi', 21, false),
                    type: J$.T(665, 'video', 21, false)
                }, 11, false),
                'video/quicktime': J$.T(697, {
                    extension: J$.T(681, 'mov', 21, false),
                    type: J$.T(689, 'video', 21, false)
                }, 11, false),
                'video/mpeg': J$.T(721, {
                    extension: J$.T(705, 'mpeg', 21, false),
                    type: J$.T(713, 'video', 21, false)
                }, 11, false)
            }, 11, false), mimes, 3));
            var GetMimeExtension = J$.X1(889, J$.W(881, 'GetMimeExtension', J$.T(873, function (mime) {
                jalangiLabel43:
                    while (true) {
                        try {
                            J$.Fe(849, arguments.callee, this, arguments);
                            arguments = J$.N(857, 'arguments', arguments, 4);
                            mime = J$.N(865, 'mime', mime, 4);
                            if (J$.X1(7873, J$.C(8, J$.M(769, J$.R(753, 'mimes', mimes, 1), 'hasOwnProperty', 0)(J$.R(761, 'mime', mime, 0))))) {
                                return J$.X1(817, J$.Rt(809, J$.G(801, J$.G(793, J$.R(777, 'mimes', mimes, 1), J$.R(785, 'mime', mime, 0), 4), 'extension', 0)));
                            } else {
                                return J$.X1(841, J$.Rt(833, J$.T(825, false, 23, false)));
                            }
                        } catch (J$e) {
                            J$.Ex(7881, J$e);
                        } finally {
                            if (J$.Fr(7889))
                                continue jalangiLabel43;
                            else
                                return J$.Ra();
                        }
                    }
            }, 12, false, 849), GetMimeExtension, 3));
            var GetMimeType = J$.X1(1033, J$.W(1025, 'GetMimeType', J$.T(1017, function (mime) {
                jalangiLabel44:
                    while (true) {
                        try {
                            J$.Fe(993, arguments.callee, this, arguments);
                            arguments = J$.N(1001, 'arguments', arguments, 4);
                            mime = J$.N(1009, 'mime', mime, 4);
                            if (J$.X1(7897, J$.C(16, J$.M(913, J$.R(897, 'mimes', mimes, 1), 'hasOwnProperty', 0)(J$.R(905, 'mime', mime, 0))))) {
                                return J$.X1(961, J$.Rt(953, J$.G(945, J$.G(937, J$.R(921, 'mimes', mimes, 1), J$.R(929, 'mime', mime, 0), 4), 'type', 0)));
                            } else {
                                return J$.X1(985, J$.Rt(977, J$.T(969, false, 23, false)));
                            }
                        } catch (J$e) {
                            J$.Ex(7905, J$e);
                        } finally {
                            if (J$.Fr(7913))
                                continue jalangiLabel44;
                            else
                                return J$.Ra();
                        }
                    }
            }, 12, false, 993), GetMimeType, 3));
            var GetMimeTypeByExtension = J$.X1(1361, J$.W(1353, 'GetMimeTypeByExtension', J$.T(1345, function (ext) {
                jalangiLabel45:
                    while (true) {
                        try {
                            J$.Fe(1305, arguments.callee, this, arguments);
                            arguments = J$.N(1313, 'arguments', arguments, 4);
                            ext = J$.N(1321, 'ext', ext, 4);
                            J$.N(1329, 'extension', extension, 0);
                            J$.N(1337, 'x', x, 0);
                            var extension = J$.X1(1057, J$.W(1049, 'extension', J$.R(1041, 'ext', ext, 0), extension, 1));
                            if (J$.X1(7921, J$.C(24, J$.B(10, '>=', J$.M(1081, J$.R(1065, 'extension', extension, 0), 'indexOf', 0)(J$.T(1073, '.', 21, false)), J$.T(1089, 0, 22, false), 0)))) {
                                J$.X1(1153, extension = J$.W(1145, 'extension', J$.M(1137, J$.R(1097, 'extension', extension, 0), 'substr', 0)(J$.B(18, '+', J$.M(1121, J$.R(1105, 'extension', extension, 0), 'indexOf', 0)(J$.T(1113, '.', 21, false)), J$.T(1129, 1, 22, false), 0)), extension, 0));
                            }
                            for (J$._tm_p in J$.H(1257, J$.R(1161, 'mimes', mimes, 1))) {
                                var x = J$.X1(1273, J$.W(1265, 'x', J$._tm_p, x, 1));
                                {
                                    {
                                        if (J$.X1(7929, J$.C(32, J$.B(26, '==', J$.G(1193, J$.G(1185, J$.R(1169, 'mimes', mimes, 1), J$.R(1177, 'x', x, 0), 4), 'extension', 0), J$.R(1201, 'extension', extension, 0), 0)))) {
                                            return J$.X1(1249, J$.Rt(1241, J$.G(1233, J$.G(1225, J$.R(1209, 'mimes', mimes, 1), J$.R(1217, 'x', x, 0), 4), 'type', 0)));
                                        }
                                    }
                                }
                            }
                            return J$.X1(1297, J$.Rt(1289, J$.T(1281, false, 23, false)));
                        } catch (J$e) {
                            J$.Ex(7937, J$e);
                        } finally {
                            if (J$.Fr(7945))
                                continue jalangiLabel45;
                            else
                                return J$.Ra();
                        }
                    }
            }, 12, false, 1305), GetMimeTypeByExtension, 3));
            var CheckBase64 = J$.X1(1673, J$.W(1665, 'CheckBase64', J$.T(1657, function (data) {
                jalangiLabel46:
                    while (true) {
                        try {
                            J$.Fe(1625, arguments.callee, this, arguments);
                            arguments = J$.N(1633, 'arguments', arguments, 4);
                            data = J$.N(1641, 'data', data, 4);
                            J$.N(1649, 'd', d, 0);
                            if (J$.X1(7953, J$.C(40, J$.U(34, '!', J$.R(1369, 'data', data, 0))))) {
                                return J$.X1(1393, J$.Rt(1385, J$.T(1377, false, 23, false)));
                            }
                            if (J$.X1(7961, J$.C(48, J$.B(50, '==', J$.M(1417, J$.R(1401, 'data', data, 0), 'indexOf', 0)(J$.T(1409, ',', 21, false)), J$.U(42, '-', J$.T(1425, 1, 22, false)), 0)))) {
                                return J$.X1(1449, J$.Rt(1441, J$.T(1433, false, 23, false)));
                            }
                            if (J$.X1(7969, J$.C(56, J$.B(58, '!=', J$.M(1473, J$.R(1457, 'data', data, 0), 'indexOf', 0)(J$.T(1465, ',', 21, false)), J$.M(1497, J$.R(1481, 'data', data, 0), 'lastIndexOf', 0)(J$.T(1489, ',', 21, false)), 0)))) {
                                return J$.X1(1521, J$.Rt(1513, J$.T(1505, false, 23, false)));
                            }
                            var d = J$.X1(1577, J$.W(1569, 'd', J$.G(1561, J$.M(1545, J$.R(1529, 'data', data, 0), 'split', 0)(J$.T(1537, ',', 21, false)), J$.T(1553, 1, 22, false), 4), d, 1));
                            return J$.X1(1617, J$.Rt(1609, J$.M(1601, J$.R(1585, 'base64RegExp', base64RegExp, 1), 'test', 0)(J$.R(1593, 'd', d, 0))));
                        } catch (J$e) {
                            J$.Ex(7977, J$e);
                        } finally {
                            if (J$.Fr(7985))
                                continue jalangiLabel46;
                            else
                                return J$.Ra();
                        }
                    }
            }, 12, false, 1625), CheckBase64, 3));
            var randomString = J$.X1(1953, J$.W(1945, 'randomString', J$.T(1937, function (length, chars) {
                jalangiLabel47:
                    while (true) {
                        try {
                            J$.Fe(1889, arguments.callee, this, arguments);
                            arguments = J$.N(1897, 'arguments', arguments, 4);
                            length = J$.N(1905, 'length', length, 4);
                            chars = J$.N(1913, 'chars', chars, 4);
                            J$.N(1921, 'result', result, 0);
                            J$.N(1929, 'i', i, 0);
                            var result = J$.X1(1697, J$.W(1689, 'result', J$.T(1681, '', 21, false), result, 1));
                            for (var i = J$.X1(1721, J$.W(1713, 'i', J$.R(1705, 'length', length, 0), i, 1)); J$.X1(7993, J$.C(64, J$.B(66, '>', J$.R(1729, 'i', i, 0), J$.T(1737, 0, 22, false), 0))); J$.X1(8001, i = J$.W(1761, 'i', J$.B(82, '-', J$.U(74, '+', J$.R(1753, 'i', i, 0)), J$.T(1745, 1, 22, false), 0), i, 0)))
                                J$.X1(1857, result = J$.W(1849, 'result', J$.B(106, '+', J$.R(1841, 'result', result, 0), J$.G(1833, J$.R(1769, 'chars', chars, 0), J$.M(1825, J$.R(1777, 'Math', Math, 2), 'round', 0)(J$.B(98, '*', J$.M(1793, J$.R(1785, 'Math', Math, 2), 'random', 0)(), J$.B(90, '-', J$.G(1809, J$.R(1801, 'chars', chars, 0), 'length', 0), J$.T(1817, 1, 22, false), 0), 0)), 4), 0), result, 0));
                            return J$.X1(1881, J$.Rt(1873, J$.R(1865, 'result', result, 0)));
                        } catch (J$e) {
                            J$.Ex(8009, J$e);
                        } finally {
                            if (J$.Fr(8017))
                                continue jalangiLabel47;
                            else
                                return J$.Ra();
                        }
                    }
            }, 12, false, 1889), randomString, 3));
            var ParseResizeOptions = J$.X1(2401, J$.W(2393, 'ParseResizeOptions', J$.T(2385, function (options) {
                jalangiLabel48:
                    while (true) {
                        try {
                            J$.Fe(2345, arguments.callee, this, arguments);
                            arguments = J$.N(2353, 'arguments', arguments, 4);
                            options = J$.N(2361, 'options', options, 4);
                            J$.N(2369, 'mode', mode, 0);
                            J$.N(2377, 'rest', rest, 0);
                            if (J$.X1(8025, J$.C(72, J$.U(114, '!', J$.M(1977, J$.R(1961, 'resizeOptionsRegExp', resizeOptionsRegExp, 1), 'test', 0)(J$.R(1969, 'options', options, 0)))))) {
                                return J$.X1(2001, J$.Rt(1993, J$.T(1985, false, 23, false)));
                            }
                            var mode;
                            switch (J$.X1(8033, J$.C1(80, J$.M(2025, J$.R(2009, 'options', options, 0), 'substr', 0)(J$.U(122, '-', J$.T(2017, 4, 22, false)))))) {
                            case J$.X1(8041, J$.C2(88, J$.T(2057, 'afil', 21, false))):
                                J$.X1(2049, mode = J$.W(2041, 'mode', J$.T(2033, 'aspectfill', 21, false), mode, 0));
                                break;
                            case J$.X1(8049, J$.C2(96, J$.T(2089, 'afit', 21, false))):
                                J$.X1(2081, mode = J$.W(2073, 'mode', J$.T(2065, 'aspectfit', 21, false), mode, 0));
                                break;
                            case J$.X1(8057, J$.C2(104, J$.T(2121, 'fill', 21, false))):
                                J$.X1(2113, mode = J$.W(2105, 'mode', J$.T(2097, 'fill', 21, false), mode, 0));
                                break;
                            }
                            var rest = J$.X1(2185, J$.W(2177, 'rest', J$.M(2169, J$.R(2129, 'options', options, 0), 'substr', 0)(J$.T(2137, 0, 22, false), J$.B(130, '-', J$.G(2153, J$.R(2145, 'options', options, 0), 'length', 0), J$.T(2161, 4, 22, false), 0)), rest, 1));
                            var rest = J$.X1(2225, J$.W(2217, 'rest', J$.M(2209, J$.R(2193, 'rest', rest, 0), 'split', 0)(J$.T(2201, 'x', 21, false)), rest, 1));
                            return J$.X1(2337, J$.Rt(2329, J$.T(2321, {
                                width: J$.F(2265, J$.R(2233, 'parseInt', parseInt, 2), 0)(J$.G(2257, J$.R(2241, 'rest', rest, 0), J$.T(2249, 0, 22, false), 4)),
                                height: J$.F(2305, J$.R(2273, 'parseInt', parseInt, 2), 0)(J$.G(2297, J$.R(2281, 'rest', rest, 0), J$.T(2289, 1, 22, false), 4)),
                                mode: J$.R(2313, 'mode', mode, 0)
                            }, 11, false)));
                        } catch (J$e) {
                            J$.Ex(8065, J$e);
                        } finally {
                            if (J$.Fr(8073))
                                continue jalangiLabel48;
                            else
                                return J$.Ra();
                        }
                    }
            }, 12, false, 2345), ParseResizeOptions, 3));
            var ParseFormatFromExtension = J$.X1(2649, J$.W(2641, 'ParseFormatFromExtension', J$.T(2633, function (extension) {
                jalangiLabel49:
                    while (true) {
                        try {
                            J$.Fe(2593, arguments.callee, this, arguments);
                            arguments = J$.N(2601, 'arguments', arguments, 4);
                            extension = J$.N(2609, 'extension', extension, 4);
                            J$.N(2617, 'ext', ext, 0);
                            J$.N(2625, 'result', result, 0);
                            var ext = J$.X1(2433, J$.W(2425, 'ext', J$.M(2417, J$.R(2409, 'extension', extension, 0), 'toLowerCase', 0)(), ext, 1));
                            var result;
                            switch (J$.X1(8081, J$.C1(112, J$.R(2441, 'ext', ext, 0)))) {
                            case J$.X1(8089, J$.C2(120, J$.T(2473, 'png', 21, false))):
                                J$.X1(2465, result = J$.W(2457, 'result', J$.T(2449, 'PNG', 21, false), result, 0));
                                break;
                            case J$.X1(8097, J$.C2(128, J$.T(2505, 'gif', 21, false))):
                                J$.X1(2497, result = J$.W(2489, 'result', J$.T(2481, 'GIF', 21, false), result, 0));
                                break;
                            case J$.X1(8105, J$.C2(136, J$.T(2537, 'bmp', 21, false))):
                                J$.X1(2529, result = J$.W(2521, 'result', J$.T(2513, 'BMP', 21, false), result, 0));
                                break;
                            default:
                                J$.X1(2561, result = J$.W(2553, 'result', J$.T(2545, 'JPEG', 21, false), result, 0));
                            }
                            return J$.X1(2585, J$.Rt(2577, J$.R(2569, 'result', result, 0)));
                        } catch (J$e) {
                            J$.Ex(8113, J$e);
                        } finally {
                            if (J$.Fr(8121))
                                continue jalangiLabel49;
                            else
                                return J$.Ra();
                        }
                    }
            }, 12, false, 2593), ParseFormatFromExtension, 3));
            var PictureGetter = J$.X1(2977, J$.W(2969, 'PictureGetter', J$.T(2961, function (field) {
                jalangiLabel51:
                    while (true) {
                        try {
                            J$.Fe(2937, arguments.callee, this, arguments);
                            arguments = J$.N(2945, 'arguments', arguments, 4);
                            field = J$.N(2953, 'field', field, 4);
                            return J$.X1(2929, J$.Rt(2921, J$.T(2913, function () {
                                jalangiLabel50:
                                    while (true) {
                                        try {
                                            J$.Fe(2889, arguments.callee, this, arguments);
                                            arguments = J$.N(2897, 'arguments', arguments, 4);
                                            J$.N(2905, 'filename', filename, 0);
                                            var filename = J$.X1(2705, J$.W(2697, 'filename', J$.M(2689, J$.R(2657, 'this', this, 0), 'get', 0)(J$.B(146, '+', J$.B(138, '+', J$.T(2665, '_', 21, false), J$.R(2673, 'field', field, 0), 0), J$.T(2681, '_resid', 21, false), 0)), filename, 1));
                                            if (J$.X1(8137, J$.C(160, J$.G(2737, J$.M(2729, J$.R(2713, 'url', url, 1), 'parse', 0)(J$.R(2721, 'filename', filename, 0)), 'host', 0)))) {
                                                return J$.X1(2761, J$.Rt(2753, J$.R(2745, 'filename', filename, 0)));
                                            } else if (J$.X1(8129, J$.C(152, J$.C(144, J$.R(2769, 'filename', filename, 0)) ? J$.B(154, '!=', J$.R(2777, 'filename', filename, 0), J$.T(2785, '', 21, false), 0) : J$._()))) {
                                                return J$.X1(2857, J$.Rt(2849, J$.B(178, '+', J$.G(2801, J$.R(2793, 'Settings', Settings, 1), 'RESOURCE_MAIN_URL', 0), J$.M(2841, J$.R(2809, 'this', this, 0), 'get', 0)(J$.B(170, '+', J$.B(162, '+', J$.T(2817, '_', 21, false), J$.R(2825, 'field', field, 0), 0), J$.T(2833, '_resid', 21, false), 0)), 0)));
                                            } else {
                                                return J$.X1(2881, J$.Rt(2873, J$.T(2865, '', 21, false)));
                                            }
                                        } catch (J$e) {
                                            J$.Ex(8145, J$e);
                                        } finally {
                                            if (J$.Fr(8153))
                                                continue jalangiLabel50;
                                            else
                                                return J$.Ra();
                                        }
                                    }
                            }, 12, false, 2889)));
                        } catch (J$e) {
                            J$.Ex(8161, J$e);
                        } finally {
                            if (J$.Fr(8169))
                                continue jalangiLabel51;
                            else
                                return J$.Ra();
                        }
                    }
            }, 12, false, 2937), PictureGetter, 3));
            var PictureSetter = J$.X1(5137, J$.W(5129, 'PictureSetter', J$.T(5121, function (field) {
                jalangiLabel58:
                    while (true) {
                        try {
                            J$.Fe(5097, arguments.callee, this, arguments);
                            arguments = J$.N(5105, 'arguments', arguments, 4);
                            field = J$.N(5113, 'field', field, 4);
                            return J$.X1(5089, J$.Rt(5081, J$.T(5073, function (value) {
                                jalangiLabel57:
                                    while (true) {
                                        try {
                                            J$.Fe(5017, arguments.callee, this, arguments);
                                            arguments = J$.N(5025, 'arguments', arguments, 4);
                                            value = J$.N(5033, 'value', value, 4);
                                            J$.N(5041, 'anchor', anchor, 0);
                                            J$.N(5049, 'filename', filename, 0);
                                            J$.N(5057, 'mimetype', mimetype, 0);
                                            J$.N(5065, 'extension', extension, 0);
                                            var anchor = J$.X1(3001, J$.W(2993, 'anchor', J$.R(2985, 'this', this, 0), anchor, 1));
                                            var filename = J$.X1(3041, J$.W(3033, 'filename', J$.M(3025, J$.R(3009, 'path', path, 1), 'basename', 0)(J$.R(3017, 'value', value, 0)), filename, 1));
                                            if (J$.X1(8329, J$.C(272, J$.F(3065, J$.R(3049, 'CheckBase64', CheckBase64, 1), 0)(J$.R(3057, 'value', value, 0))))) {
                                                var mimetype = J$.X1(3137, J$.W(3129, 'mimetype', J$.G(3121, J$.M(3105, J$.M(3089, J$.R(3073, 'value', value, 0), 'substr', 0)(J$.T(3081, 5, 22, false)), 'split', 0)(J$.T(3097, ';', 21, false)), J$.T(3113, 0, 22, false), 4), mimetype, 1));
                                                var extension = J$.X1(3177, J$.W(3169, 'extension', J$.F(3161, J$.R(3145, 'GetMimeExtension', GetMimeExtension, 1), 0)(J$.R(3153, 'mimetype', mimetype, 0)), extension, 1));
                                                if (J$.X1(8249, J$.C(200, J$.R(3185, 'extension', extension, 0)))) {
                                                    J$.X1(3249, filename = J$.W(3241, 'filename', J$.B(194, '+', J$.B(186, '+', J$.F(3217, J$.R(3193, 'randomString', randomString, 1), 0)(J$.T(3201, 32, 22, false), J$.T(3209, 'abcdef1234567890', 21, false)), J$.T(3225, '.', 21, false), 0), J$.R(3233, 'extension', extension, 0), 0), filename, 0));
                                                    J$.X1(3305, J$.M(3297, J$.R(3257, 'anchor', anchor, 0), 'set', 0)(J$.B(210, '+', J$.B(202, '+', J$.T(3265, '_', 21, false), J$.R(3273, 'field', field, 0), 0), J$.T(3281, '_resid', 21, false), 0), J$.R(3289, 'filename', filename, 0)));
                                                    J$.X1(3761, J$.M(3753, J$.R(3313, 'fs', fs, 1), 'exists', 0)(J$.B(234, '+', J$.G(3329, J$.R(3321, 'Settings', Settings, 1), 'RESOURCE_STORAGE_ROOT', 0), J$.M(3369, J$.R(3337, 'anchor', anchor, 0), 'get', 0)(J$.B(226, '+', J$.B(218, '+', J$.T(3345, '_', 21, false), J$.R(3353, 'field', field, 0), 0), J$.T(3361, '_resid', 21, false), 0)), 0), J$.T(3745, function (existsit) {
                                                        jalangiLabel53:
                                                            while (true) {
                                                                try {
                                                                    J$.Fe(3721, arguments.callee, this, arguments);
                                                                    arguments = J$.N(3729, 'arguments', arguments, 4);
                                                                    existsit = J$.N(3737, 'existsit', existsit, 4);
                                                                    if (J$.X1(8201, J$.C(184, J$.C(168, J$.R(3377, 'existsit', existsit, 0)) ? J$.M(3457, J$.M(3449, J$.R(3385, 'fs', fs, 1), 'lstatSync', 0)(J$.B(258, '+', J$.G(3401, J$.R(3393, 'Settings', Settings, 1), 'RESOURCE_STORAGE_ROOT', 0), J$.M(3441, J$.R(3409, 'anchor', anchor, 0), 'get', 0)(J$.B(250, '+', J$.B(242, '+', J$.T(3417, '_', 21, false), J$.R(3425, 'field', field, 0), 0), J$.T(3433, '_resid', 21, false), 0)), 0)), 'isFile', 0)() : J$._()))) {
                                                                        J$.X1(3713, J$.M(3705, J$.R(3465, 'fs', fs, 1), 'unlink', 0)(J$.B(282, '+', J$.G(3481, J$.R(3473, 'Settings', Settings, 1), 'RESOURCE_STORAGE_ROOT', 0), J$.M(3521, J$.R(3489, 'anchor', anchor, 0), 'get', 0)(J$.B(274, '+', J$.B(266, '+', J$.T(3497, '_', 21, false), J$.R(3505, 'field', field, 0), 0), J$.T(3513, '_resid', 21, false), 0)), 0), J$.T(3697, function (err) {
                                                                            jalangiLabel52:
                                                                                while (true) {
                                                                                    try {
                                                                                        J$.Fe(3673, arguments.callee, this, arguments);
                                                                                        arguments = J$.N(3681, 'arguments', arguments, 4);
                                                                                        err = J$.N(3689, 'err', err, 4);
                                                                                        if (J$.X1(8177, J$.C(176, J$.R(3529, 'err', err, 0)))) {
                                                                                            J$.X1(3617, J$.M(3609, J$.R(3537, 'console', console, 2), 'log', 0)(J$.B(314, '+', J$.B(290, '+', J$.T(3545, 'Error removing previous image: ', 21, false), J$.G(3561, J$.R(3553, 'Settings', Settings, 1), 'RESOURCE_STORAGE_ROOT', 0), 0), J$.M(3601, J$.R(3569, 'anchor', anchor, 0), 'get', 0)(J$.B(306, '+', J$.B(298, '+', J$.T(3577, '_', 21, false), J$.R(3585, 'field', field, 0), 0), J$.T(3593, '_resid', 21, false), 0)), 0)));
                                                                                            J$.X1(3649, J$.M(3641, J$.R(3625, 'console', console, 2), 'error', 0)(J$.R(3633, 'err', err, 0)));
                                                                                            return J$.X1(3665, J$.Rt(3657, undefined));
                                                                                        }
                                                                                    } catch (J$e) {
                                                                                        J$.Ex(8185, J$e);
                                                                                    } finally {
                                                                                        if (J$.Fr(8193))
                                                                                            continue jalangiLabel52;
                                                                                        else
                                                                                            return J$.Ra();
                                                                                    }
                                                                                }
                                                                        }, 12, false, 3673)));
                                                                    }
                                                                } catch (J$e) {
                                                                    J$.Ex(8209, J$e);
                                                                } finally {
                                                                    if (J$.Fr(8217))
                                                                        continue jalangiLabel53;
                                                                    else
                                                                        return J$.Ra();
                                                                }
                                                            }
                                                    }, 12, false, 3721)));
                                                    J$.X1(4081, J$.M(4073, J$.R(3769, 'fs', fs, 1), 'writeFile', 0)(J$.B(322, '+', J$.G(3785, J$.R(3777, 'Settings', Settings, 1), 'RESOURCE_STORAGE_ROOT', 0), J$.R(3793, 'filename', filename, 0), 0), J$.G(3833, J$.M(3817, J$.R(3801, 'value', value, 0), 'split', 0)(J$.T(3809, ',', 21, false)), J$.T(3825, 1, 22, false), 4), J$.T(3841, 'base64', 21, false), J$.T(4065, function (err) {
                                                        jalangiLabel54:
                                                            while (true) {
                                                                try {
                                                                    J$.Fe(4041, arguments.callee, this, arguments);
                                                                    arguments = J$.N(4049, 'arguments', arguments, 4);
                                                                    err = J$.N(4057, 'err', err, 4);
                                                                    if (J$.X1(8225, J$.C(192, J$.R(3849, 'err', err, 0)))) {
                                                                        J$.X1(3905, J$.M(3897, J$.R(3857, 'console', console, 2), 'log', 0)(J$.B(338, '+', J$.B(330, '+', J$.T(3865, 'Error writing on disk the new file: ', 21, false), J$.G(3881, J$.R(3873, 'Settings', Settings, 1), 'RESOURCE_STORAGE_ROOT', 0), 0), J$.R(3889, 'filename', filename, 0), 0)));
                                                                        J$.X1(3937, J$.M(3929, J$.R(3913, 'console', console, 2), 'error', 0)(J$.R(3921, 'err', err, 0)));
                                                                        J$.X1(3993, J$.M(3985, J$.R(3945, 'anchor', anchor, 0), 'set', 0)(J$.B(354, '+', J$.B(346, '+', J$.T(3953, '_', 21, false), J$.R(3961, 'field', field, 0), 0), J$.T(3969, '_resid', 21, false), 0), J$.T(3977, '', 21, false)));
                                                                        return J$.X1(4009, J$.Rt(4001, undefined));
                                                                    }
                                                                    J$.X1(4033, J$.M(4025, J$.R(4017, 'anchor', anchor, 0), 'save', 0)());
                                                                } catch (J$e) {
                                                                    J$.Ex(8233, J$e);
                                                                } finally {
                                                                    if (J$.Fr(8241))
                                                                        continue jalangiLabel54;
                                                                    else
                                                                        return J$.Ra();
                                                                }
                                                            }
                                                    }, 12, false, 4041)));
                                                } else {
                                                    J$.X1(4121, J$.M(4113, J$.R(4089, 'console', console, 2), 'log', 0)(J$.B(362, '+', J$.T(4097, 'invalid mimetype: ', 21, false), J$.R(4105, 'mimetype', mimetype, 0), 0)));
                                                }
                                            } else if (J$.X1(8321, J$.C(264, J$.C(208, J$.M(4145, J$.R(4129, 'fs', fs, 1), 'existsSync', 0)(J$.R(4137, 'value', value, 0))) ? J$.U(378, '!', J$.M(4185, J$.R(4153, 'fs', fs, 1), 'existsSync', 0)(J$.B(370, '+', J$.G(4169, J$.R(4161, 'Settings', Settings, 1), 'RESOURCE_STORAGE_ROOT', 0), J$.R(4177, 'filename', filename, 0), 0))) : J$._()))) {
                                                J$.X1(4241, J$.M(4233, J$.R(4193, 'anchor', anchor, 0), 'set', 0)(J$.B(394, '+', J$.B(386, '+', J$.T(4201, '_', 21, false), J$.R(4209, 'field', field, 0), 0), J$.T(4217, '_resid', 21, false), 0), J$.R(4225, 'filename', filename, 0)));
                                                J$.X1(4521, J$.M(4513, J$.R(4249, 'fs', fs, 1), 'rename', 0)(J$.R(4257, 'value', value, 0), J$.B(402, '+', J$.G(4273, J$.R(4265, 'Settings', Settings, 1), 'RESOURCE_STORAGE_ROOT', 0), J$.R(4281, 'filename', filename, 0), 0), J$.T(4505, function (err) {
                                                    jalangiLabel55:
                                                        while (true) {
                                                            try {
                                                                J$.Fe(4481, arguments.callee, this, arguments);
                                                                arguments = J$.N(4489, 'arguments', arguments, 4);
                                                                err = J$.N(4497, 'err', err, 4);
                                                                if (J$.X1(8257, J$.C(216, J$.R(4289, 'err', err, 0)))) {
                                                                    J$.X1(4345, J$.M(4337, J$.R(4297, 'console', console, 2), 'log', 0)(J$.B(418, '+', J$.B(410, '+', J$.T(4305, 'Error moving the new file: ', 21, false), J$.G(4321, J$.R(4313, 'Settings', Settings, 1), 'RESOURCE_STORAGE_ROOT', 0), 0), J$.R(4329, 'filename', filename, 0), 0)));
                                                                    J$.X1(4377, J$.M(4369, J$.R(4353, 'console', console, 2), 'error', 0)(J$.R(4361, 'err', err, 0)));
                                                                    J$.X1(4433, J$.M(4425, J$.R(4385, 'anchor', anchor, 0), 'set', 0)(J$.B(434, '+', J$.B(426, '+', J$.T(4393, '_', 21, false), J$.R(4401, 'field', field, 0), 0), J$.T(4409, '_resid', 21, false), 0), J$.T(4417, '', 21, false)));
                                                                    return J$.X1(4449, J$.Rt(4441, undefined));
                                                                }
                                                                J$.X1(4473, J$.M(4465, J$.R(4457, 'anchor', anchor, 0), 'save', 0)());
                                                            } catch (J$e) {
                                                                J$.Ex(8265, J$e);
                                                            } finally {
                                                                if (J$.Fr(8273))
                                                                    continue jalangiLabel55;
                                                                else
                                                                    return J$.Ra();
                                                            }
                                                        }
                                                }, 12, false, 4481)));
                                            } else if (J$.X1(8313, J$.C(256, J$.C(232, J$.C(224, J$.B(442, '==', J$.R(4529, 'value', value, 0), J$.T(4537, '', 21, false), 0)) ? J$._() : J$.B(450, '==', J$.R(4545, 'value', value, 0), J$.T(4553, null, 25, false), 0)) ? J$._() : J$.B(458, '==', J$.R(4561, 'value', value, 0), J$.T(4569, undefined, 24, false), 0)))) {
                                                J$.X1(4825, J$.M(4817, J$.R(4577, 'fs', fs, 1), 'unlink', 0)(J$.B(482, '+', J$.G(4593, J$.R(4585, 'Settings', Settings, 1), 'RESOURCE_STORAGE_ROOT', 0), J$.M(4633, J$.R(4601, 'anchor', anchor, 0), 'get', 0)(J$.B(474, '+', J$.B(466, '+', J$.T(4609, '_', 21, false), J$.R(4617, 'field', field, 0), 0), J$.T(4625, '_resid', 21, false), 0)), 0), J$.T(4809, function (err) {
                                                    jalangiLabel56:
                                                        while (true) {
                                                            try {
                                                                J$.Fe(4785, arguments.callee, this, arguments);
                                                                arguments = J$.N(4793, 'arguments', arguments, 4);
                                                                err = J$.N(4801, 'err', err, 4);
                                                                if (J$.X1(8281, J$.C(240, J$.R(4641, 'err', err, 0)))) {
                                                                    J$.X1(4729, J$.M(4721, J$.R(4649, 'console', console, 2), 'log', 0)(J$.B(514, '+', J$.B(490, '+', J$.T(4657, 'Error removing the actual file: ', 21, false), J$.G(4673, J$.R(4665, 'Settings', Settings, 1), 'RESOURCE_STORAGE_ROOT', 0), 0), J$.M(4713, J$.R(4681, 'anchor', anchor, 0), 'get', 0)(J$.B(506, '+', J$.B(498, '+', J$.T(4689, '_', 21, false), J$.R(4697, 'field', field, 0), 0), J$.T(4705, '_resid', 21, false), 0)), 0)));
                                                                    J$.X1(4761, J$.M(4753, J$.R(4737, 'console', console, 2), 'error', 0)(J$.R(4745, 'err', err, 0)));
                                                                    return J$.X1(4777, J$.Rt(4769, undefined));
                                                                }
                                                            } catch (J$e) {
                                                                J$.Ex(8289, J$e);
                                                            } finally {
                                                                if (J$.Fr(8297))
                                                                    continue jalangiLabel56;
                                                                else
                                                                    return J$.Ra();
                                                            }
                                                        }
                                                }, 12, false, 4785)));
                                                J$.X1(4881, J$.M(4873, J$.R(4833, 'anchor', anchor, 0), 'set', 0)(J$.B(530, '+', J$.B(522, '+', J$.T(4841, '_', 21, false), J$.R(4849, 'field', field, 0), 0), J$.T(4857, '_resid', 21, false), 0), J$.T(4865, '', 21, false)));
                                            } else if (J$.X1(8305, J$.C(248, J$.G(4913, J$.M(4905, J$.R(4889, 'url', url, 1), 'parse', 0)(J$.R(4897, 'value', value, 0)), 'host', 0)))) {
                                                J$.X1(4969, J$.M(4961, J$.R(4921, 'anchor', anchor, 0), 'set', 0)(J$.B(546, '+', J$.B(538, '+', J$.T(4929, '_', 21, false), J$.R(4937, 'field', field, 0), 0), J$.T(4945, '_resid', 21, false), 0), J$.R(4953, 'value', value, 0)));
                                            } else {
                                                J$.X1(5009, J$.M(5001, J$.R(4977, 'console', console, 2), 'error', 0)(J$.B(554, '+', J$.T(4985, 'Could not save: ', 21, false), J$.R(4993, 'value', value, 0), 0)));
                                            }
                                        } catch (J$e) {
                                            J$.Ex(8337, J$e);
                                        } finally {
                                            if (J$.Fr(8345))
                                                continue jalangiLabel57;
                                            else
                                                return J$.Ra();
                                        }
                                    }
                            }, 12, false, 5017)));
                        } catch (J$e) {
                            J$.Ex(8353, J$e);
                        } finally {
                            if (J$.Fr(8361))
                                continue jalangiLabel58;
                            else
                                return J$.Ra();
                        }
                    }
            }, 12, false, 5097), PictureSetter, 3));
            var PictureFieldCreator = J$.X1(5377, J$.W(5369, 'PictureFieldCreator', J$.T(5361, function (fields) {
                jalangiLabel59:
                    while (true) {
                        try {
                            J$.Fe(5321, arguments.callee, this, arguments);
                            arguments = J$.N(5329, 'arguments', arguments, 4);
                            fields = J$.N(5337, 'fields', fields, 4);
                            J$.N(5345, 'newFields', newFields, 0);
                            J$.N(5353, 'i', i, 0);
                            var newFields = J$.X1(5161, J$.W(5153, 'newFields', J$.T(5145, {}, 11, false), newFields, 1));
                            for (J$._tm_p in J$.H(5273, J$.R(5169, 'fields', fields, 0))) {
                                var i = J$.X1(5289, J$.W(5281, 'i', J$._tm_p, i, 1));
                                {
                                    {
                                        J$.X1(5265, J$.P(5257, J$.R(5177, 'newFields', newFields, 0), J$.B(570, '+', J$.B(562, '+', J$.T(5185, '_', 21, false), J$.G(5209, J$.R(5193, 'fields', fields, 0), J$.R(5201, 'i', i, 0), 4), 0), J$.T(5217, '_resid', 21, false), 0), J$.T(5249, {
                                            type: J$.R(5225, 'String', String, 2),
                                            default: J$.T(5233, '', 21, false),
                                            select: J$.T(5241, true, 23, false)
                                        }, 11, false), 2));
                                    }
                                }
                            }
                            return J$.X1(5313, J$.Rt(5305, J$.R(5297, 'newFields', newFields, 0)));
                        } catch (J$e) {
                            J$.Ex(8369, J$e);
                        } finally {
                            if (J$.Fr(8377))
                                continue jalangiLabel59;
                            else
                                return J$.Ra();
                        }
                    }
            }, 12, false, 5321), PictureFieldCreator, 3));
            var PictureRemover = J$.X1(6001, J$.W(5993, 'PictureRemover', J$.T(5985, function (fields) {
                jalangiLabel62:
                    while (true) {
                        try {
                            J$.Fe(5961, arguments.callee, this, arguments);
                            arguments = J$.N(5969, 'arguments', arguments, 4);
                            fields = J$.N(5977, 'fields', fields, 4);
                            return J$.X1(5953, J$.Rt(5945, J$.T(5937, function (doc) {
                                jalangiLabel61:
                                    while (true) {
                                        try {
                                            J$.Fe(5905, arguments.callee, this, arguments);
                                            arguments = J$.N(5913, 'arguments', arguments, 4);
                                            doc = J$.N(5921, 'doc', doc, 4);
                                            J$.N(5929, 'x', x, 0);
                                            for (J$._tm_p in J$.H(5881, J$.R(5385, 'fields', fields, 0))) {
                                                var x = J$.X1(5897, J$.W(5889, 'x', J$._tm_p, x, 1));
                                                {
                                                    {
                                                        if (J$.X1(8385, J$.C(280, J$.U(602, '!', J$.M(5473, J$.R(5393, 'fs', fs, 1), 'existsSync', 0)(J$.B(594, '+', J$.G(5409, J$.R(5401, 'Settings', Settings, 1), 'RESOURCE_STORAGE_ROOT', 0), J$.G(5465, J$.R(5417, 'doc', doc, 0), J$.B(586, '+', J$.B(578, '+', J$.T(5425, '_', 21, false), J$.G(5449, J$.R(5433, 'fields', fields, 0), J$.R(5441, 'x', x, 0), 4), 0), J$.T(5457, '_resid', 21, false), 0), 4), 0)))))) {
                                                            return J$.X1(5489, J$.Rt(5481, undefined));
                                                        }
                                                        if (J$.X1(8393, J$.C(288, J$.U(634, '!', J$.M(5585, J$.M(5577, J$.R(5497, 'fs', fs, 1), 'lstatSync', 0)(J$.B(626, '+', J$.G(5513, J$.R(5505, 'Settings', Settings, 1), 'RESOURCE_STORAGE_ROOT', 0), J$.G(5569, J$.R(5521, 'doc', doc, 0), J$.B(618, '+', J$.B(610, '+', J$.T(5529, '_', 21, false), J$.G(5553, J$.R(5537, 'fields', fields, 0), J$.R(5545, 'x', x, 0), 4), 0), J$.T(5561, '_resid', 21, false), 0), 4), 0)), 'isFile', 0)())))) {
                                                            return J$.X1(5601, J$.Rt(5593, undefined));
                                                        }
                                                        J$.X1(5873, J$.M(5865, J$.R(5609, 'fs', fs, 1), 'unlink', 0)(J$.B(658, '+', J$.G(5625, J$.R(5617, 'Settings', Settings, 1), 'RESOURCE_STORAGE_ROOT', 0), J$.G(5681, J$.R(5633, 'doc', doc, 0), J$.B(650, '+', J$.B(642, '+', J$.T(5641, '_', 21, false), J$.G(5665, J$.R(5649, 'fields', fields, 0), J$.R(5657, 'x', x, 0), 4), 0), J$.T(5673, '_resid', 21, false), 0), 4), 0), J$.T(5857, function (err) {
                                                            jalangiLabel60:
                                                                while (true) {
                                                                    try {
                                                                        J$.Fe(5833, arguments.callee, this, arguments);
                                                                        arguments = J$.N(5841, 'arguments', arguments, 4);
                                                                        err = J$.N(5849, 'err', err, 4);
                                                                        if (J$.X1(8401, J$.C(296, J$.R(5689, 'err', err, 0)))) {
                                                                            J$.X1(5793, J$.M(5785, J$.R(5697, 'console', console, 2), 'log', 0)(J$.B(690, '+', J$.B(666, '+', J$.T(5705, 'Error removing: ', 21, false), J$.G(5721, J$.R(5713, 'Settings', Settings, 1), 'RESOURCE_STORAGE_ROOT', 0), 0), J$.G(5777, J$.R(5729, 'doc', doc, 0), J$.B(682, '+', J$.B(674, '+', J$.T(5737, '_', 21, false), J$.G(5761, J$.R(5745, 'fields', fields, 0), J$.R(5753, 'x', x, 0), 4), 0), J$.T(5769, '_resid', 21, false), 0), 4), 0)));
                                                                            J$.X1(5825, J$.M(5817, J$.R(5801, 'console', console, 2), 'error', 0)(J$.R(5809, 'err', err, 0)));
                                                                        }
                                                                    } catch (J$e) {
                                                                        J$.Ex(8409, J$e);
                                                                    } finally {
                                                                        if (J$.Fr(8417))
                                                                            continue jalangiLabel60;
                                                                        else
                                                                            return J$.Ra();
                                                                    }
                                                                }
                                                        }, 12, false, 5833)));
                                                    }
                                                }
                                            }
                                        } catch (J$e) {
                                            J$.Ex(8425, J$e);
                                        } finally {
                                            if (J$.Fr(8433))
                                                continue jalangiLabel61;
                                            else
                                                return J$.Ra();
                                        }
                                    }
                            }, 12, false, 5905)));
                        } catch (J$e) {
                            J$.Ex(8441, J$e);
                        } finally {
                            if (J$.Fr(8449))
                                continue jalangiLabel62;
                            else
                                return J$.Ra();
                        }
                    }
            }, 12, false, 5961), PictureRemover, 3));
            var Plugin = J$.X1(6489, J$.W(6481, 'Plugin', J$.T(6473, function (schema, fields) {
                jalangiLabel63:
                    while (true) {
                        try {
                            J$.Fe(6433, arguments.callee, this, arguments);
                            arguments = J$.N(6441, 'arguments', arguments, 4);
                            schema = J$.N(6449, 'schema', schema, 4);
                            fields = J$.N(6457, 'fields', fields, 4);
                            J$.N(6465, 'i', i, 0);
                            for (J$._tm_p in J$.H(6209, J$.R(6009, 'fields', fields, 0))) {
                                var i = J$.X1(6225, J$.W(6217, 'i', J$._tm_p, i, 1));
                                {
                                    {
                                        J$.X1(6105, J$.M(6097, J$.M(6049, J$.R(6017, 'schema', schema, 0), 'virtual', 0)(J$.G(6041, J$.R(6025, 'fields', fields, 0), J$.R(6033, 'i', i, 0), 4)), 'get', 0)(J$.F(6089, J$.R(6057, 'PictureGetter', PictureGetter, 1), 0)(J$.G(6081, J$.R(6065, 'fields', fields, 0), J$.R(6073, 'i', i, 0), 4))));
                                        J$.X1(6201, J$.M(6193, J$.M(6145, J$.R(6113, 'schema', schema, 0), 'virtual', 0)(J$.G(6137, J$.R(6121, 'fields', fields, 0), J$.R(6129, 'i', i, 0), 4)), 'set', 0)(J$.F(6185, J$.R(6153, 'PictureSetter', PictureSetter, 1), 0)(J$.G(6177, J$.R(6161, 'fields', fields, 0), J$.R(6169, 'i', i, 0), 4))));
                                    }
                                }
                            }
                            J$.X1(6273, J$.M(6265, J$.R(6233, 'schema', schema, 0), 'set', 0)(J$.T(6241, 'toJSON', 21, false), J$.T(6257, {
                                virtuals: J$.T(6249, true, 23, false)
                            }, 11, false)));
                            J$.X1(6321, J$.M(6313, J$.R(6281, 'schema', schema, 0), 'set', 0)(J$.T(6289, 'toObject', 21, false), J$.T(6305, {
                                virtuals: J$.T(6297, true, 23, false)
                            }, 11, false)));
                            J$.X1(6369, J$.M(6361, J$.R(6329, 'schema', schema, 0), 'add', 0)(J$.F(6353, J$.R(6337, 'PictureFieldCreator', PictureFieldCreator, 1), 0)(J$.R(6345, 'fields', fields, 0))));
                            J$.X1(6425, J$.M(6417, J$.R(6377, 'schema', schema, 0), 'post', 0)(J$.T(6385, 'remove', 21, false), J$.F(6409, J$.R(6393, 'PictureRemover', PictureRemover, 1), 0)(J$.R(6401, 'fields', fields, 0))));
                        } catch (J$e) {
                            J$.Ex(8457, J$e);
                        } finally {
                            if (J$.Fr(8465))
                                continue jalangiLabel63;
                            else
                                return J$.Ra();
                        }
                    }
            }, 12, false, 6433), Plugin, 3));
            var Config = J$.X1(6585, J$.W(6577, 'Config', J$.T(6569, function (key, value) {
                jalangiLabel64:
                    while (true) {
                        try {
                            J$.Fe(6537, arguments.callee, this, arguments);
                            arguments = J$.N(6545, 'arguments', arguments, 4);
                            key = J$.N(6553, 'key', key, 4);
                            value = J$.N(6561, 'value', value, 4);
                            J$.X1(6529, J$.P(6521, J$.R(6497, 'Settings', Settings, 1), J$.R(6505, 'key', key, 0), J$.R(6513, 'value', value, 0), 2));
                        } catch (J$e) {
                            J$.Ex(8473, J$e);
                        } finally {
                            if (J$.Fr(8481))
                                continue jalangiLabel64;
                            else
                                return J$.Ra();
                        }
                    }
            }, 12, false, 6537), Config, 3));
            var RouteController = J$.X1(7609, J$.W(7601, 'RouteController', J$.T(7593, function (req, res) {
                jalangiLabel66:
                    while (true) {
                        try {
                            J$.Fe(7529, arguments.callee, this, arguments);
                            arguments = J$.N(7537, 'arguments', arguments, 4);
                            req = J$.N(7545, 'req', req, 4);
                            res = J$.N(7553, 'res', res, 4);
                            J$.N(7561, 'filename', filename, 0);
                            J$.N(7569, 'parsedOptions', parsedOptions, 0);
                            J$.N(7577, 'filenameExtension', filenameExtension, 0);
                            J$.N(7585, 'filenameName', filenameName, 0);
                            var filename = J$.X1(6625, J$.W(6617, 'filename', J$.G(6609, J$.G(6601, J$.R(6593, 'req', req, 0), 'params', 0), 'resid', 0), filename, 1));
                            var parsedOptions = J$.X1(6681, J$.W(6673, 'parsedOptions', J$.F(6665, J$.R(6633, 'ParseResizeOptions', ParseResizeOptions, 1), 0)(J$.G(6657, J$.G(6649, J$.R(6641, 'req', req, 0), 'query', 0), 'resize', 0)), parsedOptions, 1));
                            var filenameExtension;
                            var filenameName;
                            if (J$.X1(8489, J$.C(312, J$.C(304, J$.G(6705, J$.G(6697, J$.R(6689, 'req', req, 0), 'query', 0), 'resize', 0)) ? J$.R(6713, 'parsedOptions', parsedOptions, 0) : J$._()))) {
                                J$.X1(6769, filenameExtension = J$.W(6761, 'filenameExtension', J$.M(6753, J$.R(6721, 'filename', filename, 0), 'substr', 0)(J$.M(6745, J$.R(6729, 'filename', filename, 0), 'lastIndexOf', 0)(J$.T(6737, '.', 21, false))), filenameExtension, 0));
                                J$.X1(6833, filenameName = J$.W(6825, 'filenameName', J$.M(6817, J$.R(6777, 'filename', filename, 0), 'substr', 0)(J$.T(6785, 0, 22, false), J$.M(6809, J$.R(6793, 'filename', filename, 0), 'lastIndexOf', 0)(J$.T(6801, '.', 21, false))), filenameName, 0));
                                J$.X1(6897, filename = J$.W(6889, 'filename', J$.B(714, '+', J$.B(706, '+', J$.B(698, '+', J$.R(6841, 'filenameName', filenameName, 0), J$.T(6849, '_', 21, false), 0), J$.G(6873, J$.G(6865, J$.R(6857, 'req', req, 0), 'query', 0), 'resize', 0), 0), J$.R(6881, 'filenameExtension', filenameExtension, 0), 0), filename, 0));
                            }
                            J$.X1(7521, J$.M(7513, J$.R(6905, 'fs', fs, 1), 'exists', 0)(J$.B(722, '+', J$.G(6921, J$.R(6913, 'Settings', Settings, 1), 'RESOURCE_STORAGE_ROOT', 0), J$.R(6929, 'filename', filename, 0), 0), J$.T(7505, function (exists) {
                                jalangiLabel65:
                                    while (true) {
                                        try {
                                            J$.Fe(7465, arguments.callee, this, arguments);
                                            arguments = J$.N(7473, 'arguments', arguments, 4);
                                            exists = J$.N(7481, 'exists', exists, 4);
                                            J$.N(7489, 'format', format, 0);
                                            J$.N(7497, 'resizedBuffer', resizedBuffer, 0);
                                            if (J$.X1(8505, J$.C(352, J$.R(6937, 'exists', exists, 0)))) {
                                                J$.X1(6985, J$.M(6977, J$.R(6945, 'res', res, 0), 'redirect', 0)(J$.B(730, '+', J$.G(6961, J$.R(6953, 'Settings', Settings, 1), 'RESOURCE_STORAGE_URL', 0), J$.R(6969, 'filename', filename, 0), 0)));
                                            } else if (J$.X1(8497, J$.C(344, J$.C(336, J$.C(328, J$.C(320, J$.R(6993, 'parsedOptions', parsedOptions, 0)) ? J$.B(738, '==', J$.F(7017, J$.R(7001, 'GetMimeTypeByExtension', GetMimeTypeByExtension, 1), 0)(J$.R(7009, 'filenameExtension', filenameExtension, 0)), J$.T(7025, 'image', 21, false), 0) : J$._()) ? J$.M(7081, J$.R(7033, 'fs', fs, 1), 'existsSync', 0)(J$.B(746, '+', J$.G(7049, J$.R(7041, 'Settings', Settings, 1), 'RESOURCE_STORAGE_ROOT', 0), J$.G(7073, J$.G(7065, J$.R(7057, 'req', req, 0), 'params', 0), 'resid', 0), 0)) : J$._()) ? J$.R(7089, 'imagemagick', imagemagick, 1) : J$._()))) {
                                                var format = J$.X1(7129, J$.W(7121, 'format', J$.F(7113, J$.R(7097, 'ParseFormatFromExtension', ParseFormatFromExtension, 1), 0)(J$.R(7105, 'filenameExtension', filenameExtension, 0)), format, 1));
                                                var resizedBuffer = J$.X1(7289, J$.W(7281, 'resizedBuffer', J$.M(7273, J$.R(7137, 'imagemagick', imagemagick, 1), 'convert', 0)(J$.T(7265, {
                                                    srcData: J$.M(7193, J$.R(7145, 'fs', fs, 1), 'readFileSync', 0)(J$.B(754, '+', J$.G(7161, J$.R(7153, 'Settings', Settings, 1), 'RESOURCE_STORAGE_ROOT', 0), J$.G(7185, J$.G(7177, J$.R(7169, 'req', req, 0), 'params', 0), 'resid', 0), 0)),
                                                    width: J$.G(7209, J$.R(7201, 'parsedOptions', parsedOptions, 0), 'width', 0),
                                                    height: J$.G(7225, J$.R(7217, 'parsedOptions', parsedOptions, 0), 'height', 0),
                                                    resizeStyle: J$.G(7241, J$.R(7233, 'parsedOptions', parsedOptions, 0), 'mode', 0),
                                                    quality: J$.T(7249, 75, 22, false),
                                                    format: J$.R(7257, 'format', format, 0)
                                                }, 11, false)), resizedBuffer, 1));
                                                J$.X1(7345, J$.M(7337, J$.R(7297, 'fs', fs, 1), 'writeFileSync', 0)(J$.B(762, '+', J$.G(7313, J$.R(7305, 'Settings', Settings, 1), 'RESOURCE_STORAGE_ROOT', 0), J$.R(7321, 'filename', filename, 0), 0), J$.R(7329, 'resizedBuffer', resizedBuffer, 0)));
                                                J$.X1(7393, J$.M(7385, J$.R(7353, 'res', res, 0), 'redirect', 0)(J$.B(770, '+', J$.G(7369, J$.R(7361, 'Settings', Settings, 1), 'RESOURCE_STORAGE_URL', 0), J$.R(7377, 'filename', filename, 0), 0)));
                                            } else {
                                                J$.X1(7457, J$.M(7449, J$.R(7401, 'res', res, 0), 'redirect', 0)(J$.B(778, '+', J$.G(7417, J$.R(7409, 'Settings', Settings, 1), 'RESOURCE_STORAGE_URL', 0), J$.G(7441, J$.G(7433, J$.R(7425, 'req', req, 0), 'params', 0), 'resid', 0), 0)));
                                            }
                                        } catch (J$e) {
                                            J$.Ex(8513, J$e);
                                        } finally {
                                            if (J$.Fr(8521))
                                                continue jalangiLabel65;
                                            else
                                                return J$.Ra();
                                        }
                                    }
                            }, 12, false, 7465)));
                        } catch (J$e) {
                            J$.Ex(8529, J$e);
                        } finally {
                            if (J$.Fr(8537))
                                continue jalangiLabel66;
                            else
                                return J$.Ra();
                        }
                    }
            }, 12, false, 7529), RouteController, 3));
            J$.X1(7665, J$.P(7657, J$.R(7617, 'module', module, 2), 'exports', J$.T(7649, {
                Plugin: J$.R(7625, 'Plugin', Plugin, 1),
                Config: J$.R(7633, 'Config', Config, 1),
                RouteController: J$.R(7641, 'RouteController', RouteController, 1)
            }, 11, false), 0));
        } catch (J$e) {
            J$.Ex(8545, J$e);
        } finally {
            if (J$.Sr(8553)) {
                J$.L();
                continue jalangiLabel67;
            } else {
                J$.L();
                break jalangiLabel67;
            }
        }
    }
// JALANGI DO NOT INSTRUMENT
