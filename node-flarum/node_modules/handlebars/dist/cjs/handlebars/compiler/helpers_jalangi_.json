{"8":[16,12,16,33],"9":[1,20,1,27],"10":[22,9,22,37],"16":[16,12,16,33],"17":[1,28,1,32],"18":[24,42,24,81],"24":[21,13,21,23],"25":[1,20,1,33],"26":[24,42,24,89],"32":[22,9,22,37],"33":[1,20,1,33],"34":[40,32,40,48],"40":[39,9,39,31],"41":[1,20,1,33],"42":[47,15,47,37],"48":[56,20,56,24],"49":[2,26,2,38],"50":[48,29,48,45],"56":[59,22,59,46],"57":[2,26,2,45],"58":[48,16,48,54],"64":[60,28,60,57],"65":[2,26,2,45],"66":[57,39,57,44],"72":[60,28,60,76],"73":[2,26,2,45],"74":[57,46,57,49],"80":[60,13,60,77],"81":[3,1,3,13],"88":[63,24,63,37],"89":[3,1,3,14],"90":[57,46,57,49],"96":[61,17,61,31],"97":[4,1,4,8],"98":[58,47,58,73],"104":[60,13,60,77],"105":[4,22,4,26],"106":[59,21,59,54],"112":[57,39,57,44],"113":[4,1,4,26],"114":[59,21,59,54],"120":[81,22,81,54],"121":[4,1,4,27],"122":[60,13,60,23],"128":[81,66,81,106],"129":[5,1,5,8],"130":[60,28,60,41],"136":[84,15,84,24],"137":[5,26,5,40],"138":[60,45,60,57],"144":[115,9,115,28],"145":[5,1,5,40],"146":[60,61,60,76],"152":[115,9,115,28],"153":[5,1,5,41],"154":[61,17,61,31],"160":[122,13,122,22],"161":[6,1,6,8],"162":[62,50,62,77],"168":[125,13,125,36],"169":[6,14,6,16],"170":[63,24,63,37],"176":[121,9,121,26],"177":[6,1,6,16],"178":[64,17,64,24],"184":[131,9,131,17],"185":[6,1,6,17],"192":[137,15,137,24],"193":[7,1,7,8],"194":[64,17,64,24],"200":[145,21,145,41],"201":[7,22,7,32],"202":[65,32,65,37],"208":[150,9,150,34],"209":[7,1,7,32],"210":[81,66,81,84],"216":[152,13,152,32],"217":[7,1,7,33],"218":[81,88,81,106],"224":[152,13,152,32],"225":[8,1,8,8],"226":[150,9,150,13],"232":[150,9,150,34],"233":[8,24,8,36],"234":[151,64,151,85],"240":[182,21,182,41],"241":[8,1,8,36],"249":[8,1,8,37],"257":[9,1,9,8],"265":[9,23,9,34],"273":[9,1,9,34],"281":[9,1,9,35],"289":[10,1,10,8],"297":[10,27,10,42],"305":[10,1,10,42],"313":[10,1,10,43],"321":[11,1,11,8],"329":[11,27,11,42],"337":[11,1,11,42],"345":[11,1,11,43],"353":[12,1,12,8],"361":[12,24,12,36],"369":[12,1,12,36],"377":[12,1,12,37],"385":[13,1,13,8],"393":[13,26,13,40],"401":[13,1,13,40],"409":[13,1,13,41],"417":[14,1,14,8],"425":[14,31,14,50],"433":[14,1,14,50],"441":[14,1,14,51],"449":[16,12,16,15],"457":[16,19,16,22],"465":[16,19,16,33],"473":[16,36,16,39],"481":[16,55,16,58],"489":[16,42,16,60],"497":[16,12,16,60],"505":[16,5,16,61],"513":[15,1,17,2],"521":[15,1,17,2],"529":[15,1,17,2],"537":[18,18,18,25],"545":[18,26,18,40],"553":[18,18,18,41],"561":[18,18,18,41],"569":[18,18,18,41],"577":[19,19,19,41],"585":[19,42,19,52],"593":[19,19,19,53],"601":[19,19,19,53],"609":[19,19,19,53],"617":[21,13,21,18],"625":[21,13,21,23],"633":[21,26,21,31],"641":[21,26,21,36],"649":[21,26,21,45],"657":[21,48,21,53],"665":[21,13,21,53],"673":[21,5,21,54],"681":[22,9,22,13],"689":[22,9,22,18],"697":[22,9,22,27],"705":[22,32,22,37],"713":[23,32,23,36],"721":[23,32,23,41],"729":[23,32,23,45],"737":[23,25,23,47],"745":[23,25,23,47],"753":[23,25,23,47],"761":[24,19,24,30],"769":[24,31,24,40],"777":[24,42,24,46],"785":[24,42,24,51],"793":[24,42,24,60],"801":[24,63,24,81],"809":[24,84,24,89],"817":[24,91,24,100],"825":[24,15,24,101],"827":[24,19,24,41],"833":[24,15,24,101],"841":[24,9,24,102],"849":[20,1,26,2],"857":[20,1,26,2],"865":[20,1,26,2],"873":[20,1,26,2],"881":[20,1,26,2],"889":[28,5,28,9],"897":[28,19,28,25],"905":[28,5,28,25],"913":[28,5,28,26],"921":[29,5,29,9],"929":[30,15,30,22],"937":[30,15,30,33],"945":[31,17,31,24],"953":[31,17,31,37],"961":[29,18,32,6],"969":[29,5,32,6],"977":[29,5,32,7],"985":[33,5,33,9],"993":[34,15,34,22],"1001":[34,15,34,32],"1009":[35,17,35,24],"1017":[35,17,35,36],"1025":[33,16,36,6],"1033":[33,5,36,6],"1041":[33,5,36,7],"1049":[27,1,37,2],"1057":[27,1,37,2],"1065":[27,1,37,2],"1073":[27,1,37,2],"1081":[39,9,39,19],"1089":[39,25,39,30],"1097":[39,9,39,31],"1099":[39,9,39,24],"1105":[40,16,40,21],"1113":[40,29,40,30],"1121":[40,32,40,37],"1129":[40,32,40,44],"1137":[40,47,40,48],"1145":[40,16,40,49],"1147":[40,16,40,28],"1153":[40,16,40,49],"1161":[40,9,40,50],"1169":[42,16,42,21],"1177":[42,16,42,21],"1185":[42,9,42,22],"1193":[38,1,44,2],"1201":[38,1,44,2],"1209":[38,1,44,2],"1217":[47,15,47,19],"1225":[47,27,47,28],"1233":[47,15,47,29],"1235":[47,15,47,26],"1241":[47,34,47,37],"1249":[48,16,48,21],"1257":[48,29,48,34],"1265":[48,29,48,41],"1273":[48,44,48,45],"1281":[48,16,48,46],"1283":[48,16,48,28],"1289":[48,51,48,54],"1297":[46,12,49,6],"1305":[46,12,49,6],"1313":[46,5,49,7],"1321":[45,1,50,2],"1329":[45,1,50,2],"1337":[45,1,50,2],"1345":[45,1,50,2],"1353":[52,12,52,19],"1361":[52,28,52,43],"1369":[52,45,52,47],"1377":[52,12,52,48],"1379":[52,12,52,27],"1385":[52,57,52,70],"1393":[52,72,52,74],"1401":[52,12,52,75],"1403":[52,12,52,56],"1409":[52,12,52,75],"1417":[52,5,52,76],"1425":[51,1,53,2],"1433":[51,1,53,2],"1441":[51,1,53,2],"1449":[55,11,55,15],"1457":[55,24,55,27],"1465":[55,11,55,28],"1467":[55,11,55,23],"1473":[55,11,55,28],"1481":[55,5,55,29],"1489":[56,20,56,24],"1497":[56,27,56,30],"1505":[56,33,56,35],"1513":[56,43,56,45],"1521":[56,55,56,56],"1529":[56,72,56,74],"1537":[56,20,56,35],"1545":[56,20,56,35],"1553":[56,43,56,45],"1561":[56,43,56,45],"1569":[56,55,56,56],"1577":[56,55,56,56],"1585":[56,72,56,74],"1593":[56,72,56,74],"1601":[57,18,57,19],"1609":[57,25,57,30],"1617":[57,25,57,37],"1625":[57,18,57,19],"1633":[57,18,57,19],"1641":[57,25,57,37],"1649":[57,25,57,37],"1657":[57,39,57,40],"1665":[57,43,57,44],"1681":[57,46,57,47],"1689":[57,46,57,49],"1705":[58,20,58,25],"1713":[58,26,58,27],"1721":[58,20,58,28],"1729":[58,20,58,33],"1737":[58,47,58,52],"1745":[58,53,58,54],"1753":[58,47,58,55],"1761":[58,47,58,64],"1769":[58,69,58,73],"1777":[58,20,58,33],"1785":[58,20,58,33],"1793":[58,47,58,73],"1801":[58,47,58,73],"1809":[59,22,59,27],"1817":[59,28,59,29],"1825":[59,22,59,30],"1833":[59,22,59,40],"1841":[59,44,59,46],"1849":[59,50,59,54],"1857":[59,9,59,17],"1865":[59,9,59,54],"1873":[59,9,59,55],"1881":[60,14,60,23],"1889":[60,28,60,32],"1897":[60,37,60,41],"1905":[60,45,60,49],"1913":[60,54,60,57],"1921":[60,61,60,65],"1929":[60,70,60,76],"1937":[61,17,61,20],"1945":[61,17,61,27],"1953":[61,30,61,31],"1961":[62,27,62,38],"1969":[62,39,62,48],"1977":[62,50,62,66],"1985":[62,69,62,77],"1993":[62,86,62,89],"2001":[62,79,62,91],"2009":[62,23,62,92],"2011":[62,27,62,49],"2017":[62,23,62,92],"2025":[62,17,62,93],"2033":[63,24,63,28],"2041":[63,33,63,37],"2057":[64,17,64,22],"2065":[64,17,64,24],"2081":[64,17,64,25],"2089":[65,32,65,37],"2097":[65,17,65,28],"2105":[65,17,65,37],"2113":[65,17,65,38],"2121":[68,13,68,16],"2129":[68,22,68,26],"2137":[68,13,68,27],"2139":[68,13,68,21],"2145":[68,13,68,28],"2153":[72,15,72,31],"2161":[73,15,73,19],"2169":[74,16,74,21],"2177":[75,16,75,19],"2185":[76,19,76,27],"2193":[77,14,77,17],"2201":[71,12,78,6],"2209":[71,12,78,6],"2217":[71,5,78,7],"2225":[54,1,79,2],"2233":[54,1,79,2],"2241":[54,1,79,2],"2249":[54,1,79,2],"2257":[54,1,79,2],"2265":[54,1,79,2],"2273":[54,1,79,2],"2281":[54,1,79,2],"2289":[54,1,79,2],"2297":[54,1,79,2],"2305":[54,1,79,2],"2313":[54,1,79,2],"2321":[54,1,79,2],"2329":[81,22,81,26],"2337":[81,34,81,35],"2345":[81,22,81,36],"2347":[81,22,81,33],"2353":[81,40,81,44],"2361":[81,52,81,53],"2369":[81,40,81,54],"2371":[81,40,81,51],"2377":[81,66,81,76],"2385":[81,81,81,84],"2393":[81,88,81,98],"2401":[81,103,81,106],"2409":[81,22,81,54],"2417":[81,22,81,54],"2425":[81,66,81,106],"2433":[81,66,81,106],"2441":[82,21,82,25],"2449":[82,31,82,35],"2457":[82,21,82,36],"2459":[82,21,82,30],"2465":[82,21,82,36],"2473":[82,21,82,36],"2481":[84,15,84,24],"2489":[84,27,84,38],"2497":[84,41,84,60],"2505":[85,15,85,19],"2513":[86,17,86,23],"2521":[87,15,87,19],"2529":[88,18,88,25],"2537":[89,16,89,21],"2545":[90,14,90,18],"2553":[90,27,90,34],"2561":[90,14,90,35],"2563":[90,14,90,26],"2569":[83,12,91,6],"2577":[83,12,91,6],"2585":[83,5,91,7],"2593":[80,1,92,2],"2601":[80,1,92,2],"2609":[80,1,92,2],"2617":[80,1,92,2],"2625":[80,1,92,2],"2633":[80,1,92,2],"2641":[80,1,92,2],"2649":[80,1,92,2],"2657":[80,1,92,2],"2665":[80,1,92,2],"2673":[80,1,92,2],"2681":[94,5,94,18],"2689":[94,19,94,31],"2697":[94,33,94,38],"2705":[94,5,94,39],"2713":[94,5,94,40],"2721":[95,15,95,19],"2729":[95,28,95,35],"2737":[95,15,95,36],"2739":[95,15,95,27],"2745":[95,15,95,36],"2753":[95,5,95,37],"2761":[97,15,97,24],"2769":[98,15,98,23],"2777":[99,16,99,18],"2785":[100,14,100,21],"2793":[96,19,101,6],"2801":[96,19,101,6],"2809":[96,19,101,6],"2817":[103,15,103,31],"2825":[104,15,104,27],"2833":[104,15,104,32],"2841":[105,17,105,29],"2849":[105,17,105,36],"2857":[106,15,106,27],"2865":[106,15,106,32],"2873":[107,18,107,25],"2881":[108,20,108,22],"2889":[109,23,109,25],"2897":[110,21,110,23],"2905":[111,14,111,21],"2913":[102,12,112,6],"2921":[102,12,112,6],"2929":[102,5,112,7],"2937":[93,1,113,2],"2945":[93,1,113,2],"2953":[93,1,113,2],"2961":[93,1,113,2],"2969":[93,1,113,2],"2977":[93,1,113,2],"2985":[93,1,113,2],"2993":[115,9,115,14],"3001":[115,18,115,23],"3009":[115,18,115,28],"3017":[116,9,116,22],"3025":[116,23,116,32],"3033":[116,34,116,39],"3041":[116,9,116,40],"3049":[116,9,116,41],"3057":[118,21,118,25],"3065":[118,31,118,40],"3073":[118,31,118,45],"3081":[118,21,118,46],"3083":[118,21,118,30],"3089":[118,21,118,46],"3097":[118,21,118,46],"3105":[119,5,119,12],"3113":[119,27,119,36],"3121":[119,27,119,48],"3129":[119,5,119,48],"3137":[119,5,119,49],"3145":[120,19,120,28],"3153":[120,45,120,54],"3161":[120,19,120,28],"3169":[120,19,120,28],"3177":[120,45,120,54],"3185":[120,45,120,54],"3193":[121,9,121,26],"3201":[122,13,122,22],"3209":[123,23,123,34],"3217":[123,35,123,44],"3225":[123,46,123,85],"3233":[123,87,123,104],"3241":[123,19,123,105],"3243":[123,23,123,45],"3249":[123,19,123,105],"3257":[123,13,123,106],"3265":[125,13,125,30],"3273":[125,13,125,36],"3281":[126,13,126,30],"3289":[126,13,126,38],"3297":[126,13,126,43],"3305":[126,44,126,45],"3313":[126,13,126,46],"3321":[126,60,126,65],"3329":[126,60,126,71],"3337":[126,13,126,71],"3345":[126,13,126,72],"3353":[128,24,128,41],"3361":[128,24,128,47],"3369":[128,24,128,47],"3377":[128,9,128,48],"3385":[129,19,129,36],"3393":[129,19,129,44],"3401":[129,19,129,44],"3409":[129,9,129,45],"3417":[131,9,131,17],"3425":[132,20,132,27],"3433":[132,20,132,27],"3441":[132,9,132,28],"3449":[133,19,133,26],"3457":[133,19,133,26],"3465":[133,9,133,27],"3473":[134,19,134,27],"3481":[134,19,134,27],"3489":[134,9,134,28],"3497":[137,15,137,24],"3505":[137,27,137,43],"3513":[137,46,137,62],"3521":[138,15,138,24],"3529":[138,15,138,29],"3537":[139,17,139,26],"3545":[139,17,139,33],"3553":[140,15,140,24],"3561":[140,15,140,29],"3569":[141,18,141,25],"3577":[142,18,142,25],"3585":[143,20,143,29],"3593":[143,20,143,35],"3601":[144,23,144,35],"3609":[145,21,145,26],"3617":[145,30,145,35],"3625":[145,30,145,41],"3633":[146,14,146,18],"3641":[146,27,146,34],"3649":[146,14,146,35],"3651":[146,14,146,26],"3657":[136,12,147,6],"3665":[136,12,147,6],"3673":[136,5,147,7],"3681":[114,1,148,2],"3689":[114,1,148,2],"3697":[114,1,148,2],"3705":[114,1,148,2],"3713":[114,1,148,2],"3721":[114,1,148,2],"3729":[114,1,148,2],"3737":[114,1,148,2],"3745":[114,1,148,2],"3753":[114,1,148,2],"3761":[114,1,148,2],"3769":[150,10,150,13],"3777":[150,17,150,27],"3785":[150,17,150,34],"3793":[151,24,151,34],"3801":[151,35,151,36],"3809":[151,24,151,37],"3817":[151,24,151,41],"3825":[151,53,151,63],"3833":[151,64,151,74],"3841":[151,64,151,81],"3849":[151,84,151,85],"3857":[151,53,151,86],"3865":[151,53,151,90],"3873":[151,24,151,41],"3881":[151,24,151,41],"3889":[151,53,151,90],"3897":[151,53,151,90],"3905":[152,13,152,21],"3913":[152,25,152,32],"3921":[154,25,154,33],"3929":[154,25,154,40],"3937":[156,27,156,35],"3945":[156,27,156,41],"3953":[156,27,156,46],"3961":[157,29,157,37],"3969":[157,29,157,43],"3977":[157,29,157,50],"3985":[155,24,158,18],"3993":[160,27,160,34],"4001":[160,27,160,38],"4009":[160,27,160,43],"4017":[161,29,161,36],"4025":[161,29,161,40],"4033":[161,29,161,47],"4041":[159,22,162,18],"4049":[153,19,163,14],"4057":[153,19,163,14],"4065":[153,13,163,15],"4073":[167,15,167,24],"4081":[168,15,168,25],"4089":[169,16,169,18],"4097":[170,14,170,17],"4105":[166,12,171,6],"4113":[166,12,171,6],"4121":[166,5,171,7],"4129":[149,1,172,2],"4137":[149,1,172,2],"4145":[149,1,172,2],"4153":[149,1,172,2],"4161":[149,1,172,2],"4169":[149,1,172,2],"4177":[174,5,174,18],"4185":[174,19,174,23],"4193":[174,25,174,30],"4201":[174,5,174,31],"4209":[174,5,174,32],"4217":[176,15,176,38],"4225":[177,15,177,19],"4233":[177,15,177,24],"4241":[178,17,178,21],"4249":[178,17,178,28],"4257":[179,15,179,19],"4265":[179,15,179,24],"4273":[180,18,180,25],"4281":[181,20,181,24],"4289":[181,20,181,30],"4297":[182,21,182,26],"4305":[182,30,182,35],"4313":[182,30,182,41],"4321":[183,14,183,18],"4329":[183,27,183,34],"4337":[183,14,183,35],"4339":[183,14,183,26],"4345":[175,12,184,6],"4353":[175,12,184,6],"4361":[175,5,184,7],"4369":[173,1,185,2],"4377":[173,1,185,2],"4385":[173,1,185,2],"4393":[173,1,185,2],"4401":[173,1,185,2],"4409":[173,1,185,2],"4417":[1,1,185,2],"4425":[1,1,185,2],"4433":[1,1,185,2],"4441":[15,1,17,2],"4449":[1,1,185,2],"4457":[1,1,185,2],"4465":[1,1,185,2],"4473":[20,1,26,2],"4481":[1,1,185,2],"4489":[27,1,37,2],"4497":[1,1,185,2],"4505":[38,1,44,2],"4513":[1,1,185,2],"4521":[45,1,50,2],"4529":[1,1,185,2],"4537":[51,1,53,2],"4545":[1,1,185,2],"4553":[54,1,79,2],"4561":[1,1,185,2],"4569":[80,1,92,2],"4577":[1,1,185,2],"4585":[93,1,113,2],"4593":[1,1,185,2],"4601":[114,1,148,2],"4609":[1,1,185,2],"4617":[149,1,172,2],"4625":[1,1,185,2],"4633":[173,1,185,2],"4641":[1,1,185,2],"4649":[16,12,16,60],"4657":[15,1,17,2],"4665":[15,1,17,2],"4673":[21,13,21,53],"4681":[22,5,25,6],"4689":[20,1,26,2],"4697":[20,1,26,2],"4705":[27,1,37,2],"4713":[27,1,37,2],"4721":[39,5,43,6],"4729":[38,1,44,2],"4737":[38,1,44,2],"4745":[45,1,50,2],"4753":[45,1,50,2],"4761":[51,1,53,2],"4769":[51,1,53,2],"4777":[56,20,56,35],"4785":[63,20,66,14],"4793":[61,13,66,14],"4801":[60,9,69,10],"4809":[57,5,70,6],"4817":[57,5,70,6],"4825":[54,1,79,2],"4833":[54,1,79,2],"4841":[84,15,84,60],"4849":[80,1,92,2],"4857":[80,1,92,2],"4865":[93,1,113,2],"4873":[93,1,113,2],"4881":[115,5,117,6],"4889":[122,9,124,10],"4897":[125,9,127,10],"4905":[121,5,130,6],"4913":[131,5,135,6],"4921":[137,15,137,62],"4929":[114,1,148,2],"4937":[114,1,148,2],"4945":[152,9,164,10],"4953":[150,5,165,6],"4961":[149,1,172,2],"4969":[149,1,172,2],"4977":[173,1,185,2],"4985":[173,1,185,2],"4993":[1,1,185,2],"5001":[1,1,185,2],"nBranches":60,"originalCodeFileName":"/home/blake/ExpoSE/Targets/node-flarum/node_modules/handlebars/dist/cjs/handlebars/compiler/helpers.js","instrumentedCodeFileName":"/home/blake/ExpoSE/Targets/node-flarum/node_modules/handlebars/dist/cjs/handlebars/compiler/helpers_jalangi_.js","code":"'use strict';\n\nexports.__esModule = true;\nexports.SourceLocation = SourceLocation;\nexports.id = id;\nexports.stripFlags = stripFlags;\nexports.stripComment = stripComment;\nexports.preparePath = preparePath;\nexports.prepareMustache = prepareMustache;\nexports.prepareRawBlock = prepareRawBlock;\nexports.prepareBlock = prepareBlock;\nexports.prepareProgram = prepareProgram;\nexports.preparePartialBlock = preparePartialBlock;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _exception = require('../exception');\n\nvar _exception2 = _interopRequireDefault(_exception);\n\nfunction validateClose(open, close) {\n  close = close.path ? close.path.original : close;\n\n  if (open.path.original !== close) {\n    var errorNode = { loc: open.path.loc };\n\n    throw new _exception2['default'](open.path.original + \" doesn't match \" + close, errorNode);\n  }\n}\n\nfunction SourceLocation(source, locInfo) {\n  this.source = source;\n  this.start = {\n    line: locInfo.first_line,\n    column: locInfo.first_column\n  };\n  this.end = {\n    line: locInfo.last_line,\n    column: locInfo.last_column\n  };\n}\n\nfunction id(token) {\n  if (/^\\[.*\\]$/.test(token)) {\n    return token.substr(1, token.length - 2);\n  } else {\n    return token;\n  }\n}\n\nfunction stripFlags(open, close) {\n  return {\n    open: open.charAt(2) === '~',\n    close: close.charAt(close.length - 3) === '~'\n  };\n}\n\nfunction stripComment(comment) {\n  return comment.replace(/^\\{\\{~?\\!-?-?/, '').replace(/-?-?~?\\}\\}$/, '');\n}\n\nfunction preparePath(data, parts, loc) {\n  loc = this.locInfo(loc);\n\n  var original = data ? '@' : '',\n      dig = [],\n      depth = 0,\n      depthString = '';\n\n  for (var i = 0, l = parts.length; i < l; i++) {\n    var part = parts[i].part,\n\n    // If we have [] syntax then we do not treat path references as operators,\n    // i.e. foo.[this] resolves to approximately context.foo['this']\n    isLiteral = parts[i].original !== part;\n    original += (parts[i].separator || '') + part;\n\n    if (!isLiteral && (part === '..' || part === '.' || part === 'this')) {\n      if (dig.length > 0) {\n        throw new _exception2['default']('Invalid path: ' + original, { loc: loc });\n      } else if (part === '..') {\n        depth++;\n        depthString += '../';\n      }\n    } else {\n      dig.push(part);\n    }\n  }\n\n  return {\n    type: 'PathExpression',\n    data: data,\n    depth: depth,\n    parts: dig,\n    original: original,\n    loc: loc\n  };\n}\n\nfunction prepareMustache(path, params, hash, open, strip, locInfo) {\n  // Must use charAt to support IE pre-10\n  var escapeFlag = open.charAt(3) || open.charAt(2),\n      escaped = escapeFlag !== '{' && escapeFlag !== '&';\n\n  var decorator = /\\*/.test(open);\n  return {\n    type: decorator ? 'Decorator' : 'MustacheStatement',\n    path: path,\n    params: params,\n    hash: hash,\n    escaped: escaped,\n    strip: strip,\n    loc: this.locInfo(locInfo)\n  };\n}\n\nfunction prepareRawBlock(openRawBlock, contents, close, locInfo) {\n  validateClose(openRawBlock, close);\n\n  locInfo = this.locInfo(locInfo);\n  var program = {\n    type: 'Program',\n    body: contents,\n    strip: {},\n    loc: locInfo\n  };\n\n  return {\n    type: 'BlockStatement',\n    path: openRawBlock.path,\n    params: openRawBlock.params,\n    hash: openRawBlock.hash,\n    program: program,\n    openStrip: {},\n    inverseStrip: {},\n    closeStrip: {},\n    loc: locInfo\n  };\n}\n\nfunction prepareBlock(openBlock, program, inverseAndProgram, close, inverted, locInfo) {\n  if (close && close.path) {\n    validateClose(openBlock, close);\n  }\n\n  var decorator = /\\*/.test(openBlock.open);\n\n  program.blockParams = openBlock.blockParams;\n\n  var inverse = undefined,\n      inverseStrip = undefined;\n\n  if (inverseAndProgram) {\n    if (decorator) {\n      throw new _exception2['default']('Unexpected inverse block on decorator', inverseAndProgram);\n    }\n\n    if (inverseAndProgram.chain) {\n      inverseAndProgram.program.body[0].closeStrip = close.strip;\n    }\n\n    inverseStrip = inverseAndProgram.strip;\n    inverse = inverseAndProgram.program;\n  }\n\n  if (inverted) {\n    inverted = inverse;\n    inverse = program;\n    program = inverted;\n  }\n\n  return {\n    type: decorator ? 'DecoratorBlock' : 'BlockStatement',\n    path: openBlock.path,\n    params: openBlock.params,\n    hash: openBlock.hash,\n    program: program,\n    inverse: inverse,\n    openStrip: openBlock.strip,\n    inverseStrip: inverseStrip,\n    closeStrip: close && close.strip,\n    loc: this.locInfo(locInfo)\n  };\n}\n\nfunction prepareProgram(statements, loc) {\n  if (!loc && statements.length) {\n    var firstLoc = statements[0].loc,\n        lastLoc = statements[statements.length - 1].loc;\n\n    /* istanbul ignore else */\n    if (firstLoc && lastLoc) {\n      loc = {\n        source: firstLoc.source,\n        start: {\n          line: firstLoc.start.line,\n          column: firstLoc.start.column\n        },\n        end: {\n          line: lastLoc.end.line,\n          column: lastLoc.end.column\n        }\n      };\n    }\n  }\n\n  return {\n    type: 'Program',\n    body: statements,\n    strip: {},\n    loc: loc\n  };\n}\n\nfunction preparePartialBlock(open, program, close, locInfo) {\n  validateClose(open, close);\n\n  return {\n    type: 'PartialBlockStatement',\n    name: open.path,\n    params: open.params,\n    hash: open.hash,\n    program: program,\n    openStrip: open.strip,\n    closeStrip: close && close.strip,\n    loc: this.locInfo(locInfo)\n  };\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYi9oYW5kbGViYXJzL2NvbXBpbGVyL2hlbHBlcnMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7eUJBQXNCLGNBQWM7Ozs7QUFFcEMsU0FBUyxhQUFhLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBRTtBQUNsQyxPQUFLLEdBQUcsS0FBSyxDQUFDLElBQUksR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUM7O0FBRWpELE1BQUksSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEtBQUssS0FBSyxFQUFFO0FBQ2hDLFFBQUksU0FBUyxHQUFHLEVBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFDLENBQUM7O0FBRXJDLFVBQU0sMkJBQWMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsaUJBQWlCLEdBQUcsS0FBSyxFQUFFLFNBQVMsQ0FBQyxDQUFDO0dBQ2hGO0NBQ0Y7O0FBRU0sU0FBUyxjQUFjLENBQUMsTUFBTSxFQUFFLE9BQU8sRUFBRTtBQUM5QyxNQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztBQUNyQixNQUFJLENBQUMsS0FBSyxHQUFHO0FBQ1gsUUFBSSxFQUFFLE9BQU8sQ0FBQyxVQUFVO0FBQ3hCLFVBQU0sRUFBRSxPQUFPLENBQUMsWUFBWTtHQUM3QixDQUFDO0FBQ0YsTUFBSSxDQUFDLEdBQUcsR0FBRztBQUNULFFBQUksRUFBRSxPQUFPLENBQUMsU0FBUztBQUN2QixVQUFNLEVBQUUsT0FBTyxDQUFDLFdBQVc7R0FDNUIsQ0FBQztDQUNIOztBQUVNLFNBQVMsRUFBRSxDQUFDLEtBQUssRUFBRTtBQUN4QixNQUFJLFVBQVUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUU7QUFDMUIsV0FBTyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDO0dBQzFDLE1BQU07QUFDTCxX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bGVyL2hlbHBlcnMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRXhjZXB0aW9uIGZyb20gJy4uL2V4Y2VwdGlvbic7XG5cbmZ1bmN0aW9uIHZhbGlkYXRlQ2xvc2Uob3BlbiwgY2xvc2UpIHtcbiAgY2xvc2UgPSBjbG9zZS5wYXRoID8gY2xvc2UucGF0aC5vcmlnaW5hbCA6IGNsb3NlO1xuXG4gIGlmIChvcGVuLnBhdGgub3JpZ2luYWwgIT09IGNsb3NlKSB7XG4gICAgbGV0IGVycm9yTm9kZSA9IHtsb2M6IG9wZW4ucGF0aC5sb2N9O1xuXG4gICAgdGhyb3cgbmV3IEV4Y2VwdGlvbihvcGVuLnBhdGgub3JpZ2luYWwgKyBcIiBkb2Vzbid0IG1hdGNoIFwiICsgY2xvc2UsIGVycm9yTm9kZSk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFNvdXJjZUxvY2F0aW9uKHNvdXJjZSwgbG9jSW5mbykge1xuICB0aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgdGhpcy5zdGFydCA9IHtcbiAgICBsaW5lOiBsb2NJbmZvLmZpcnN0X2xpbmUsXG4gICAgY29sdW1uOiBsb2NJbmZvLmZpcnN0X2NvbHVtblxuICB9O1xuICB0aGlzLmVuZCA9IHtcbiAgICBsaW5lOiBsb2NJbmZvLmxhc3RfbGluZSxcbiAgICBjb2x1bW46IGxvY0luZm8ubGFzdF9jb2x1bW5cbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlkKHRva2VuKSB7XG4gIGlmICgvXlxcWy4qXFxdJC8udGVzdCh0b2tlbikpIHtcbiAgICByZXR1cm4gdG9rZW4uc3Vic3RyKDEsIHRva2VuLmxlbmd0aCAtIDIpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB0b2tlbjtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc3RyaXBGbGFncyhvcGVuLCBjbG9zZSkge1xuICByZXR1cm4ge1xuICAgIG9wZW46IG9wZW4uY2hhckF0KDIpID09PSAnficsXG4gICAgY2xvc2U6IGNsb3NlLmNoYXJBdChjbG9zZS5sZW5ndGggLSAzKSA9PT0gJ34nXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdHJpcENvbW1lbnQoY29tbWVudCkge1xuICByZXR1cm4gY29tbWVudC5yZXBsYWNlKC9eXFx7XFx7fj9cXCEtPy0/LywgJycpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoLy0/LT9+P1xcfVxcfSQvLCAnJyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcmVwYXJlUGF0aChkYXRhLCBwYXJ0cywgbG9jKSB7XG4gIGxvYyA9IHRoaXMubG9jSW5mbyhsb2MpO1xuXG4gIGxldCBvcmlnaW5hbCA9IGRhdGEgPyAnQCcgOiAnJyxcbiAgICAgIGRpZyA9IFtdLFxuICAgICAgZGVwdGggPSAwLFxuICAgICAgZGVwdGhTdHJpbmcgPSAnJztcblxuICBmb3IgKGxldCBpID0gMCwgbCA9IHBhcnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGxldCBwYXJ0ID0gcGFydHNbaV0ucGFydCxcbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBbXSBzeW50YXggdGhlbiB3ZSBkbyBub3QgdHJlYXQgcGF0aCByZWZlcmVuY2VzIGFzIG9wZXJhdG9ycyxcbiAgICAgICAgLy8gaS5lLiBmb28uW3RoaXNdIHJlc29sdmVzIHRvIGFwcHJveGltYXRlbHkgY29udGV4dC5mb29bJ3RoaXMnXVxuICAgICAgICBpc0xpdGVyYWwgPSBwYXJ0c1tpXS5vcmlnaW5hbCAhPT0gcGFydDtcbiAgICBvcmlnaW5hbCArPSAocGFydHNbaV0uc2VwYXJhdG9yIHx8ICcnKSArIHBhcnQ7XG5cbiAgICBpZiAoIWlzTGl0ZXJhbCAmJiAocGFydCA9PT0gJy4uJyB8fCBwYXJ0ID09PSAnLicgfHwgcGFydCA9PT0gJ3RoaXMnKSkge1xuICAgICAgaWYgKGRpZy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ0ludmFsaWQgcGF0aDogJyArIG9yaWdpbmFsLCB7bG9jfSk7XG4gICAgICB9IGVsc2UgaWYgKHBhcnQgPT09ICcuLicpIHtcbiAgICAgICAgZGVwdGgrKztcbiAgICAgICAgZGVwdGhTdHJpbmcgKz0gJy4uLyc7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGRpZy5wdXNoKHBhcnQpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgdHlwZTogJ1BhdGhFeHByZXNzaW9uJyxcbiAgICBkYXRhLFxuICAgIGRlcHRoLFxuICAgIHBhcnRzOiBkaWcsXG4gICAgb3JpZ2luYWwsXG4gICAgbG9jXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcmVwYXJlTXVzdGFjaGUocGF0aCwgcGFyYW1zLCBoYXNoLCBvcGVuLCBzdHJpcCwgbG9jSW5mbykge1xuICAvLyBNdXN0IHVzZSBjaGFyQXQgdG8gc3VwcG9ydCBJRSBwcmUtMTBcbiAgbGV0IGVzY2FwZUZsYWcgPSBvcGVuLmNoYXJBdCgzKSB8fCBvcGVuLmNoYXJBdCgyKSxcbiAgICAgIGVzY2FwZWQgPSBlc2NhcGVGbGFnICE9PSAneycgJiYgZXNjYXBlRmxhZyAhPT0gJyYnO1xuXG4gIGxldCBkZWNvcmF0b3IgPSAoL1xcKi8udGVzdChvcGVuKSk7XG4gIHJldHVybiB7XG4gICAgdHlwZTogZGVjb3JhdG9yID8gJ0RlY29yYXRvcicgOiAnTXVzdGFjaGVTdGF0ZW1lbnQnLFxuICAgIHBhdGgsXG4gICAgcGFyYW1zLFxuICAgIGhhc2gsXG4gICAgZXNjYXBlZCxcbiAgICBzdHJpcCxcbiAgICBsb2M6IHRoaXMubG9jSW5mbyhsb2NJbmZvKVxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJlcGFyZVJhd0Jsb2NrKG9wZW5SYXdCbG9jaywgY29udGVudHMsIGNsb3NlLCBsb2NJbmZvKSB7XG4gIHZhbGlkYXRlQ2xvc2Uob3BlblJhd0Jsb2NrLCBjbG9zZSk7XG5cbiAgbG9jSW5mbyA9IHRoaXMubG9jSW5mbyhsb2NJbmZvKTtcbiAgbGV0IHByb2dyYW0gPSB7XG4gICAgdHlwZTogJ1Byb2dyYW0nLFxuICAgIGJvZHk6IGNvbnRlbnRzLFxuICAgIHN0cmlwOiB7fSxcbiAgICBsb2M6IGxvY0luZm9cbiAgfTtcblxuICByZXR1cm4ge1xuICAgIHR5cGU6ICdCbG9ja1N0YXRlbWVudCcsXG4gICAgcGF0aDogb3BlblJhd0Jsb2NrLnBhdGgsXG4gICAgcGFyYW1zOiBvcGVuUmF3QmxvY2sucGFyYW1zLFxuICAgIGhhc2g6IG9wZW5SYXdCbG9jay5oYXNoLFxuICAgIHByb2dyYW0sXG4gICAgb3BlblN0cmlwOiB7fSxcbiAgICBpbnZlcnNlU3RyaXA6IHt9LFxuICAgIGNsb3NlU3RyaXA6IHt9LFxuICAgIGxvYzogbG9jSW5mb1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJlcGFyZUJsb2NrKG9wZW5CbG9jaywgcHJvZ3JhbSwgaW52ZXJzZUFuZFByb2dyYW0sIGNsb3NlLCBpbnZlcnRlZCwgbG9jSW5mbykge1xuICBpZiAoY2xvc2UgJiYgY2xvc2UucGF0aCkge1xuICAgIHZhbGlkYXRlQ2xvc2Uob3BlbkJsb2NrLCBjbG9zZSk7XG4gIH1cblxuICBsZXQgZGVjb3JhdG9yID0gKC9cXCovLnRlc3Qob3BlbkJsb2NrLm9wZW4pKTtcblxuICBwcm9ncmFtLmJsb2NrUGFyYW1zID0gb3BlbkJsb2NrLmJsb2NrUGFyYW1zO1xuXG4gIGxldCBpbnZlcnNlLFxuICAgICAgaW52ZXJzZVN0cmlwO1xuXG4gIGlmIChpbnZlcnNlQW5kUHJvZ3JhbSkge1xuICAgIGlmIChkZWNvcmF0b3IpIHtcbiAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ1VuZXhwZWN0ZWQgaW52ZXJzZSBibG9jayBvbiBkZWNvcmF0b3InLCBpbnZlcnNlQW5kUHJvZ3JhbSk7XG4gICAgfVxuXG4gICAgaWYgKGludmVyc2VBbmRQcm9ncmFtLmNoYWluKSB7XG4gICAgICBpbnZlcnNlQW5kUHJvZ3JhbS5wcm9ncmFtLmJvZHlbMF0uY2xvc2VTdHJpcCA9IGNsb3NlLnN0cmlwO1xuICAgIH1cblxuICAgIGludmVyc2VTdHJpcCA9IGludmVyc2VBbmRQcm9ncmFtLnN0cmlwO1xuICAgIGludmVyc2UgPSBpbnZlcnNlQW5kUHJvZ3JhbS5wcm9ncmFtO1xuICB9XG5cbiAgaWYgKGludmVydGVkKSB7XG4gICAgaW52ZXJ0ZWQgPSBpbnZlcnNlO1xuICAgIGludmVyc2UgPSBwcm9ncmFtO1xuICAgIHByb2dyYW0gPSBpbnZlcnRlZDtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgdHlwZTogZGVjb3JhdG9yID8gJ0RlY29yYXRvckJsb2NrJyA6ICdCbG9ja1N0YXRlbWVudCcsXG4gICAgcGF0aDogb3BlbkJsb2NrLnBhdGgsXG4gICAgcGFyYW1zOiBvcGVuQmxvY2sucGFyYW1zLFxuICAgIGhhc2g6IG9wZW5CbG9jay5oYXNoLFxuICAgIHByb2dyYW0sXG4gICAgaW52ZXJzZSxcbiAgICBvcGVuU3RyaXA6IG9wZW5CbG9jay5zdHJpcCxcbiAgICBpbnZlcnNlU3RyaXAsXG4gICAgY2xvc2VTdHJpcDogY2xvc2UgJiYgY2xvc2Uuc3RyaXAsXG4gICAgbG9jOiB0aGlzLmxvY0luZm8obG9jSW5mbylcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByZXBhcmVQcm9ncmFtKHN0YXRlbWVudHMsIGxvYykge1xuICBpZiAoIWxvYyAmJiBzdGF0ZW1lbnRzLmxlbmd0aCkge1xuICAgIGNvbnN0IGZpcnN0TG9jID0gc3RhdGVtZW50c1swXS5sb2MsXG4gICAgICAgICAgbGFzdExvYyA9IHN0YXRlbWVudHNbc3RhdGVtZW50cy5sZW5ndGggLSAxXS5sb2M7XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIGlmIChmaXJzdExvYyAmJiBsYXN0TG9jKSB7XG4gICAgICBsb2MgPSB7XG4gICAgICAgIHNvdXJjZTogZmlyc3RMb2Muc291cmNlLFxuICAgICAgICBzdGFydDoge1xuICAgICAgICAgIGxpbmU6IGZpcnN0TG9jLnN0YXJ0LmxpbmUsXG4gICAgICAgICAgY29sdW1uOiBmaXJzdExvYy5zdGFydC5jb2x1bW5cbiAgICAgICAgfSxcbiAgICAgICAgZW5kOiB7XG4gICAgICAgICAgbGluZTogbGFzdExvYy5lbmQubGluZSxcbiAgICAgICAgICBjb2x1bW46IGxhc3RMb2MuZW5kLmNvbHVtblxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgdHlwZTogJ1Byb2dyYW0nLFxuICAgIGJvZHk6IHN0YXRlbWVudHMsXG4gICAgc3RyaXA6IHt9LFxuICAgIGxvYzogbG9jXG4gIH07XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIHByZXBhcmVQYXJ0aWFsQmxvY2sob3BlbiwgcHJvZ3JhbSwgY2xvc2UsIGxvY0luZm8pIHtcbiAgdmFsaWRhdGVDbG9zZShvcGVuLCBjbG9zZSk7XG5cbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAnUGFydGlhbEJsb2NrU3RhdGVtZW50JyxcbiAgICBuYW1lOiBvcGVuLnBhdGgsXG4gICAgcGFyYW1zOiBvcGVuLnBhcmFtcyxcbiAgICBoYXNoOiBvcGVuLmhhc2gsXG4gICAgcHJvZ3JhbSxcbiAgICBvcGVuU3RyaXA6IG9wZW4uc3RyaXAsXG4gICAgY2xvc2VTdHJpcDogY2xvc2UgJiYgY2xvc2Uuc3RyaXAsXG4gICAgbG9jOiB0aGlzLmxvY0luZm8obG9jSW5mbylcbiAgfTtcbn1cblxuIl19\n"}