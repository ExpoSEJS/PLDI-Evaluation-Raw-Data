{"8":[4,9,4,73],"9":[1,20,1,27],"10":[4,9,4,22],"16":[6,13,6,28],"17":[1,28,1,32],"18":[4,9,4,35],"24":[8,16,8,58],"25":[1,20,1,33],"26":[4,39,4,60],"32":[8,16,8,58],"33":[1,20,1,33],"34":[4,39,4,73],"40":[4,9,4,73],"41":[1,20,1,33],"42":[6,13,6,28],"48":[23,21,23,63],"49":[2,26,2,38],"50":[8,16,8,29],"56":[23,21,23,63],"57":[2,26,2,45],"58":[8,16,8,44],"64":[25,28,25,57],"65":[2,26,2,45],"66":[20,13,20,28],"72":[25,28,25,77],"73":[2,26,2,45],"74":[20,13,20,41],"80":[23,21,23,89],"81":[4,16,4,22],"82":[23,21,23,40],"88":[29,20,29,50],"89":[4,27,4,35],"90":[23,44,23,63],"96":[20,13,20,41],"97":[4,46,4,52],"98":[23,66,23,75],"104":[40,25,40,41],"105":[4,46,4,60],"106":[23,78,23,89],"112":[38,17,38,35],"113":[4,65,4,73],"114":[24,63,24,86],"120":[47,13,47,17],"121":[5,17,5,24],"122":[25,28,25,37],"128":[56,17,56,31],"129":[5,25,5,32],"130":[25,41,25,57],"136":[59,17,59,35],"137":[5,34,5,41],"138":[25,61,25,77],"144":[53,13,53,43],"145":[5,17,5,42],"146":[29,20,29,35],"152":[85,17,85,24],"153":[5,17,5,42],"154":[29,20,29,50],"160":[104,24,104,52],"161":[5,17,5,42],"162":[32,29,32,59],"168":[107,24,107,50],"169":[6,13,6,14],"170":[53,13,53,43],"176":[146,17,146,40],"177":[6,19,6,28],"178":[85,17,85,24],"185":[7,13,7,19],"186":[86,33,86,111],"193":[7,30,7,31],"194":[94,28,94,39],"201":[7,13,7,31],"202":[94,27,94,39],"209":[7,13,7,32],"210":[114,21,114,37],"217":[8,23,8,29],"218":[136,21,136,38],"225":[8,34,8,44],"226":[146,17,146,40],"233":[8,48,8,54],"241":[8,48,8,58],"249":[9,9,9,15],"257":[10,13,10,22],"265":[11,13,11,22],"273":[12,13,12,26],"281":[9,16,13,10],"289":[13,12,13,19],"297":[9,9,13,20],"305":[9,9,13,21],"313":[3,2,15,2],"321":[3,2,15,2],"329":[3,2,15,2],"337":[3,2,15,2],"345":[3,2,15,2],"353":[16,5,16,17],"361":[16,5,16,18],"369":[17,5,17,11],"377":[17,27,17,34],"385":[17,36,17,48],"393":[17,59,17,63],"401":[17,50,17,65],"409":[17,5,17,66],"411":[17,5,17,26],"417":[17,5,17,67],"425":[18,25,18,32],"433":[18,33,18,46],"441":[18,25,18,47],"449":[18,25,18,47],"457":[18,25,18,47],"465":[19,32,19,40],"473":[20,20,20,28],"481":[20,33,20,41],"489":[21,20,21,25],"497":[22,29,22,34],"505":[22,29,22,48],"513":[22,57,22,65],"521":[22,29,22,66],"523":[22,29,22,56],"529":[22,29,22,66],"537":[22,29,22,66],"545":[23,21,23,29],"553":[23,30,23,31],"561":[23,21,23,32],"569":[23,37,23,40],"577":[23,44,23,52],"585":[23,53,23,54],"593":[23,44,23,55],"601":[23,60,23,63],"609":[23,66,23,71],"617":[23,74,23,75],"625":[23,78,23,83],"633":[23,88,23,89],"641":[24,36,24,41],"649":[24,36,24,55],"657":[24,63,24,68],"665":[24,71,24,79],"673":[24,71,24,86],"681":[24,36,24,87],"683":[24,36,24,62],"689":[24,36,24,87],"697":[24,36,24,87],"705":[25,29,25,37],"713":[25,41,25,49],"721":[25,54,25,57],"729":[25,61,25,69],"737":[25,74,25,77],"745":[25,28,25,77],"753":[25,21,25,78],"761":[27,24,27,29],"769":[27,24,27,29],"777":[27,17,27,30],"785":[21,20,28,14],"793":[21,13,28,15],"801":[29,27,29,35],"809":[29,40,29,50],"817":[30,20,30,28],"825":[30,20,30,28],"833":[30,13,30,29],"841":[32,23,32,28],"849":[32,29,32,48],"857":[32,51,32,59],"865":[32,19,32,60],"873":[32,19,32,60],"881":[32,13,32,61],"889":[19,32,34,6],"897":[19,32,34,6],"905":[35,30,35,34],"913":[35,36,35,45],"921":[36,23,36,25],"929":[36,23,36,25],"937":[36,23,36,25],"945":[37,21,37,30],"953":[38,17,38,26],"961":[38,17,38,35],"969":[39,17,39,26],"977":[39,17,39,35],"985":[39,44,39,49],"993":[40,25,40,34],"1001":[40,35,40,40],"1009":[40,25,40,41],"1017":[41,25,41,32],"1025":[41,38,41,43],"1033":[41,25,41,44],"1035":[41,25,41,37],"1041":[41,25,41,45],"1049":[43,21,43,26],"1057":[43,27,43,32],"1065":[43,21,43,33],"1073":[43,21,43,34],"1081":[39,17,44,19],"1083":[39,17,39,43],"1089":[39,17,44,20],"1097":[37,21,46,10],"1105":[37,21,46,10],"1113":[47,13,47,17],"1121":[48,13,48,18],"1129":[48,19,48,23],"1137":[48,13,48,24],"1145":[48,13,48,25],"1153":[50,16,50,23],"1161":[50,16,50,23],"1169":[50,9,50,24],"1177":[35,29,51,6],"1185":[35,29,51,6],"1193":[52,31,52,40],"1201":[52,42,52,49],"1209":[53,13,53,22],"1217":[53,13,53,36],"1225":[53,41,53,43],"1233":[54,13,54,20],"1241":[54,26,54,35],"1249":[54,26,54,40],"1257":[54,13,54,41],"1259":[54,13,54,25],"1265":[54,13,54,42],"1273":[56,17,56,26],"1281":[56,17,56,31],"1289":[57,17,57,24],"1297":[57,30,57,39],"1305":[57,30,57,44],"1313":[57,17,57,45],"1315":[57,17,57,29],"1321":[57,17,57,46],"1329":[59,17,59,26],"1337":[59,17,59,35],"1345":[60,17,60,26],"1353":[60,17,60,35],"1361":[60,44,60,49],"1369":[61,21,61,39],"1377":[61,40,61,45],"1385":[61,47,61,54],"1393":[61,21,61,55],"1401":[61,21,61,56],"1409":[60,17,62,19],"1411":[60,17,60,43],"1417":[60,17,62,20],"1425":[65,16,65,23],"1433":[65,16,65,23],"1441":[65,9,65,24],"1449":[52,30,66,6],"1457":[52,30,66,6],"1465":[68,24,68,32],"1473":[68,34,68,46],"1481":[69,22,69,30],"1489":[69,32,69,43],"1497":[70,29,70,49],"1505":[70,50,70,58],"1513":[70,29,70,59],"1521":[70,29,70,59],"1529":[70,29,70,59],"1537":[71,20,71,31],"1545":[71,38,71,55],"1553":[71,56,71,64],"1561":[71,56,71,66],"1569":[71,68,71,77],"1577":[71,38,71,78],"1585":[71,79,71,80],"1593":[71,38,71,81],"1601":[72,20,72,32],"1609":[72,20,72,34],"1617":[73,17,73,25],"1625":[71,89,74,14],"1633":[71,20,74,15],"1641":[71,20,74,15],"1649":[71,13,74,16],"1657":[69,21,75,10],"1665":[69,21,75,10],"1673":[76,24,76,32],"1681":[77,29,77,49],"1689":[77,50,77,58],"1697":[77,29,77,59],"1705":[77,29,77,59],"1713":[77,29,77,59],"1721":[78,20,78,41],"1729":[78,48,78,65],"1737":[78,66,78,74],"1745":[78,66,78,76],"1753":[78,78,78,87],"1761":[78,48,78,88],"1769":[79,20,79,32],"1777":[79,20,79,34],"1785":[80,17,80,25],"1793":[78,96,81,14],"1801":[78,20,81,15],"1809":[78,20,81,15],"1817":[78,13,81,16],"1825":[76,24,82,10],"1833":[76,24,82,10],"1841":[84,26,84,34],"1849":[84,26,84,36],"1857":[84,26,84,36],"1865":[84,26,84,36],"1873":[85,18,85,24],"1881":[86,27,86,32],"1889":[86,33,86,64],"1897":[86,67,86,71],"1905":[86,82,86,94],"1913":[86,82,86,96],"1921":[86,98,86,107],"1929":[86,109,86,110],"1937":[86,67,86,111],"1939":[86,67,86,81],"1945":[86,23,86,112],"1953":[86,23,86,112],"1961":[86,17,86,113],"1969":[88,20,88,26],"1977":[88,20,88,26],"1985":[88,13,88,27],"1993":[83,25,89,10],"2001":[83,25,89,10],"2009":[92,26,92,30],"2017":[92,41,92,53],"2025":[92,41,92,55],"2033":[92,26,92,56],"2035":[92,26,92,40],"2041":[93,22,93,31],"2049":[94,29,94,37],"2057":[94,29,94,39],"2065":[95,13,95,18],"2073":[96,13,96,21],"2081":[98,24,98,42],"2089":[98,43,98,52],"2097":[98,43,98,54],"2105":[98,56,98,58],"2113":[98,24,98,59],"2121":[98,65,98,67],"2129":[98,24,98,68],"2131":[98,24,98,64],"2137":[98,24,98,68],"2145":[98,17,98,69],"2153":[97,28,99,14],"2161":[97,28,99,14],"2169":[101,24,101,33],"2177":[101,24,101,35],"2185":[101,24,101,49],"2193":[101,24,101,49],"2201":[101,17,101,50],"2209":[100,30,102,14],"2217":[100,30,102,14],"2225":[104,24,104,33],"2233":[104,24,104,35],"2241":[104,24,104,46],"2249":[104,50,104,52],"2257":[104,24,104,52],"2265":[104,17,104,53],"2273":[103,27,105,14],"2281":[103,27,105,14],"2289":[107,24,107,33],"2297":[107,24,107,35],"2305":[107,24,107,44],"2313":[107,48,107,50],"2321":[107,24,107,50],"2329":[107,17,107,51],"2337":[106,25,108,14],"2345":[106,25,108,14],"2353":[109,23,109,28],"2361":[110,24,110,35],"2369":[111,28,111,37],"2377":[111,28,111,39],"2385":[111,28,111,48],"2393":[111,49,111,54],"2401":[111,28,111,55],"2409":[111,28,111,55],"2417":[111,21,111,56],"2425":[113,24,113,36],"2433":[113,24,113,38],"2441":[114,21,114,29],"2449":[114,32,114,37],"2457":[112,26,115,18],"2465":[110,24,115,19],"2473":[110,24,115,19],"2481":[110,17,115,20],"2489":[118,24,118,35],"2497":[118,52,118,61],"2505":[118,52,118,63],"2513":[118,65,118,78],"2521":[118,24,118,79],"2523":[118,24,118,51],"2529":[118,24,118,79],"2537":[118,17,118,80],"2545":[117,25,119,14],"2553":[117,25,119,14],"2561":[120,31,120,37],"2569":[121,33,121,39],"2577":[121,33,121,39],"2585":[121,17,121,40],"2593":[124,24,124,37],"2601":[124,24,124,37],"2609":[124,17,124,38],"2617":[91,16,126,10],"2625":[91,16,126,10],"2633":[91,9,126,11],"2641":[68,23,127,6],"2649":[68,23,127,6],"2657":[128,30,128,39],"2665":[128,41,128,53],"2673":[130,22,130,31],"2681":[131,24,131,29],"2689":[132,24,132,35],"2697":[133,28,133,37],"2705":[133,28,133,39],"2713":[133,40,133,45],"2721":[133,28,133,46],"2729":[133,28,133,46],"2737":[133,21,133,47],"2745":[135,24,135,36],"2753":[135,24,135,38],"2761":[136,21,136,30],"2769":[136,33,136,38],"2777":[134,26,137,18],"2785":[132,24,137,19],"2793":[132,24,137,19],"2801":[132,17,137,20],"2809":[140,24,140,33],"2817":[140,24,140,35],"2825":[140,24,140,42],"2833":[140,24,140,42],"2841":[140,17,140,43],"2849":[139,23,141,14],"2857":[139,23,141,14],"2865":[129,16,142,10],"2873":[129,16,142,10],"2881":[129,9,142,11],"2889":[128,29,143,6],"2897":[128,5,143,7],"2905":[144,5,144,12],"2913":[144,35,144,57],"2921":[146,18,146,40],"2929":[147,27,147,32],"2937":[147,33,147,67],"2945":[147,23,147,68],"2953":[147,23,147,68],"2961":[147,17,147,69],"2969":[149,20,149,42],"2977":[149,20,149,44],"2985":[149,20,149,44],"2993":[149,13,149,45],"3001":[145,28,150,10],"3009":[145,28,150,10],"3017":[151,32,151,43],"3025":[152,33,152,45],"3033":[152,33,152,47],"3041":[152,32,152,48],"3049":[152,20,152,50],"3057":[152,20,152,50],"3065":[152,13,152,51],"3073":[153,19,153,31],"3081":[153,19,153,33],"3089":[153,18,153,34],"3097":[151,32,153,35],"3105":[151,32,153,35],"3113":[151,32,153,35],"3121":[155,25,155,57],"3129":[156,42,156,74],"3137":[156,42,156,74],"3145":[156,17,156,75],"3153":[159,42,159,51],"3161":[159,42,159,51],"3169":[159,17,159,52],"3177":[161,19,161,30],"3185":[161,31,161,43],"3193":[161,52,161,64],"3201":[161,52,161,66],"3209":[161,51,161,67],"3217":[161,19,161,68],"3225":[162,20,162,36],"3233":[162,20,162,42],"3241":[163,23,163,39],"3249":[163,23,163,48],"3257":[154,16,164,10],"3265":[154,16,164,10],"3273":[154,9,164,11],"3281":[144,5,165,6],"3289":[144,5,165,7],"3297":[15,3,166,2],"3305":[15,3,166,2],"3313":[15,3,166,2],"3321":[15,3,166,2],"3329":[15,3,166,2],"3337":[15,3,166,2],"3345":[15,3,166,2],"3353":[15,3,166,2],"3361":[15,3,166,2],"3369":[15,3,166,2],"3377":[15,3,166,2],"3385":[15,3,166,2],"3393":[15,3,166,2],"3401":[15,3,166,2],"3409":[15,3,166,2],"3417":[15,3,166,2],"3425":[15,3,166,2],"3433":[15,3,166,2],"3441":[15,3,166,2],"3449":[15,3,166,2],"3457":[15,3,166,2],"3465":[15,3,166,2],"3473":[15,3,166,2],"3481":[3,2,166,3],"3489":[3,1,166,5],"3497":[1,1,166,5],"3505":[1,1,166,5],"3513":[1,1,166,5],"3521":[6,9,7,32],"3529":[8,12,14,6],"3537":[4,5,14,6],"3545":[3,2,15,2],"3553":[3,2,15,2],"3561":[23,21,23,89],"3569":[23,17,26,18],"3577":[29,16,33,10],"3585":[20,9,33,10],"3593":[40,21,42,22],"3601":[38,13,45,14],"3609":[47,9,49,10],"3617":[56,13,58,14],"3625":[59,13,63,14],"3633":[53,9,64,10],"3641":[85,13,87,14],"3649":[97,28,99,14],"3657":[97,28,99,14],"3665":[100,30,102,14],"3673":[100,30,102,14],"3681":[103,27,105,14],"3689":[103,27,105,14],"3697":[106,25,108,14],"3705":[106,25,108,14],"3713":[117,25,119,14],"3721":[117,25,119,14],"3729":[139,23,141,14],"3737":[139,23,141,14],"3745":[146,13,148,14],"3753":[15,3,166,2],"3761":[15,3,166,2],"3769":[1,1,166,5],"3777":[1,1,166,5],"nBranches":44,"originalCodeFileName":"/home/blake/ExpoSE/Targets/maquette-query/node_modules/maquette-query/dist/test-projector.js","instrumentedCodeFileName":"/home/blake/ExpoSE/Targets/maquette-query/node_modules/maquette-query/dist/test-projector_jalangi_.js","code":"(function (factory) {\r\n    if (typeof module === \"object\" && typeof module.exports === \"object\") {\r\n        var v = factory(require, exports);\r\n        if (v !== undefined) module.exports = v;\r\n    }\r\n    else if (typeof define === \"function\" && define.amd) {\r\n        define([\"require\", \"exports\", \"./simulator\"], factory);\r\n    }\r\n})(function (require, exports) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    const simulator_1 = require(\"./simulator\");\r\n    // Helper functions\r\n    // ----------------\r\n    let makeSelectorFunction = (selector) => {\r\n        if (typeof selector === 'string') {\r\n            return (vNode) => {\r\n                let index = vNode.vnodeSelector.indexOf(selector);\r\n                if ((selector[0] === '.' || selector[0] === '#') ? (index > 0) : (index === 0)) {\r\n                    let nextChar = vNode.vnodeSelector.charAt(index + selector.length);\r\n                    return !nextChar || nextChar === '.' || nextChar === '#';\r\n                }\r\n                return false;\r\n            };\r\n        }\r\n        else if (typeof selector === 'function') {\r\n            return selector;\r\n        }\r\n        else {\r\n            throw new Error('Invalid selector ' + selector);\r\n        }\r\n    };\r\n    let filterDescendants = (root, predicate) => {\r\n        let results = [];\r\n        let visit = (vnodeTree) => {\r\n            if (vnodeTree.children) {\r\n                vnodeTree.children.forEach((child) => {\r\n                    if (predicate(child)) {\r\n                        results.push(child);\r\n                    }\r\n                    visit(child);\r\n                });\r\n            }\r\n        };\r\n        if (root) {\r\n            visit(root);\r\n        }\r\n        return results;\r\n    };\r\n    let collectTextContent = (vnodeTree, results) => {\r\n        if (vnodeTree.vnodeSelector === '') {\r\n            results.push(vnodeTree.text);\r\n        }\r\n        else {\r\n            if (vnodeTree.text) {\r\n                results.push(vnodeTree.text);\r\n            }\r\n            if (vnodeTree.children) {\r\n                vnodeTree.children.forEach((child) => {\r\n                    collectTextContent(child, results);\r\n                });\r\n            }\r\n        }\r\n        return results;\r\n    };\r\n    // The create methods\r\n    let createCollectionQuery;\r\n    let createQuery = (getVNode, getDebugInfo) => {\r\n        let query = (selector, fakeDomNode) => {\r\n            let predicate = makeSelectorFunction(selector);\r\n            return createQuery(() => filterDescendants(getVNode(), predicate)[0], () => [...getDebugInfo(), selector]);\r\n        };\r\n        let queryAll = (selector) => {\r\n            let predicate = makeSelectorFunction(selector);\r\n            return createCollectionQuery(() => filterDescendants(getVNode(), predicate), () => [...getDebugInfo(), selector]);\r\n        };\r\n        let getResult = () => {\r\n            let result = getVNode();\r\n            if (!result) {\r\n                throw new Error('Query did not match a VNode: ' + JSON.stringify(getDebugInfo(), undefined, 2));\r\n            }\r\n            return result;\r\n        };\r\n        let targetDomNode;\r\n        return {\r\n            debug: () => JSON.stringify(getDebugInfo()),\r\n            execute: getResult,\r\n            exists: () => !!getVNode(),\r\n            query,\r\n            queryAll,\r\n            get textContent() {\r\n                return collectTextContent(getResult(), []).join('');\r\n            },\r\n            get vnodeSelector() {\r\n                return getResult().vnodeSelector;\r\n            },\r\n            get properties() {\r\n                return getResult().properties || {};\r\n            },\r\n            get children() {\r\n                return getResult().children || [];\r\n            },\r\n            getChild: (index) => {\r\n                return createQuery(() => {\r\n                    return getResult().children[index];\r\n                }, () => [...getDebugInfo(), 'child:' + index]);\r\n            },\r\n            /**\r\n             * A small facade that allows firing of simple events and sequences of events for common usecases.\r\n             * It is not meant to be exhaustive.\r\n             * If you need to simulate something that is not in here, you can simply invoke query(...).properties.on???() yourself.\r\n             */\r\n            get simulate() { return simulator_1.createSimulator(getResult(), targetDomNode); },\r\n            setTargetDomNode: (target) => {\r\n                targetDomNode = target;\r\n            },\r\n            getTargetDomNode: () => {\r\n                return targetDomNode;\r\n            }\r\n        };\r\n    };\r\n    createCollectionQuery = (getVNodes, getDebugInfo) => {\r\n        return {\r\n            execute: getVNodes,\r\n            getResult: (index) => {\r\n                return createQuery(() => {\r\n                    return getVNodes()[index];\r\n                }, () => [...getDebugInfo(), 'result:' + index]);\r\n            },\r\n            get length() {\r\n                return getVNodes().length;\r\n            }\r\n        };\r\n    };\r\n    /**\r\n     * Creates a test projector which implements the QueryBase interface\r\n     * @param renderMaquetteFunction  Optional, the renderMaquette function that is used to produce the VNode tree.\r\n     *                                when not specified, you must use the initialize function to supply the renderMaquetteFunction.\r\n     */\r\n    exports.createTestProjector = (renderMaquetteFunction) => {\r\n        let getRootVNode = () => {\r\n            if (!renderMaquetteFunction) {\r\n                throw new Error('TestProjector is not initialized');\r\n            }\r\n            return renderMaquetteFunction();\r\n        };\r\n        let createQueryStart = createQuery(() => {\r\n            return {\r\n                children: [getRootVNode()]\r\n            };\r\n        }, () => [getRootVNode()]);\r\n        return {\r\n            initialize: (initializeRenderMaquetteFunction) => {\r\n                renderMaquetteFunction = initializeRenderMaquetteFunction;\r\n            },\r\n            uninitialize: () => {\r\n                renderMaquetteFunction = undefined;\r\n            },\r\n            root: createQuery(getRootVNode, () => [getRootVNode()]),\r\n            query: createQueryStart.query,\r\n            queryAll: createQueryStart.queryAll\r\n        };\r\n    };\r\n});\r\n//# sourceMappingURL=test-projector.js.map"}