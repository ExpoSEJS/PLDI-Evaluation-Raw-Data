{"8":[5,11,5,48],"9":[1,20,1,27],"10":[7,21,7,33],"16":[7,9,7,33],"17":[1,28,1,32],"18":[7,9,7,33],"24":[11,9,11,39],"25":[1,20,1,33],"26":[11,23,11,39],"32":[18,9,18,34],"33":[1,20,1,33],"34":[11,9,11,39],"40":[21,9,21,39],"41":[1,20,1,33],"42":[18,9,18,34],"48":[24,24,24,36],"49":[2,26,2,38],"50":[21,22,21,38],"56":[24,38,24,60],"57":[2,26,2,45],"58":[21,9,21,39],"64":[32,77,32,83],"65":[2,26,2,45],"66":[22,32,22,34],"72":[32,184,32,188],"73":[2,26,2,45],"74":[32,38,32,62],"80":[35,13,35,23],"81":[3,12,3,19],"82":[32,86,32,96],"88":[40,27,40,53],"89":[3,20,3,26],"90":[32,122,32,170],"96":[43,13,43,37],"97":[3,12,3,27],"98":[32,230,32,238],"104":[44,17,44,20],"105":[3,37,3,44],"106":[39,19,39,38],"112":[47,21,47,41],"113":[3,45,3,54],"114":[39,19,39,73],"120":[50,21,50,31],"121":[3,37,3,55],"122":[42,23,42,30],"128":[52,85,52,112],"129":[3,65,3,72],"136":[52,27,52,46],"137":[3,73,3,80],"138":[42,23,42,30],"144":[55,35,55,62],"145":[3,65,3,81],"146":[43,13,43,19],"152":[54,21,54,34],"153":[3,82,3,102],"154":[47,21,47,41],"160":[56,21,56,35],"161":[3,65,3,103],"162":[52,27,52,46],"168":[60,21,60,41],"169":[3,12,3,27],"170":[54,21,54,34],"176":[67,21,67,41],"177":[3,12,3,27],"178":[60,21,60,41],"184":[46,17,46,20],"185":[3,37,3,55],"186":[67,21,67,41],"192":[43,13,43,37],"193":[3,37,3,55],"194":[69,25,69,61],"200":[75,17,75,34],"201":[3,65,3,103],"202":[69,25,69,67],"208":[77,17,77,75],"209":[3,65,3,103],"210":[69,25,69,99],"216":[80,17,80,30],"217":[4,11,4,17],"218":[69,25,69,106],"224":[80,17,80,42],"225":[4,28,4,30],"226":[75,17,75,34],"232":[80,17,80,42],"233":[4,11,4,30],"234":[77,17,77,75],"240":[84,17,84,43],"241":[4,11,4,30],"242":[80,22,80,30],"248":[84,17,84,43],"249":[4,11,4,30],"250":[80,34,80,42],"256":[88,33,88,65],"257":[5,11,5,18],"258":[83,50,83,83],"264":[91,21,91,32],"265":[5,11,5,22],"266":[83,23,83,84],"272":[96,24,96,33],"273":[5,11,5,31],"274":[84,17,84,22],"280":[90,17,90,20],"281":[5,35,5,48],"282":[84,26,84,43],"289":[5,11,5,48],"290":[85,27,85,40],"297":[5,11,5,48],"298":[91,21,91,32],"305":[6,1,6,4],"306":[96,24,96,33],"313":[7,9,7,17],"321":[7,28,7,33],"329":[8,14,8,19],"337":[8,14,8,19],"345":[8,9,8,20],"353":[9,17,9,20],"361":[9,17,9,20],"369":[9,9,9,21],"377":[11,9,11,19],"385":[11,30,11,32],"393":[11,30,11,39],"401":[12,22,12,24],"409":[12,22,12,24],"417":[12,22,12,24],"425":[13,9,13,11],"433":[13,20,13,25],"441":[13,9,13,25],"449":[13,9,13,26],"457":[15,13,15,19],"465":[15,27,15,30],"473":[15,32,15,35],"481":[15,37,15,41],"489":[15,13,15,42],"491":[15,13,15,26],"497":[15,13,15,43],"505":[14,14,16,10],"513":[14,14,16,10],"521":[14,14,16,10],"529":[14,14,16,10],"537":[14,14,16,10],"545":[14,14,16,10],"553":[14,14,16,10],"561":[14,9,16,11],"569":[18,9,18,11],"577":[18,23,18,27],"585":[18,23,18,34],"593":[19,14,19,16],"601":[19,27,19,36],"609":[19,14,19,37],"611":[19,14,19,26],"617":[19,38,19,39],"625":[19,14,19,40],"633":[19,14,19,40],"641":[19,9,19,41],"649":[21,9,21,12],"657":[21,16,21,21],"665":[21,22,21,27],"673":[21,22,21,34],"681":[21,37,21,38],"689":[21,16,21,39],"697":[22,17,22,22],"705":[22,29,22,30],"713":[22,33,22,34],"721":[22,17,22,35],"723":[22,17,22,28],"729":[22,17,22,35],"737":[22,9,22,36],"745":[24,5,24,10],"753":[24,11,24,22],"761":[24,24,24,29],"769":[24,33,24,36],"777":[24,38,24,40],"785":[24,38,24,45],"793":[24,49,24,60],"801":[24,5,24,61],"809":[24,5,24,62],"817":[25,5,25,9],"825":[25,5,25,15],"833":[26,16,26,21],"841":[27,17,27,19],"849":[25,21,28,6],"857":[25,5,28,7],"859":[25,5,25,20],"865":[25,5,28,8],"873":[29,12,29,16],"881":[29,12,29,16],"889":[29,5,29,17],"897":[6,11,30,2],"905":[6,11,30,2],"913":[6,11,30,2],"921":[6,11,30,2],"929":[6,11,30,2],"937":[6,11,30,2],"945":[6,1,30,2],"953":[6,1,30,3],"961":[31,1,31,4],"969":[32,17,32,21],"977":[32,17,32,27],"985":[32,38,32,39],"993":[32,42,32,45],"1001":[32,42,32,49],"1009":[32,58,32,61],"1017":[32,42,32,62],"1019":[32,42,32,57],"1025":[32,77,32,83],"1033":[32,86,32,92],"1041":[32,95,32,96],"1049":[32,99,32,102],"1057":[32,99,32,106],"1065":[32,99,32,113],"1073":[32,122,32,123],"1081":[32,126,32,129],"1089":[32,126,32,133],"1097":[32,141,32,142],"1105":[32,144,32,154],"1113":[32,126,32,155],"1115":[32,126,32,140],"1121":[32,164,32,169],"1129":[32,126,32,170],"1131":[32,126,32,163],"1137":[32,184,32,188],"1145":[32,191,32,194],"1153":[32,191,32,198],"1161":[32,206,32,207],"1169":[32,209,32,212],"1177":[32,209,32,216],"1185":[32,225,32,228],"1193":[32,230,32,231],"1201":[32,234,32,238],"1209":[32,209,32,239],"1211":[32,209,32,224],"1217":[32,191,32,240],"1219":[32,191,32,205],"1225":[32,243,32,245],"1233":[32,257,32,259],"1241":[32,274,32,279],"1249":[32,289,32,290],"1257":[32,17,32,27],"1265":[32,17,32,27],"1273":[32,38,32,62],"1281":[32,38,32,62],"1289":[32,77,32,113],"1297":[32,77,32,113],"1305":[32,122,32,170],"1313":[32,122,32,170],"1321":[32,184,32,245],"1329":[32,184,32,245],"1337":[32,257,32,259],"1345":[32,257,32,259],"1353":[32,274,32,279],"1361":[32,274,32,279],"1369":[32,289,32,290],"1377":[32,289,32,290],"1385":[35,13,35,23],"1393":[36,13,36,16],"1401":[36,23,36,26],"1409":[36,23,36,30],"1417":[36,38,36,39],"1425":[36,23,36,40],"1427":[36,23,36,37],"1433":[36,13,36,40],"1441":[36,13,36,41],"1449":[37,26,37,31],"1457":[37,26,37,31],"1465":[37,13,37,32],"1473":[39,9,39,12],"1481":[39,19,39,28],"1489":[39,31,39,38],"1497":[39,41,39,44],"1505":[39,41,39,48],"1513":[39,56,39,65],"1521":[39,56,39,72],"1529":[39,41,39,73],"1531":[39,41,39,55],"1537":[39,9,39,73],"1545":[39,9,39,74],"1553":[40,9,40,12],"1561":[40,27,40,30],"1569":[40,27,40,42],"1577":[40,46,40,49],"1585":[40,46,40,53],"1593":[40,9,40,53],"1601":[40,9,40,54],"1609":[41,19,41,21],"1617":[41,19,41,21],"1625":[41,9,41,22],"1633":[42,17,42,22],"1649":[42,23,42,28],"1657":[42,23,42,30],"1673":[42,17,42,31],"1681":[42,17,42,31],"1689":[42,9,42,32],"1697":[43,14,43,19],"1705":[43,23,43,26],"1713":[43,23,43,37],"1721":[44,17,44,20],"1729":[45,24,45,27],"1737":[45,28,45,31],"1745":[45,24,45,32],"1753":[45,24,45,32],"1761":[45,17,45,33],"1769":[46,17,46,20],"1777":[47,21,47,24],"1785":[47,21,47,35],"1793":[47,38,47,41],"1801":[48,21,48,24],"1809":[48,38,48,41],"1817":[48,21,48,41],"1825":[48,21,48,42],"1833":[49,17,49,22],"1841":[49,23,49,35],"1849":[49,37,49,40],"1857":[49,37,49,51],"1865":[49,17,49,52],"1873":[49,17,49,53],"1881":[50,21,50,24],"1889":[50,21,50,31],"1897":[51,21,51,24],"1905":[51,38,51,41],"1913":[51,38,51,48],"1921":[51,21,51,48],"1929":[51,21,51,49],"1937":[52,27,52,39],"1945":[52,43,52,46],"1953":[52,49,52,53],"1961":[52,49,52,66],"1969":[52,67,52,70],"1977":[52,67,52,81],"1985":[52,49,52,82],"1993":[52,85,52,88],"2001":[52,85,52,94],"2009":[52,98,52,101],"2017":[52,98,52,112],"2019":[52,98,52,110],"2025":[52,27,52,112],"2033":[52,27,52,112],"2041":[53,23,53,28],"2049":[53,36,53,39],"2057":[53,23,53,40],"2059":[53,23,53,35],"2065":[53,23,53,40],"2073":[53,17,53,41],"2081":[54,21,54,27],"2089":[54,31,54,34],"2097":[55,21,55,28],"2105":[55,35,55,38],"2113":[55,35,55,44],"2121":[55,48,55,51],"2129":[55,48,55,62],"2131":[55,48,55,60],"2137":[55,21,55,63],"2139":[55,21,55,34],"2145":[55,21,55,64],"2153":[56,21,56,24],"2161":[56,21,56,35],"2169":[57,28,57,31],"2177":[57,28,57,38],"2185":[57,28,57,48],"2187":[57,28,57,46],"2193":[57,28,57,48],"2201":[57,21,57,49],"2209":[58,17,58,20],"2217":[58,31,58,45],"2225":[58,47,58,58],"2233":[58,17,58,59],"2235":[58,17,58,30],"2241":[58,17,58,60],"2249":[59,17,59,20],"2257":[59,31,59,47],"2265":[59,49,59,55],"2273":[59,67,59,70],"2281":[59,49,59,71],"2283":[59,49,59,66],"2289":[59,17,59,72],"2291":[59,17,59,30],"2297":[59,17,59,73],"2305":[60,21,60,27],"2313":[60,31,60,34],"2321":[60,31,60,41],"2329":[61,28,61,31],"2337":[61,28,61,37],"2339":[61,28,61,35],"2345":[61,28,61,37],"2353":[61,21,61,38],"2361":[62,17,62,20],"2369":[62,25,62,28],"2377":[62,17,62,29],"2379":[62,17,62,24],"2385":[62,17,62,30],"2393":[64,17,64,22],"2401":[64,23,64,36],"2409":[64,17,64,37],"2417":[64,17,64,38],"2425":[65,17,65,20],"2433":[65,34,65,37],"2441":[65,17,65,37],"2449":[65,17,65,38],"2457":[66,17,66,20],"2465":[66,31,66,45],"2473":[66,47,66,58],"2481":[66,17,66,59],"2483":[66,17,66,30],"2489":[66,17,66,60],"2497":[67,21,67,27],"2505":[67,31,67,34],"2513":[67,31,67,41],"2521":[68,28,68,31],"2529":[68,28,68,37],"2531":[68,28,68,35],"2537":[68,28,68,37],"2545":[68,21,68,38],"2553":[69,17,69,20],"2561":[69,25,69,34],"2569":[69,37,69,42],"2577":[69,50,69,53],"2585":[69,50,69,60],"2593":[69,37,69,61],"2595":[69,37,69,49],"2601":[69,64,69,67],"2609":[69,70,69,75],"2617":[69,83,69,86],"2625":[69,83,69,98],"2633":[69,70,69,99],"2635":[69,70,69,82],"2641":[69,102,69,106],"2649":[69,17,69,107],"2651":[69,17,69,24],"2657":[69,17,69,108],"2665":[71,13,71,20],"2673":[71,13,71,20],"2681":[74,20,74,25],"2689":[74,35,74,38],"2697":[74,20,74,39],"2699":[74,20,74,34],"2705":[74,20,74,48],"2713":[74,20,74,48],"2721":[74,13,74,49],"2729":[75,17,75,26],"2737":[75,30,75,34],"2745":[76,24,76,27],"2753":[76,24,76,27],"2761":[76,17,76,28],"2769":[77,17,77,18],"2777":[77,22,77,26],"2785":[77,22,77,40],"2787":[77,22,77,38],"2793":[77,49,77,54],"2801":[77,49,77,60],"2809":[77,49,77,74],"2811":[77,49,77,72],"2817":[77,22,77,75],"2819":[77,22,77,48],"2825":[78,24,78,28],"2833":[78,29,78,32],"2841":[78,24,78,33],"2849":[78,24,78,33],"2857":[78,17,78,34],"2865":[79,17,79,21],"2873":[79,22,79,27],"2881":[79,22,79,33],"2889":[79,22,79,40],"2897":[79,17,79,41],"2905":[79,17,79,41],"2913":[79,13,79,42],"2921":[80,17,80,18],"2929":[80,22,80,25],"2937":[80,29,80,30],"2945":[80,34,80,37],"2953":[80,41,80,42],"2961":[81,24,81,28],"2969":[81,29,81,32],"2977":[81,24,81,33],"2985":[81,24,81,33],"2993":[81,17,81,34],"3001":[82,23,82,28],"3009":[82,23,82,34],"3017":[82,23,82,34],"3025":[82,13,82,35],"3033":[83,13,83,16],"3041":[83,23,83,32],"3049":[83,35,83,38],"3057":[83,35,83,42],"3065":[83,50,83,59],"3073":[83,50,83,66],"3081":[83,69,83,76],"3089":[83,69,83,83],"3097":[83,35,83,84],"3099":[83,35,83,49],"3105":[83,13,83,84],"3113":[83,13,83,85],"3121":[84,18,84,22],"3129":[84,26,84,29],"3137":[84,33,84,36],"3145":[84,33,84,40],"3153":[84,41,84,42],"3161":[84,33,84,43],"3169":[85,17,85,20],"3177":[85,27,85,30],"3185":[85,33,85,36],"3193":[85,33,85,40],"3201":[85,17,85,40],"3209":[85,17,85,41],"3217":[86,30,86,34],"3225":[86,30,86,34],"3233":[86,17,86,35],"3241":[88,13,88,18],"3249":[88,19,88,31],"3257":[88,33,88,38],"3265":[88,33,88,45],"3273":[88,33,88,50],"3281":[88,54,88,65],"3289":[88,67,88,72],"3297":[88,67,88,78],"3305":[88,80,88,83],"3313":[88,80,88,95],"3321":[88,13,88,96],"3329":[88,13,88,97],"3337":[89,25,89,30],"3345":[89,25,89,37],"3353":[89,25,89,44],"3361":[89,25,89,44],"3369":[89,25,89,44],"3377":[90,17,90,20],"3385":[91,21,91,26],"3393":[91,31,91,32],"3401":[92,21,92,26],"3409":[92,34,92,37],"3417":[92,39,92,42],"3425":[92,44,92,47],"3433":[92,49,92,53],"3441":[92,21,92,54],"3443":[92,21,92,33],"3449":[92,21,92,55],"3457":[94,21,94,25],"3465":[94,26,94,29],"3473":[94,21,94,30],"3481":[94,21,94,31],"3489":[96,24,96,29],"3497":[96,32,96,33],"3505":[97,17,97,22],"3513":[97,30,97,33],"3521":[97,35,97,38],"3529":[97,40,97,44],"3537":[97,17,97,45],"3539":[97,17,97,29],"3545":[97,17,97,46],"3553":[99,17,99,21],"3561":[99,17,99,23],"3569":[99,17,99,24],"3577":[102,13,102,17],"3585":[102,18,102,19],"3593":[102,13,102,20],"3601":[102,13,102,21],"3609":[101,11,103,10],"3617":[33,5,104,6],"3625":[33,5,104,6],"3633":[33,5,104,6],"3641":[33,5,104,6],"3649":[33,5,104,6],"3657":[33,5,104,6],"3665":[33,5,104,6],"3673":[33,5,104,6],"3681":[105,5,105,9],"3689":[105,5,105,11],"3697":[105,5,105,12],"3705":[31,14,106,2],"3713":[31,14,106,2],"3721":[31,14,106,2],"3729":[31,14,106,2],"3737":[31,14,106,2],"3745":[31,14,106,2],"3753":[31,14,106,2],"3761":[31,14,106,2],"3769":[31,14,106,2],"3777":[31,14,106,2],"3785":[31,14,106,2],"3793":[31,14,106,2],"3801":[31,14,106,2],"3809":[33,5,104,6],"3817":[31,14,106,2],"3825":[31,14,106,2],"3833":[31,1,106,2],"3841":[31,1,106,3],"3849":[107,1,107,4],"3857":[108,18,108,22],"3865":[108,36,108,40],"3873":[108,18,108,41],"3875":[108,18,108,35],"3881":[108,18,108,41],"3889":[108,18,108,41],"3897":[109,12,109,18],"3905":[109,12,109,25],"3913":[109,32,109,38],"3921":[109,40,109,49],"3929":[109,12,109,50],"3931":[109,12,109,31],"3937":[109,12,109,50],"3945":[109,5,109,51],"3953":[107,14,110,2],"3961":[107,14,110,2],"3969":[107,14,110,2],"3977":[107,14,110,2],"3985":[107,1,110,2],"3993":[107,1,110,3],"4001":[1,1,110,3],"4009":[1,1,110,3],"4017":[1,1,110,3],"4025":[1,1,110,3],"4033":[1,1,110,3],"4041":[1,1,110,3],"4049":[1,1,110,3],"4057":[1,1,110,3],"4065":[7,5,10,6],"4073":[14,14,16,10],"4081":[14,14,16,10],"4089":[11,5,17,6],"4097":[18,5,20,6],"4105":[21,5,23,6],"4113":[6,11,30,2],"4121":[6,11,30,2],"4129":[32,77,32,113],"4137":[32,184,32,245],"4145":[35,9,38,10],"4153":[44,13,45,33],"4161":[47,17,48,42],"4169":[50,17,51,49],"4177":[52,27,52,112],"4185":[54,17,55,64],"4193":[56,17,57,49],"4201":[60,17,61,38],"4209":[67,17,68,38],"4217":[46,13,70,14],"4225":[43,9,72,10],"4233":[75,13,76,28],"4241":[77,13,78,34],"4249":[80,13,81,34],"4257":[84,13,87,14],"4265":[91,17,95,18],"4273":[96,20,100,14],"4281":[90,13,100,14],"4289":[33,5,104,6],"4297":[33,5,104,6],"4305":[31,14,106,2],"4313":[31,14,106,2],"4321":[107,14,110,2],"4329":[107,14,110,2],"4337":[1,1,110,3],"4345":[1,1,110,3],"nBranches":70,"originalCodeFileName":"/home/blake/ExpoSE/Targets/less-file/node_modules/connect/lib/proto.js","instrumentedCodeFileName":"/home/blake/ExpoSE/Targets/less-file/node_modules/connect/lib/proto_jalangi_.js","code":"/*!\n * Connect - HTTPServer\n * Copyright(c) 2010 Sencha Inc.\n * Copyright(c) 2011 TJ Holowaychuk\n * MIT Licensed\n */\n\n/**\n * Module dependencies.\n */\n\nvar http = require('http')\n  , utils = require('./utils')\n  , debug = require('debug')('connect:dispatcher');\n\n// prototype\n\nvar app = module.exports = {};\n\n// environment\n\nvar env = process.env.NODE_ENV || 'development';\n\n/**\n * Utilize the given middleware `handle` to the given `route`,\n * defaulting to _/_. This \"route\" is the mount-point for the\n * middleware, when given a value other than _/_ the middleware\n * is only effective when that segment is present in the request's\n * pathname.\n *\n * For example if we were to mount a function at _/admin_, it would\n * be invoked on _/admin_, and _/admin/settings_, however it would\n * not be invoked for _/_, or _/posts_.\n *\n * Examples:\n *\n *      var app = connect();\n *      app.use(connect.favicon());\n *      app.use(connect.logger());\n *      app.use(connect.static(__dirname + '/public'));\n *\n * If we wanted to prefix static files with _/public_, we could\n * \"mount\" the `static()` middleware:\n *\n *      app.use('/public', connect.static(__dirname + '/public'));\n *\n * This api is chainable, so the following is valid:\n *\n *      connect()\n *        .use(connect.favicon())\n *        .use(connect.logger())\n *        .use(connect.static(__dirname + '/public'))\n *        .listen(3000);\n *\n * @param {String|Function|Server} route, callback or server\n * @param {Function|Server} callback or server\n * @return {Server} for chaining\n * @api public\n */\n\napp.use = function(route, fn){\n  // default route to '/'\n  if ('string' != typeof route) {\n    fn = route;\n    route = '/';\n  }\n\n  // wrap sub-apps\n  if ('function' == typeof fn.handle) {\n    var server = fn;\n    fn.route = route;\n    fn = function(req, res, next){\n      server.handle(req, res, next);\n    };\n  }\n\n  // wrap vanilla http.Servers\n  if (fn instanceof http.Server) {\n    fn = fn.listeners('request')[0];\n  }\n\n  // strip trailing slash\n  if ('/' == route[route.length - 1]) {\n    route = route.slice(0, -1);\n  }\n\n  // add the middleware\n  debug('use %s %s', route || '/', fn.name || 'anonymous');\n  this.stack.push({ route: route, handle: fn });\n\n  return this;\n};\n\n/**\n * Handle server requests, punting them down\n * the middleware stack.\n *\n * @api private\n */\n\napp.handle = function(req, res, out) {\n  var stack = this.stack\n    , search = 1 + req.url.indexOf('?')\n    , pathlength = search ? search - 1 : req.url.length\n    , fqdn = 1 + req.url.substr(0, pathlength).indexOf('://')\n    , protohost = fqdn ? req.url.substr(0, req.url.indexOf('/', 2 + fqdn)) : ''\n    , removed = ''\n    , slashAdded = false\n    , index = 0;\n\n  function next(err) {\n    var layer, path, c;\n\n    if (slashAdded) {\n      req.url = req.url.substr(1);\n      slashAdded = false;\n    }\n\n    req.url = protohost + removed + req.url.substr(protohost.length);\n    req.originalUrl = req.originalUrl || req.url;\n    removed = '';\n\n    // next callback\n    layer = stack[index++];\n\n    // all done\n    if (!layer || res.headerSent) {\n      // delegate to parent\n      if (out) return out(err);\n\n      // unhandled error\n      if (err) {\n        // default to 500\n        if (res.statusCode < 400) res.statusCode = 500;\n        debug('default %s', res.statusCode);\n\n        // respect err.status\n        if (err.status) res.statusCode = err.status;\n\n        // production gets a basic error message\n        var msg = 'production' == env\n          ? http.STATUS_CODES[res.statusCode]\n          : err.stack || err.toString();\n        msg = utils.escape(msg);\n\n        // log to stderr in a non-test env\n        if ('test' != env) console.error(err.stack || err.toString());\n        if (res.headerSent) return req.socket.destroy();\n        res.setHeader('Content-Type', 'text/html');\n        res.setHeader('Content-Length', Buffer.byteLength(msg));\n        if ('HEAD' == req.method) return res.end();\n        res.end(msg);\n      } else {\n        debug('default 404');\n        res.statusCode = 404;\n        res.setHeader('Content-Type', 'text/html');\n        if ('HEAD' == req.method) return res.end();\n        res.end('Cannot ' + utils.escape(req.method) + ' ' + utils.escape(req.originalUrl) + '\\n');\n      }\n      return;\n    }\n\n    try {\n      path = utils.parseUrl(req).pathname;\n      if (undefined == path) path = '/';\n\n      // skip this layer if the route doesn't match.\n      if (0 != path.toLowerCase().indexOf(layer.route.toLowerCase())) return next(err);\n\n      c = path[layer.route.length];\n      if (c && '/' != c && '.' != c) return next(err);\n\n      // Call the layer handler\n      // Trim off the part of the url that matches the route\n      removed = layer.route;\n      req.url = protohost + req.url.substr(protohost.length + removed.length);\n\n      // Ensure leading slash\n      if (!fqdn && '/' != req.url[0]) {\n        req.url = '/' + req.url;\n        slashAdded = true;\n      }\n\n      debug('%s %s : %s', layer.handle.name || 'anonymous', layer.route, req.originalUrl);\n      var arity = layer.handle.length;\n      if (err) {\n        if (arity === 4) {\n          layer.handle(err, req, res, next);\n        } else {\n          next(err);\n        }\n      } else if (arity < 4) {\n        layer.handle(req, res, next);\n      } else {\n        next();\n      }\n    } catch (e) {\n      next(e);\n    }\n  }\n  next();\n};\n\n/**\n * Listen for connections.\n *\n * This method takes the same arguments\n * as node's `http.Server#listen()`.\n *\n * HTTP and HTTPS:\n *\n * If you run your application both as HTTP\n * and HTTPS you may wrap them individually,\n * since your Connect \"server\" is really just\n * a JavaScript `Function`.\n *\n *      var connect = require('connect')\n *        , http = require('http')\n *        , https = require('https');\n *\n *      var app = connect();\n *\n *      http.createServer(app).listen(80);\n *      https.createServer(options, app).listen(443);\n *\n * @return {http.Server}\n * @api public\n */\n\napp.listen = function(){\n  var server = http.createServer(this);\n  return server.listen.apply(server, arguments);\n};\n"}