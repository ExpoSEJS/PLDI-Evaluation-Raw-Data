{"8":[6,17,6,27],"9":[1,20,1,27],"10":[12,27,12,42],"16":[7,26,7,44],"17":[1,28,1,32],"18":[13,13,13,35],"24":[14,17,14,35],"25":[1,20,1,33],"26":[14,17,14,35],"32":[13,13,13,35],"33":[1,20,1,33],"34":[20,13,20,26],"40":[25,13,25,51],"41":[1,20,1,33],"48":[32,17,32,23],"49":[2,26,2,38],"50":[20,13,20,26],"56":[34,17,34,22],"57":[2,26,2,45],"58":[21,13,21,26],"64":[31,13,31,31],"65":[2,26,2,45],"72":[39,13,39,22],"73":[2,26,2,45],"74":[21,13,21,26],"80":[42,13,42,39],"81":[3,14,3,21],"82":[27,13,27,43],"88":[42,13,42,39],"89":[3,22,3,30],"90":[30,9,30,18],"96":[45,13,45,16],"97":[3,14,3,31],"104":[59,13,59,18],"105":[3,14,3,38],"106":[30,9,30,18],"112":[68,17,68,23],"113":[3,14,3,38],"114":[31,13,31,31],"120":[79,20,79,37],"121":[3,14,3,38],"122":[42,13,42,17],"128":[77,13,77,31],"129":[4,1,4,7],"130":[62,9,62,17],"136":[84,13,84,18],"137":[5,22,5,28],"145":[5,18,5,30],"146":[62,9,62,17],"153":[5,39,5,43],"154":[65,22,65,39],"161":[5,54,5,55],"162":[66,20,66,27],"169":[5,67,5,68],"170":[71,20,71,27],"177":[5,78,5,83],"178":[77,13,77,31],"185":[5,94,5,99],"186":[79,20,79,37],"193":[5,113,5,118],"201":[5,134,5,135],"209":[5,146,5,151],"217":[5,18,5,30],"225":[5,18,5,30],"233":[5,39,5,43],"241":[5,39,5,43],"249":[5,54,5,55],"257":[5,54,5,55],"265":[5,67,5,68],"273":[5,67,5,68],"281":[5,78,5,83],"289":[5,78,5,83],"297":[5,94,5,99],"305":[5,94,5,99],"313":[5,113,5,118],"321":[5,113,5,118],"329":[5,134,5,135],"337":[5,134,5,135],"345":[5,146,5,151],"353":[5,146,5,151],"361":[6,5,6,9],"369":[6,17,6,21],"377":[6,25,6,27],"385":[6,5,6,27],"393":[6,5,6,28],"401":[7,26,7,30],"409":[7,26,7,35],"417":[7,26,7,44],"425":[7,47,7,56],"433":[7,59,7,66],"441":[7,26,7,66],"449":[7,26,7,66],"457":[8,22,8,24],"465":[8,22,8,24],"473":[8,22,8,24],"481":[9,5,9,11],"489":[9,23,9,27],"497":[9,5,9,27],"505":[9,5,9,28],"513":[10,5,10,11],"521":[10,23,10,27],"529":[10,5,10,27],"537":[10,5,10,28],"545":[12,27,12,38],"553":[12,41,12,42],"561":[12,27,12,42],"569":[12,27,12,42],"577":[13,13,13,19],"585":[13,24,13,35],"593":[14,17,14,21],"601":[14,26,14,35],"609":[15,17,15,23],"617":[15,17,15,28],"625":[15,35,15,41],"633":[16,21,16,27],"641":[17,21,17,25],"649":[15,43,18,18],"657":[15,17,18,19],"659":[15,17,15,34],"665":[15,17,18,20],"681":[20,13,20,24],"689":[20,13,20,26],"705":[20,13,20,27],"721":[21,13,21,24],"729":[21,13,21,26],"745":[21,13,21,27],"753":[23,13,23,23],"761":[23,24,23,30],"769":[23,34,23,38],"777":[23,13,23,38],"785":[23,13,23,39],"793":[25,13,25,23],"801":[25,39,25,50],"809":[25,13,25,51],"811":[25,13,25,38],"817":[26,31,26,41],"825":[26,42,26,53],"833":[26,31,26,54],"841":[26,31,26,54],"849":[26,31,26,54],"857":[27,20,27,30],"865":[27,31,27,42],"873":[27,13,27,44],"881":[28,20,28,29],"889":[28,30,28,41],"897":[28,43,28,54],"905":[28,20,28,55],"913":[28,20,28,55],"921":[28,13,28,56],"937":[30,9,30,16],"945":[30,9,30,18],"961":[30,9,30,19],"969":[31,13,31,19],"977":[31,24,31,31],"985":[32,17,32,23],"993":[33,26,33,31],"1001":[33,26,33,31],"1009":[33,33,33,39],"1017":[33,45,33,52],"1025":[33,33,33,53],"1027":[33,33,33,44],"1033":[33,17,33,31],"1041":[33,17,33,54],"1049":[34,17,34,22],"1057":[35,17,35,20],"1065":[35,17,35,22],"1073":[35,17,35,23],"1081":[11,5,37,6],"1089":[11,5,37,6],"1097":[11,5,37,6],"1105":[11,5,37,6],"1113":[11,5,37,6],"1121":[11,5,37,6],"1129":[39,13,39,22],"1137":[40,13,40,20],"1145":[40,13,40,20],"1153":[41,18,41,22],"1161":[41,18,41,22],"1169":[41,9,41,23],"1177":[42,14,42,17],"1185":[42,21,42,25],"1193":[42,21,42,30],"1201":[42,21,42,39],"1209":[43,13,43,22],"1217":[43,23,43,27],"1225":[43,29,43,35],"1233":[43,13,43,36],"1241":[43,13,43,37],"1249":[45,13,45,16],"1257":[46,13,46,19],"1265":[46,13,46,24],"1273":[46,31,46,37],"1281":[47,17,47,31],"1289":[48,17,48,20],"1297":[46,39,49,14],"1305":[46,13,49,15],"1307":[46,13,46,30],"1313":[46,13,49,16],"1321":[51,18,51,23],"1329":[51,18,51,23],"1337":[51,9,51,24],"1345":[38,5,52,6],"1353":[38,5,52,6],"1361":[38,5,52,6],"1369":[38,5,52,6],"1377":[38,5,52,6],"1385":[54,16,54,22],"1393":[54,28,54,32],"1401":[54,34,54,39],"1409":[55,13,55,21],"1417":[55,22,55,25],"1425":[55,27,55,31],"1433":[55,33,55,39],"1441":[55,13,55,40],"1449":[55,13,55,41],"1457":[54,41,56,10],"1465":[54,41,56,10],"1473":[54,41,56,10],"1481":[54,41,56,10],"1489":[54,41,56,10],"1497":[54,16,56,11],"1499":[54,16,54,27],"1505":[54,16,56,11],"1513":[54,9,56,12],"1521":[53,5,57,6],"1529":[53,5,57,6],"1537":[53,5,57,6],"1545":[53,5,57,6],"1553":[53,5,57,6],"1561":[58,5,58,11],"1569":[59,13,59,18],"1577":[60,23,60,28],"1585":[60,29,60,57],"1593":[60,19,60,58],"1601":[60,19,60,58],"1609":[60,13,60,59],"1617":[61,18,61,23],"1625":[61,18,61,23],"1633":[61,9,61,24],"1649":[62,9,62,15],"1657":[62,9,62,17],"1673":[62,9,62,18],"1681":[64,27,64,40],"1689":[64,41,64,45],"1697":[64,47,64,53],"1705":[64,55,64,59],"1713":[64,27,64,60],"1721":[64,27,64,60],"1729":[64,27,64,60],"1737":[65,22,65,29],"1745":[65,34,65,39],"1753":[65,22,65,39],"1761":[65,13,65,40],"1769":[66,21,66,27],"1777":[66,20,66,27],"1785":[66,13,66,28],"1793":[68,17,68,23],"1801":[69,23,69,26],"1809":[69,23,69,26],"1817":[69,17,69,27],"1825":[70,13,70,17],"1833":[70,18,70,21],"1841":[70,13,70,22],"1849":[70,13,70,23],"1857":[71,21,71,27],"1865":[71,20,71,27],"1873":[71,13,71,28],"1881":[67,11,72,10],"1889":[58,20,73,6],"1897":[58,20,73,6],"1905":[58,20,73,6],"1913":[58,20,73,6],"1921":[58,20,73,6],"1929":[58,5,73,6],"1937":[58,5,73,7],"1945":[75,17,75,21],"1953":[75,17,75,21],"1961":[75,9,75,22],"1969":[76,9,76,15],"1977":[76,27,76,32],"1985":[76,9,76,32],"1993":[76,9,76,33],"2001":[77,13,77,17],"2009":[77,22,77,31],"2017":[78,20,78,29],"2025":[78,30,78,34],"2033":[78,36,78,42],"2041":[78,20,78,43],"2049":[78,20,78,43],"2057":[78,13,78,44],"2065":[79,20,79,26],"2073":[79,30,79,37],"2081":[80,13,80,19],"2089":[80,31,80,36],"2097":[80,13,80,36],"2105":[80,38,80,44],"2113":[80,50,80,55],"2121":[80,38,80,56],"2123":[80,38,80,49],"2129":[80,58,80,64],"2137":[80,58,80,74],"2139":[80,58,80,72],"2145":[80,13,80,36],"2153":[80,38,80,56],"2161":[80,13,80,75],"2169":[74,5,82,6],"2177":[74,5,82,6],"2185":[74,5,82,6],"2193":[83,5,83,11],"2201":[84,13,84,18],"2209":[85,13,85,20],"2217":[85,13,85,20],"2225":[86,9,86,12],"2233":[86,9,86,14],"2241":[86,9,86,15],"2249":[83,18,87,6],"2257":[83,18,87,6],"2265":[83,18,87,6],"2273":[83,18,87,6],"2281":[83,5,87,6],"2289":[83,5,87,7],"2297":[88,5,88,11],"2305":[89,29,89,33],"2313":[89,29,89,33],"2321":[89,17,89,33],"2329":[89,9,89,34],"2337":[90,9,90,15],"2345":[90,27,90,33],"2353":[90,54,90,59],"2361":[90,54,90,59],"2369":[90,27,90,59],"2377":[90,9,90,59],"2385":[90,9,90,60],"2393":[91,9,91,16],"2401":[92,13,92,19],"2409":[92,25,92,32],"2417":[92,13,92,33],"2419":[92,13,92,24],"2425":[92,13,92,34],"2433":[91,26,93,10],"2441":[91,26,93,10],"2449":[91,26,93,10],"2457":[91,9,93,11],"2459":[91,9,91,25],"2465":[91,9,93,12],"2473":[88,22,94,6],"2481":[88,22,94,6],"2489":[88,22,94,6],"2497":[88,5,94,6],"2505":[88,5,94,7],"2513":[95,5,95,11],"2521":[96,18,96,22],"2529":[96,18,96,22],"2537":[96,9,96,23],"2545":[95,20,97,6],"2553":[95,20,97,6],"2561":[95,20,97,6],"2569":[95,5,97,6],"2577":[95,5,97,7],"2585":[98,5,98,11],"2593":[99,18,99,23],"2601":[99,18,99,23],"2609":[99,9,99,24],"2617":[98,21,100,6],"2625":[98,21,100,6],"2633":[98,21,100,6],"2641":[98,5,100,6],"2649":[98,5,100,7],"2657":[101,12,101,18],"2665":[101,12,101,18],"2673":[101,5,101,19],"2681":[4,18,102,2],"2689":[4,18,102,2],"2697":[4,18,102,2],"2705":[4,18,102,2],"2713":[4,18,102,2],"2721":[4,18,102,2],"2729":[4,18,102,2],"2737":[4,18,102,2],"2745":[4,18,102,2],"2753":[4,18,102,2],"2761":[4,18,102,2],"2769":[4,18,102,2],"2777":[4,18,102,2],"2785":[4,18,102,2],"2793":[4,18,102,2],"2801":[11,5,37,6],"2809":[4,18,102,2],"2817":[38,5,52,6],"2825":[4,18,102,2],"2833":[53,5,57,6],"2841":[4,18,102,2],"2849":[74,5,82,6],"2857":[4,18,102,2],"2865":[4,18,102,2],"2873":[4,1,102,2],"2881":[4,1,102,3],"2889":[1,1,102,3],"2897":[1,1,102,3],"2905":[1,1,102,3],"2913":[1,1,102,3],"2921":[7,26,7,66],"2929":[14,13,19,14],"2937":[13,9,24,10],"2945":[25,9,29,10],"2953":[32,13,33,54],"2961":[34,13,35,23],"2969":[31,9,36,10],"2977":[11,5,37,6],"2985":[11,5,37,6],"2993":[39,9,40,20],"3001":[42,9,44,10],"3009":[45,9,50,10],"3017":[38,5,52,6],"3025":[38,5,52,6],"3033":[54,41,56,10],"3041":[54,41,56,10],"3049":[53,5,57,6],"3057":[53,5,57,6],"3065":[59,9,60,59],"3073":[68,13,69,27],"3081":[58,20,73,6],"3089":[58,20,73,6],"3097":[79,16,81,10],"3105":[77,9,81,10],"3113":[74,5,82,6],"3121":[74,5,82,6],"3129":[84,9,85,20],"3137":[83,18,87,6],"3145":[83,18,87,6],"3153":[91,26,93,10],"3161":[91,26,93,10],"3169":[88,22,94,6],"3177":[88,22,94,6],"3185":[95,20,97,6],"3193":[95,20,97,6],"3201":[98,21,100,6],"3209":[98,21,100,6],"3217":[4,18,102,2],"3225":[4,18,102,2],"3233":[1,1,102,3],"3241":[1,1,102,3],"nBranches":34,"originalCodeFileName":"/home/blake/ExpoSE/Targets/json-tools/node_modules/map-stream/index.js","instrumentedCodeFileName":"/home/blake/ExpoSE/Targets/json-tools/node_modules/map-stream/index_jalangi_.js","code":"//filter will reemit the data if cb(err,pass) pass is truthy\n\n// reduce is more tricky\n// maybe we want to group the reductions or emit progress updates occasionally\n// the most basic reduce just emits one 'data' event after it has recieved 'end'\n\n\nvar Stream = require('stream').Stream\n\n\n//create an event stream and apply function to each .write\n//emitting each response as data\n//unless it's an empty callback\n\nmodule.exports = function (mapper, opts) {\n\n  var stream = new Stream()\n    , self = this\n    , inputs = 0\n    , outputs = 0\n    , ended = false\n    , paused = false\n    , destroyed = false\n    , lastWritten = 0\n    , inNext = false\n\n  this.opts = opts || {};\n  var errorEventName = this.opts.failures ? 'failure' : 'error';\n\n  // Items that are not ready to be written yet (because they would come out of\n  // order) get stuck in a queue for later.\n  var writeQueue = {}\n\n  stream.writable = true\n  stream.readable = true\n\n  function queueData (data, number) {\n    var nextToWrite = lastWritten + 1\n\n    if (number === nextToWrite) {\n      // If it's next, and its not undefined write it\n      if (data !== undefined) {\n        stream.emit.apply(stream, ['data', data])\n      }\n      lastWritten ++\n      nextToWrite ++\n    } else {\n      // Otherwise queue it for later.\n      writeQueue[number] = data\n    }\n\n    // If the next value is in the queue, write it\n    if (writeQueue.hasOwnProperty(nextToWrite)) {\n      var dataToWrite = writeQueue[nextToWrite]\n      delete writeQueue[nextToWrite]\n      return queueData(dataToWrite, nextToWrite)\n    }\n\n    outputs ++\n    if(inputs === outputs) {\n      if(paused) paused = false, stream.emit('drain') //written all the incoming events\n      if(ended) end()\n    }\n  }\n\n  function next (err, data, number) {\n    if(destroyed) return\n    inNext = true\n\n    if (!err || self.opts.failures) {\n      queueData(data, number)\n    }\n\n    if (err) {\n      stream.emit.apply(stream, [ errorEventName, err ]);\n    }\n\n    inNext = false;\n  }\n\n  // Wrap the mapper function by calling its callback with the order number of\n  // the item in the stream.\n  function wrappedMapper (input, number, callback) {\n    return mapper.call(null, input, function(err, data){\n      callback(err, data, number)\n    })\n  }\n\n  stream.write = function (data) {\n    if(ended) throw new Error('map stream is not writable')\n    inNext = false\n    inputs ++\n\n    try {\n      //catch sync errors and handle them like async errors\n      var written = wrappedMapper(data, inputs, next)\n      paused = (written === false)\n      return !paused\n    } catch (err) {\n      //if the callback has been called syncronously, and the error\n      //has occured in an listener, throw it again.\n      if(inNext)\n        throw err\n      next(err)\n      return !paused\n    }\n  }\n\n  function end (data) {\n    //if end was called with args, write it, \n    ended = true //write will emit 'end' if ended is true\n    stream.writable = false\n    if(data !== undefined) {\n      return queueData(data, inputs)\n    } else if (inputs == outputs) { //wait for processing \n      stream.readable = false, stream.emit('end'), stream.destroy() \n    }\n  }\n\n  stream.end = function (data) {\n    if(ended) return\n    end()\n  }\n\n  stream.destroy = function () {\n    ended = destroyed = true\n    stream.writable = stream.readable = paused = false\n    process.nextTick(function () {\n      stream.emit('close')\n    })\n  }\n  stream.pause = function () {\n    paused = true\n  }\n\n  stream.resume = function () {\n    paused = false\n  }\n\n  return stream\n}\n\n\n\n\n"}