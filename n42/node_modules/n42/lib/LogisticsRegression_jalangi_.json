{"8":[15,14,15,32],"9":[1,20,1,27],"10":[15,14,15,32],"17":[1,28,1,32],"25":[1,20,1,33],"33":[1,20,1,33],"41":[1,20,1,33],"49":[2,26,2,38],"57":[2,26,2,45],"65":[2,26,2,45],"73":[2,26,2,45],"81":[3,14,3,21],"89":[3,22,3,33],"97":[3,14,3,34],"105":[3,14,3,41],"113":[3,14,3,41],"121":[3,14,3,41],"129":[4,14,4,21],"137":[4,22,4,33],"145":[4,14,4,34],"153":[4,14,4,41],"161":[4,14,4,41],"169":[4,14,4,41],"177":[5,13,5,20],"185":[5,21,5,33],"193":[5,13,5,34],"201":[5,13,5,34],"209":[5,13,5,34],"217":[7,16,7,20],"225":[7,16,7,20],"233":[7,16,7,20],"241":[8,5,8,9],"249":[8,18,8,23],"257":[8,5,8,23],"265":[8,5,8,24],"273":[9,5,9,9],"281":[9,14,9,19],"289":[9,5,9,19],"297":[9,5,9,20],"305":[10,5,10,9],"313":[10,14,10,20],"321":[10,26,10,29],"329":[10,31,10,35],"337":[10,14,10,36],"339":[10,14,10,25],"345":[10,5,10,36],"353":[10,5,10,37],"361":[11,5,11,9],"369":[11,14,11,20],"377":[11,26,11,30],"385":[11,14,11,31],"387":[11,14,11,25],"393":[11,5,11,31],"401":[11,5,11,32],"409":[6,1,12,2],"417":[6,1,12,2],"425":[6,1,12,2],"433":[6,1,12,2],"441":[6,1,12,2],"449":[6,1,12,2],"457":[6,1,12,2],"465":[13,1,13,20],"473":[13,1,13,30],"481":[14,16,14,20],"489":[14,16,14,20],"497":[14,16,14,20],"505":[15,5,15,9],"513":[15,14,15,19],"521":[15,23,15,32],"529":[15,35,15,40],"537":[15,43,15,47],"545":[15,43,15,53],"553":[15,5,15,53],"561":[15,5,15,54],"569":[16,21,16,25],"577":[16,21,16,27],"585":[16,30,16,34],"593":[16,30,16,36],"601":[16,21,16,37],"603":[16,21,16,29],"609":[16,21,16,37],"617":[16,21,16,37],"625":[17,23,17,28],"633":[17,37,17,42],"641":[17,52,17,61],"649":[17,63,17,67],"657":[17,63,17,69],"665":[17,37,17,70],"667":[17,37,17,51],"673":[17,23,17,71],"675":[17,23,17,36],"681":[17,23,17,71],"689":[17,23,17,71],"697":[18,14,18,18],"705":[18,14,18,20],"713":[18,30,18,41],"721":[18,14,18,42],"723":[18,14,18,29],"729":[18,14,18,42],"737":[18,14,18,42],"745":[19,5,19,9],"753":[19,14,19,18],"761":[19,14,19,20],"769":[19,25,19,29],"777":[19,25,19,31],"785":[19,25,19,43],"787":[19,25,19,41],"793":[19,46,19,48],"801":[19,25,19,49],"803":[19,25,19,45],"809":[19,52,19,54],"817":[19,25,19,55],"819":[19,25,19,51],"825":[19,65,19,69],"833":[19,65,19,71],"841":[19,74,19,79],"849":[19,65,19,80],"851":[19,65,19,73],"857":[19,83,19,85],"865":[19,65,19,86],"867":[19,65,19,82],"873":[19,25,19,87],"875":[19,25,19,64],"881":[19,14,19,88],"883":[19,14,19,24],"889":[19,5,19,88],"897":[19,5,19,89],"905":[20,5,20,9],"913":[20,14,20,18],"921":[20,14,20,20],"929":[20,25,20,30],"937":[20,36,20,38],"945":[20,40,20,41],"953":[20,25,20,42],"955":[20,25,20,35],"961":[20,14,20,43],"963":[20,14,20,24],"969":[20,5,20,43],"977":[20,5,20,44],"985":[21,12,21,16],"993":[21,12,21,16],"1001":[21,5,21,17],"1009":[13,39,22,2],"1017":[13,39,22,2],"1025":[13,39,22,2],"1033":[13,39,22,2],"1041":[13,39,22,2],"1049":[13,39,22,2],"1057":[13,39,22,2],"1065":[13,39,22,2],"1073":[13,39,22,2],"1081":[13,39,22,2],"1089":[13,1,22,2],"1097":[13,1,22,3],"1105":[23,1,23,20],"1113":[23,1,23,30],"1121":[24,16,24,20],"1129":[24,16,24,20],"1137":[24,16,24,20],"1145":[25,12,25,17],"1153":[25,26,25,31],"1161":[25,41,25,42],"1169":[25,45,25,49],"1177":[25,45,25,51],"1185":[25,41,25,52],"1187":[25,41,25,44],"1193":[25,54,25,58],"1201":[25,54,25,60],"1209":[25,26,25,61],"1211":[25,26,25,40],"1217":[25,12,25,62],"1219":[25,12,25,25],"1225":[25,12,25,62],"1233":[25,5,25,63],"1241":[23,41,26,2],"1249":[23,41,26,2],"1257":[23,41,26,2],"1265":[23,41,26,2],"1273":[23,41,26,2],"1281":[23,1,26,2],"1289":[23,1,26,3],"1297":[27,1,27,7],"1305":[27,18,27,37],"1313":[27,1,27,37],"1321":[27,1,27,38],"1329":[1,1,27,38],"1337":[1,1,27,38],"1345":[1,1,27,38],"1353":[1,1,27,38],"1361":[1,1,27,38],"1369":[1,1,27,38],"1377":[6,1,12,2],"1385":[1,1,27,38],"1393":[6,1,12,2],"1401":[6,1,12,2],"1409":[15,14,15,53],"1417":[13,39,22,2],"1425":[13,39,22,2],"1433":[23,41,26,2],"1441":[23,41,26,2],"1449":[1,1,27,38],"1457":[1,1,27,38],"nBranches":2,"originalCodeFileName":"/home/blake/ExpoSE/Targets/n42/node_modules/n42/lib/LogisticsRegression.js","instrumentedCodeFileName":"/home/blake/ExpoSE/Targets/n42/node_modules/n42/lib/LogisticsRegression_jalangi_.js","code":"/**\n *  Logistics Regression module. \n *\n *  @module n42\n *  @constructor\n *  @author Kai Sasaki\n *  @since  2014/01/26  \n *\n */\n\nvar Matrix = require('sylvester').Matrix;\nvar Vector = require('sylvester').Vector;\nvar utils  = require('./utils.js');\n\n/**\n *   LogisticsRegression module. \n *   This module is used output layer.After trainging all hidden layers, \n *   this module is tuned for fitting to training data\n *   \n *   @class LogisticsRegression\n *   @constructor\n *\n */\nfunction LogisticsRegression(input, label, nIn, nOut) {\n    var self = this;\n\n    /**\n     *  input data. This type is defined in sylvester library\n     *\n     *  @property input\n     *  @type     Matrix\n     */\n    self.input = input;\n\n    /**\n     *  label data. This type is defined in sylvester library\n     *  \n     *  @property y\n     *  @type     Matrix\n     */\n    self.y = label;\n\n    /**\n     *   weight parameter which is obtained after training\n     *\n     *   @property W\n     *   @type     Matrix\n     */\n    self.W = Matrix.Zero(nIn, nOut);\n\n    /**\n     *   bias parameter which is obtained after training\n     *\n     *   @property b\n     *   @type     Vector\n     */\n    self.b = Vector.Zero(nOut);\n}\n\n/**\n *   Training logistics regression algorithm\n *   @method train\n *   @param  lr {float} learning rate\n *   @param  l2Reg {float} regularization parameter\n *   @param  input {Matrix} input data (option)\n */\nLogisticsRegression.prototype.train = function(lr, l2Reg, input) {\n    var self = this;\n    self.x = (input != undefined)? input : self.input\n    var rowValues = self.x.x(self.W);\n    var probYGivenX = utils.softmax(utils.plusBias(rowValues, self.b));\n    var dY = self.y.subtract(probYGivenX);\n\n    self.W = self.W.add(self.x.transpose().x(dY).x(lr).subtract(self.W.x(l2Reg).x(lr)));\n    self.b = self.b.add(utils.mean(dY, 0));\n\n    return true;\n}\n\n/**\n *   Predict label with training data\n *\n *   @method predict\n *   @param  x {Matrix} input data\n */\nLogisticsRegression.prototype.predict = function(x) {\n    var self = this;\n    return utils.softmax(utils.plusBias(x.x(self.W), self.b));\n}\n\nmodule.exports = LogisticsRegression;"}