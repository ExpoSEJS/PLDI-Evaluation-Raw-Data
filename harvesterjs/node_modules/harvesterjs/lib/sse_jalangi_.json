{"8":[17,18,17,42],"9":[1,20,1,27],"10":[24,23,24,39],"16":[18,31,18,87],"17":[1,28,1,32],"18":[26,34,26,68],"24":[23,26,23,46],"25":[1,20,1,33],"26":[26,34,26,88],"32":[22,9,22,34],"33":[1,20,1,33],"34":[33,9,33,37],"40":[29,23,29,42],"41":[1,20,1,33],"42":[40,9,40,49],"48":[30,9,30,32],"49":[2,26,2,38],"50":[44,21,44,111],"56":[33,9,33,37],"57":[2,26,2,45],"58":[52,20,52,30],"64":[40,9,40,49],"65":[2,26,2,45],"66":[54,13,54,23],"72":[54,13,54,23],"73":[2,26,2,45],"74":[80,28,80,65],"80":[47,9,47,37],"81":[3,9,3,16],"82":[80,28,80,71],"88":[65,33,65,73],"89":[3,17,3,25],"90":[114,30,114,58],"96":[73,23,73,42],"97":[3,9,3,26],"98":[114,30,114,82],"104":[74,9,74,32],"105":[3,9,3,26],"106":[121,25,121,48],"112":[104,38,104,58],"113":[3,9,3,26],"114":[121,52,121,72],"120":[108,25,108,52],"121":[4,15,4,22],"122":[132,29,132,66],"128":[121,25,121,72],"129":[4,23,4,32],"130":[136,25,136,62],"136":[121,25,121,72],"137":[4,15,4,33],"138":[148,12,148,64],"144":[113,21,113,30],"145":[4,15,4,33],"146":[166,24,166,45],"152":[143,9,143,18],"153":[4,15,4,33],"154":[166,24,166,51],"160":[151,34,151,97],"161":[5,16,5,23],"162":[177,31,177,33],"168":[169,13,169,41],"169":[5,24,5,34],"170":[180,24,180,30],"176":[180,17,180,30],"177":[5,16,5,35],"178":[189,13,194,20],"184":[180,17,180,30],"185":[5,16,5,35],"186":[200,17,200,22],"192":[189,13,194,20],"193":[5,16,5,35],"194":[200,16,200,22],"200":[204,25,204,71],"201":[6,15,6,22],"202":[204,35,204,50],"208":[204,25,204,71],"209":[6,23,6,26],"210":[204,25,204,50],"216":[206,28,206,43],"217":[6,15,6,27],"218":[204,54,204,71],"224":[205,17,205,28],"225":[6,15,6,29],"226":[205,17,205,28],"232":[218,13,218,21],"233":[6,15,6,29],"234":[206,28,206,43],"240":[219,10,219,13],"241":[6,15,6,29],"242":[208,26,208,35],"248":[222,10,222,13],"249":[7,15,7,22],"250":[231,12,231,46],"257":[7,23,7,33],"258":[231,12,231,57],"265":[7,15,7,34],"273":[7,15,7,34],"281":[7,15,7,34],"289":[8,15,8,22],"297":[8,23,8,33],"305":[8,15,8,34],"313":[8,15,8,34],"321":[8,15,8,34],"329":[9,10,9,17],"337":[9,18,9,28],"345":[9,10,9,29],"353":[9,10,9,29],"361":[9,10,9,29],"369":[10,21,10,28],"377":[10,29,10,46],"385":[10,21,10,47],"393":[10,21,10,47],"401":[10,21,10,47],"409":[11,11,12,2],"417":[11,11,12,2],"425":[11,11,12,2],"433":[11,11,12,2],"441":[11,11,12,2],"449":[13,1,13,4],"457":[13,1,13,14],"465":[14,5,14,9],"473":[14,19,14,25],"481":[14,5,14,25],"489":[14,5,14,26],"497":[15,5,15,9],"505":[15,20,15,26],"513":[15,20,15,34],"521":[15,20,15,42],"529":[15,5,15,42],"537":[15,5,15,43],"545":[16,5,16,9],"553":[16,25,16,31],"561":[16,25,16,39],"569":[16,5,16,39],"577":[16,5,16,40],"585":[17,5,17,9],"593":[17,18,17,24],"601":[17,18,17,30],"609":[17,35,17,41],"617":[17,34,17,42],"625":[17,5,17,42],"633":[17,5,17,43],"641":[18,5,18,9],"649":[18,31,18,37],"657":[18,31,18,56],"665":[18,61,18,67],"673":[18,61,18,86],"681":[18,60,18,87],"689":[18,5,18,87],"697":[18,5,18,88],"705":[19,16,19,20],"713":[19,16,19,20],"721":[19,16,19,20],"729":[20,5,20,9],"737":[20,15,20,19],"745":[20,15,20,32],"753":[20,15,20,40],"761":[20,15,20,48],"769":[20,5,20,48],"777":[20,5,20,49],"785":[21,23,21,25],"793":[21,23,21,25],"801":[21,23,21,25],"809":[22,9,22,15],"817":[22,9,22,34],"825":[23,26,23,30],"833":[23,26,23,38],"841":[23,26,23,46],"849":[23,49,23,56],"857":[23,67,23,73],"865":[23,67,23,92],"873":[23,49,23,93],"875":[23,49,23,66],"881":[23,96,23,102],"889":[23,96,23,121],"897":[23,26,23,121],"905":[23,26,23,121],"913":[24,23,24,26],"921":[24,29,24,39],"929":[24,23,24,39],"937":[24,9,24,40],"945":[26,5,26,9],"953":[26,5,26,22],"961":[26,5,26,29],"969":[26,34,26,38],"977":[26,34,26,46],"985":[26,34,26,54],"993":[26,57,26,68],"1001":[26,71,26,88],"1009":[26,90,26,94],"1017":[26,90,26,122],"1025":[26,128,26,132],"1033":[26,90,26,133],"1035":[26,90,26,127],"1041":[26,135,26,142],"1049":[26,135,26,149],"1051":[26,135,26,147],"1057":[26,151,26,158],"1065":[26,177,26,178],"1073":[26,166,26,180],"1081":[26,151,26,181],"1083":[26,151,26,165],"1089":[26,183,26,187],"1097":[26,183,26,195],"1105":[26,201,26,205],"1113":[26,183,26,206],"1115":[26,183,26,200],"1121":[26,5,26,207],"1123":[26,5,26,33],"1129":[26,5,26,208],"1137":[13,22,27,2],"1145":[13,22,27,2],"1153":[13,22,27,2],"1161":[13,22,27,2],"1169":[13,22,27,2],"1177":[13,22,27,2],"1185":[13,22,27,2],"1193":[13,1,27,2],"1201":[13,1,27,3],"1209":[28,1,28,4],"1217":[28,1,28,14],"1225":[29,5,29,9],"1233":[29,23,29,26],"1241":[29,23,29,32],"1249":[29,23,29,42],"1257":[29,45,29,48],"1265":[29,45,29,54],"1273":[29,45,29,64],"1281":[29,71,29,74],"1289":[29,45,29,75],"1291":[29,45,29,70],"1297":[29,78,29,80],"1305":[29,5,29,80],"1313":[29,5,29,81],"1321":[30,9,30,13],"1329":[30,9,30,32],"1337":[31,9,31,13],"1345":[31,27,31,31],"1353":[31,27,31,50],"1361":[31,9,31,50],"1369":[31,9,31,51],"1377":[33,9,33,13],"1385":[33,9,33,24],"1393":[33,9,33,31],"1401":[33,36,33,37],"1409":[34,19,34,32],"1417":[35,21,35,24],"1425":[36,20,36,59],"1433":[37,21,37,114],"1441":[34,33,38,10],"1449":[34,15,38,11],"1457":[34,15,38,11],"1465":[34,9,38,12],"1473":[40,10,40,14],"1481":[40,33,40,37],"1489":[40,33,40,48],"1497":[40,10,40,49],"1499":[40,10,40,32],"1505":[41,19,41,32],"1513":[42,21,42,24],"1521":[43,20,43,59],"1529":[44,21,44,57],"1537":[44,60,44,64],"1545":[44,85,44,89],"1553":[44,85,44,100],"1561":[44,60,44,101],"1563":[44,60,44,84],"1569":[44,107,44,110],"1577":[44,60,44,111],"1579":[44,60,44,106],"1585":[41,33,45,10],"1593":[41,15,45,11],"1601":[41,15,45,11],"1609":[41,9,45,12],"1617":[47,9,47,12],"1625":[47,9,47,20],"1633":[47,21,47,36],"1641":[47,9,47,37],"1649":[48,23,48,24],"1657":[48,29,48,32],"1665":[48,29,48,40],"1673":[48,41,48,56],"1681":[48,29,48,57],"1689":[48,64,48,67],"1697":[48,29,48,68],"1699":[48,29,48,63],"1705":[49,20,49,28],"1713":[49,29,49,33],"1721":[49,35,49,37],"1729":[49,20,49,38],"1737":[49,20,49,38],"1745":[49,13,49,39],"1753":[48,70,50,10],"1761":[48,70,50,10],"1769":[48,70,50,10],"1777":[48,70,50,10],"1785":[48,23,50,11],"1787":[48,23,48,28],"1793":[48,23,50,11],"1801":[48,23,50,11],"1809":[51,25,51,26],"1817":[51,31,51,38],"1825":[52,21,52,26],"1833":[52,27,52,29],"1841":[52,21,52,30],"1849":[52,20,52,30],"1857":[52,13,52,31],"1865":[51,40,53,10],"1873":[51,40,53,10],"1881":[51,40,53,10],"1889":[51,40,53,10],"1897":[51,25,53,11],"1899":[51,25,51,30],"1905":[51,25,53,11],"1913":[51,25,53,11],"1921":[54,14,54,23],"1929":[55,23,55,36],"1937":[56,25,56,28],"1945":[57,24,57,43],"1953":[58,25,58,66],"1961":[55,37,59,14],"1969":[55,19,59,15],"1977":[55,19,59,15],"1985":[55,13,59,16],"1993":[62,5,62,9],"2001":[62,5,62,11],"2009":[62,5,62,12],"2017":[28,45,63,2],"2025":[28,45,63,2],"2033":[28,45,63,2],"2041":[28,45,63,2],"2049":[28,45,63,2],"2057":[28,45,63,2],"2065":[28,45,63,2],"2073":[28,45,63,2],"2081":[28,1,63,2],"2089":[28,1,63,3],"2097":[64,1,64,4],"2105":[64,1,64,14],"2113":[65,33,65,37],"2121":[65,33,65,45],"2129":[65,33,65,67],"2137":[65,71,65,73],"2145":[65,33,65,73],"2153":[65,33,65,73],"2161":[66,16,66,20],"2169":[66,16,66,20],"2177":[66,16,66,20],"2185":[68,19,68,23],"2193":[69,20,69,24],"2201":[70,22,70,26],"2209":[71,26,71,32],"2217":[71,26,71,42],"2225":[67,19,72,6],"2233":[67,19,72,6],"2241":[67,19,72,6],"2249":[73,5,73,9],"2257":[73,23,73,26],"2265":[73,23,73,32],"2273":[73,23,73,42],"2281":[73,45,73,48],"2289":[73,45,73,54],"2297":[73,45,73,64],"2305":[73,71,73,74],"2313":[73,45,73,75],"2315":[73,45,73,70],"2321":[73,78,73,80],"2329":[73,5,73,80],"2337":[73,5,73,81],"2345":[74,9,74,13],"2353":[74,9,74,32],"2361":[75,9,75,13],"2369":[75,27,75,31],"2377":[75,27,75,50],"2385":[75,9,75,50],"2393":[75,9,75,51],"2401":[77,28,77,32],"2409":[77,28,77,43],"2417":[78,16,78,23],"2425":[78,34,78,43],"2433":[78,16,78,44],"2435":[78,16,78,33],"2441":[78,16,78,44],"2449":[78,9,78,45],"2457":[77,48,79,6],"2465":[77,48,79,6],"2473":[77,48,79,6],"2481":[77,48,79,6],"2489":[77,28,79,7],"2491":[77,28,77,47],"2497":[77,28,79,7],"2505":[77,28,79,7],"2513":[80,21,80,27],"2521":[80,28,80,36],"2529":[80,39,80,55],"2537":[80,61,80,64],"2545":[80,39,80,65],"2547":[80,39,80,60],"2553":[80,68,80,71],"2561":[80,73,80,76],"2569":[80,17,80,77],"2577":[80,17,80,77],"2585":[80,17,80,77],"2593":[81,21,81,23],"2601":[81,21,81,25],"2609":[81,21,81,25],"2617":[81,21,81,25],"2625":[84,23,84,24],"2633":[85,24,85,25],"2641":[83,17,86,10],"2649":[82,20,87,6],"2657":[82,20,87,6],"2665":[82,20,87,6],"2673":[88,14,88,22],"2681":[88,40,88,61],"2689":[88,63,88,71],"2697":[88,14,88,72],"2699":[88,14,88,39],"2705":[88,14,88,72],"2713":[88,14,88,72],"2721":[89,5,89,7],"2729":[89,11,89,18],"2737":[90,9,90,13],"2745":[90,26,90,29],"2753":[90,31,90,34],"2761":[90,36,90,45],"2769":[90,9,90,46],"2771":[90,9,90,25],"2777":[90,9,90,47],"2785":[89,20,91,6],"2793":[89,20,91,6],"2801":[89,20,91,6],"2809":[89,20,91,6],"2817":[89,5,91,7],"2819":[89,5,89,10],"2825":[89,5,91,8],"2833":[92,5,92,8],"2841":[92,12,92,19],"2849":[93,9,93,11],"2857":[93,9,93,19],"2859":[93,9,93,17],"2865":[93,9,93,20],"2873":[92,21,94,6],"2881":[92,21,94,6],"2889":[92,21,94,6],"2897":[92,5,94,7],"2899":[92,5,92,11],"2905":[92,5,94,8],"2913":[95,5,95,7],"2921":[95,13,95,19],"2929":[96,9,96,13],"2937":[96,23,96,26],"2945":[96,28,96,33],"2953":[96,9,96,34],"2955":[96,9,96,22],"2961":[97,30,97,32],"2969":[97,44,97,54],"2977":[97,30,97,55],"2979":[97,30,97,43],"2985":[97,30,97,55],"2993":[97,30,97,55],"3001":[98,26,98,36],"3009":[98,42,98,47],"3017":[98,49,98,56],"3025":[98,26,98,57],"3027":[98,26,98,41],"3033":[98,26,98,66],"3035":[98,26,98,64],"3041":[98,26,98,66],"3049":[98,26,98,66],"3057":[99,29,99,31],"3065":[99,32,99,38],"3073":[99,29,99,39],"3081":[99,29,99,39],"3089":[99,29,99,39],"3097":[100,13,100,22],"3105":[100,13,100,31],"3107":[100,13,100,29],"3113":[100,13,100,32],"3121":[101,27,101,29],"3129":[101,27,101,31],"3137":[102,33,102,35],"3145":[102,33,102,35],"3153":[102,33,102,35],"3161":[103,37,103,38],"3169":[103,43,103,47],"3177":[103,43,103,58],"3185":[104,38,104,42],"3193":[104,38,104,50],"3201":[104,38,104,58],"3209":[104,61,104,68],"3217":[104,79,104,88],"3225":[104,61,104,89],"3227":[104,61,104,78],"3233":[104,92,104,101],"3241":[104,38,104,101],"3249":[104,38,104,101],"3257":[105,32,105,38],"3265":[105,39,105,49],"3273":[105,51,105,54],"3281":[105,28,105,55],"3289":[105,28,105,55],"3297":[105,21,105,56],"3305":[103,60,106,18],"3313":[103,60,106,18],"3321":[103,60,106,18],"3329":[103,60,106,18],"3337":[103,60,106,18],"3345":[103,37,106,19],"3347":[103,37,103,42],"3353":[103,37,106,19],"3361":[103,37,106,19],"3369":[107,17,107,18],"3377":[107,27,107,40],"3385":[108,25,108,37],"3393":[108,43,108,48],"3401":[108,43,108,51],"3409":[108,25,108,52],"3411":[108,25,108,42],"3417":[109,37,109,41],"3425":[109,37,109,52],"3433":[109,53,109,58],"3441":[109,37,109,59],"3449":[109,37,109,59],"3457":[109,25,109,60],"3465":[110,32,110,37],"3473":[110,32,110,37],"3481":[110,25,110,38],"3489":[107,42,112,18],"3497":[107,42,112,18],"3505":[107,42,112,18],"3513":[107,42,112,18],"3521":[107,42,112,18],"3529":[107,17,112,19],"3531":[107,17,107,26],"3537":[107,17,112,20],"3545":[113,21,113,30],"3553":[114,30,114,35],"3561":[114,30,114,38],"3569":[114,30,114,52],"3571":[114,30,114,50],"3577":[114,55,114,58],"3585":[114,61,114,66],"3593":[114,61,114,69],"3601":[114,61,114,82],"3603":[114,61,114,80],"3609":[114,30,114,82],"3617":[114,30,114,82],"3625":[115,37,115,41],"3633":[115,55,115,64],"3641":[115,66,115,71],"3649":[115,37,115,72],"3651":[115,37,115,54],"3657":[115,37,115,72],"3665":[115,37,115,72],"3673":[116,32,116,36],"3681":[116,45,116,54],"3689":[116,56,116,61],"3697":[116,32,116,62],"3699":[116,32,116,44],"3705":[116,32,116,62],"3713":[116,32,116,62],"3721":[117,35,117,39],"3729":[117,51,117,54],"3737":[117,35,117,55],"3739":[117,35,117,50],"3745":[117,35,117,55],"3753":[117,35,117,55],"3761":[118,40,118,41],"3769":[118,49,118,56],"3777":[119,32,119,33],"3785":[119,42,119,46],"3793":[119,41,119,47],"3801":[119,49,119,50],"3809":[119,59,119,65],"3817":[119,49,119,66],"3819":[119,49,119,58],"3825":[119,32,119,67],"3827":[119,32,119,40],"3833":[119,32,119,67],"3841":[119,25,119,68],"3849":[118,58,120,22],"3857":[118,58,120,22],"3865":[118,58,120,22],"3873":[118,58,120,22],"3881":[118,58,120,22],"3889":[120,24,120,28],"3897":[118,40,120,29],"3899":[118,40,118,48],"3905":[118,40,120,29],"3913":[118,40,120,29],"3921":[121,25,121,37],"3929":[121,25,121,44],"3937":[121,47,121,48],"3945":[121,52,121,59],"3953":[121,52,121,66],"3961":[121,71,121,72],"3969":[122,25,122,32],"3977":[123,33,123,35],"3985":[124,36,124,45],"3993":[125,35,125,39],"4001":[122,38,126,26],"4009":[122,25,126,27],"4011":[122,25,122,37],"4017":[126,28,126,31],"4025":[126,33,126,36],"4033":[122,25,126,37],"4041":[122,25,126,38],"4049":[128,21,128,25],"4057":[128,21,128,27],"4065":[128,21,128,28],"4073":[101,40,130,14],"4081":[101,40,130,14],"4089":[101,40,130,14],"4097":[101,40,130,14],"4105":[101,40,130,14],"4113":[101,40,130,14],"4121":[101,40,130,14],"4129":[101,40,130,14],"4137":[101,40,130,14],"4145":[101,40,130,14],"4153":[101,40,130,14],"4161":[101,40,130,14],"4169":[101,40,130,14],"4177":[101,40,130,14],"4185":[101,27,130,15],"4187":[101,27,101,39],"4193":[101,27,130,15],"4201":[101,27,130,15],"4209":[131,13,131,22],"4217":[131,31,131,38],"4225":[131,13,131,39],"4227":[131,13,131,30],"4233":[132,17,132,24],"4241":[132,29,132,54],"4249":[132,57,132,60],"4257":[132,57,132,66],"4265":[132,17,132,67],"4267":[132,17,132,28],"4273":[132,17,132,68],"4281":[133,17,133,21],"4289":[133,34,133,37],"4297":[133,39,133,42],"4305":[133,44,133,53],"4313":[133,17,133,54],"4315":[133,17,133,33],"4321":[133,17,133,55],"4329":[131,47,134,14],"4337":[131,47,134,14],"4345":[131,47,134,14],"4353":[131,47,134,14],"4361":[131,13,134,15],"4363":[131,13,131,46],"4369":[131,13,134,16],"4377":[96,40,135,10],"4385":[96,40,135,10],"4393":[96,40,135,10],"4401":[96,40,135,10],"4409":[96,40,135,10],"4417":[96,40,135,10],"4425":[96,40,135,10],"4433":[96,40,135,10],"4441":[96,9,135,11],"4443":[96,9,96,39],"4449":[136,13,136,20],"4457":[136,25,136,50],"4465":[136,53,136,56],"4473":[136,53,136,62],"4481":[136,13,136,63],"4483":[136,13,136,24],"4489":[136,13,136,64],"4497":[137,13,137,17],"4505":[137,30,137,33],"4513":[137,35,137,38],"4521":[137,40,137,49],"4529":[137,13,137,50],"4531":[137,13,137,29],"4537":[137,13,137,51],"4545":[135,18,138,10],"4553":[135,18,138,10],"4561":[135,18,138,10],"4569":[135,18,138,10],"4577":[96,9,138,11],"4579":[96,9,135,17],"4585":[96,9,138,12],"4593":[95,21,139,6],"4601":[95,21,139,6],"4609":[95,21,139,6],"4617":[95,5,139,7],"4619":[95,5,95,12],"4625":[95,5,139,8],"4633":[64,25,140,2],"4641":[64,25,140,2],"4649":[64,25,140,2],"4657":[64,25,140,2],"4665":[64,25,140,2],"4673":[64,25,140,2],"4681":[64,25,140,2],"4689":[64,25,140,2],"4697":[64,25,140,2],"4705":[64,25,140,2],"4713":[64,25,140,2],"4721":[64,25,140,2],"4729":[64,25,140,2],"4737":[64,25,140,2],"4745":[64,1,140,2],"4753":[64,1,140,3],"4761":[141,1,141,4],"4769":[141,1,141,14],"4777":[142,5,142,8],"4785":[142,5,142,14],"4787":[142,5,142,12],"4793":[142,5,142,15],"4801":[143,9,143,18],"4809":[144,9,144,18],"4817":[144,9,144,28],"4819":[144,9,144,26],"4825":[144,9,144,29],"4833":[141,29,146,2],"4841":[141,29,146,2],"4849":[141,29,146,2],"4857":[141,29,146,2],"4865":[141,29,146,2],"4873":[141,29,146,2],"4881":[141,1,146,2],"4889":[141,1,146,3],"4897":[147,1,147,4],"4905":[147,1,147,14],"4913":[148,12,148,16],"4921":[148,37,148,50],"4929":[148,12,148,51],"4931":[148,12,148,36],"4937":[148,12,148,58],"4945":[148,63,148,64],"4953":[148,12,148,64],"4961":[148,5,148,65],"4969":[147,35,149,2],"4977":[147,35,149,2],"4985":[147,35,149,2],"4993":[147,35,149,2],"5001":[147,1,149,2],"5009":[147,1,149,3],"5017":[150,1,150,4],"5025":[150,1,150,14],"5033":[151,34,151,38],"5041":[151,34,151,51],"5049":[151,55,151,56],"5057":[151,62,151,66],"5065":[151,62,151,79],"5073":[151,62,151,96],"5081":[151,55,151,97],"5083":[151,55,151,61],"5089":[151,34,151,97],"5097":[151,34,151,97],"5105":[152,12,152,13],"5113":[152,25,152,38],"5121":[152,40,152,62],"5129":[152,12,152,63],"5131":[152,12,152,24],"5137":[152,12,152,63],"5145":[152,5,152,64],"5153":[150,37,153,2],"5161":[150,37,153,2],"5169":[150,37,153,2],"5177":[150,37,153,2],"5185":[150,37,153,2],"5193":[150,1,153,2],"5201":[150,1,153,3],"5209":[154,1,154,4],"5217":[154,1,154,14],"5225":[155,23,155,26],"5233":[155,23,155,34],"5241":[155,35,155,50],"5249":[155,23,155,51],"5257":[155,23,155,51],"5265":[155,23,155,51],"5273":[156,16,156,20],"5281":[156,16,156,23],"5289":[156,35,156,45],"5297":[156,16,156,46],"5299":[156,16,156,34],"5305":[156,16,156,46],"5313":[156,16,156,46],"5321":[157,17,157,21],"5329":[157,17,157,27],"5337":[159,21,159,24],"5345":[160,20,160,23],"5353":[161,23,161,26],"5361":[158,16,162,10],"5369":[162,11,162,15],"5377":[158,16,162,16],"5385":[158,16,162,16],"5393":[158,9,162,17],"5401":[157,32,163,6],"5409":[157,32,163,6],"5417":[157,32,163,6],"5425":[157,32,163,6],"5433":[157,17,163,7],"5435":[157,17,157,31],"5441":[157,17,163,7],"5449":[157,17,163,7],"5457":[165,13,165,15],"5465":[166,17,166,23],"5473":[166,24,166,27],"5481":[166,30,166,35],"5489":[166,41,166,44],"5497":[166,30,166,45],"5499":[166,30,166,40],"5505":[166,48,166,51],"5513":[166,53,166,56],"5521":[166,13,166,57],"5529":[164,17,167,6],"5537":[164,17,167,6],"5545":[164,17,167,6],"5553":[168,16,168,23],"5561":[169,13,169,16],"5569":[169,13,169,24],"5577":[169,25,169,40],"5585":[169,13,169,41],"5593":[170,27,170,28],"5601":[170,33,170,44],"5609":[170,51,170,54],"5617":[170,33,170,55],"5619":[170,33,170,50],"5625":[171,24,171,32],"5633":[171,33,171,37],"5641":[171,39,171,41],"5649":[171,24,171,42],"5657":[171,24,171,42],"5665":[171,17,171,43],"5673":[170,57,172,14],"5681":[170,57,172,14],"5689":[170,57,172,14],"5697":[170,57,172,14],"5705":[170,27,172,15],"5707":[170,27,170,32],"5713":[170,27,172,15],"5721":[170,27,172,15],"5729":[173,13,173,18],"5737":[173,35,173,42],"5745":[173,53,173,60],"5753":[173,61,173,62],"5761":[173,53,173,63],"5769":[173,65,173,72],"5777":[173,73,173,74],"5785":[173,65,173,75],"5793":[173,31,173,76],"5795":[173,35,173,52],"5801":[173,24,173,78],"5809":[173,13,173,78],"5817":[173,13,173,79],"5825":[174,20,174,27],"5833":[174,28,174,33],"5841":[174,20,174,34],"5849":[174,20,174,34],"5857":[174,13,174,35],"5865":[176,9,176,13],"5873":[176,25,176,30],"5881":[176,25,176,33],"5889":[176,19,176,35],"5897":[177,32,177,33],"5905":[177,19,177,35],"5913":[178,20,178,21],"5921":[176,37,179,10],"5929":[176,9,179,11],"5931":[176,9,176,18],"5937":[180,17,180,20],"5945":[180,25,180,30],"5953":[181,24,181,30],"5961":[181,31,181,34],"5969":[181,24,181,35],"5977":[181,24,181,35],"5985":[181,17,181,36],"5993":[182,13,182,18],"6001":[182,31,182,36],"6009":[182,37,182,38],"6017":[182,31,182,39],"6025":[182,31,182,42],"6033":[182,24,182,44],"6041":[182,13,182,44],"6049":[182,13,182,45],"6057":[183,20,183,27],"6065":[183,28,183,33],"6073":[183,20,183,34],"6081":[183,20,183,34],"6089":[183,13,183,35],"6097":[179,20,184,10],"6105":[179,20,184,10],"6113":[179,20,184,10],"6121":[179,20,184,10],"6129":[179,20,184,10],"6137":[176,9,184,11],"6139":[176,9,179,19],"6145":[176,9,184,12],"6153":[168,24,185,6],"6161":[168,24,185,6],"6169":[168,24,185,6],"6177":[168,24,185,6],"6185":[168,24,185,6],"6193":[168,24,185,6],"6201":[168,12,185,7],"6209":[168,12,185,7],"6217":[168,5,185,8],"6225":[154,26,186,2],"6233":[154,26,186,2],"6241":[154,26,186,2],"6249":[154,26,186,2],"6257":[154,26,186,2],"6265":[154,26,186,2],"6273":[154,26,186,2],"6281":[154,26,186,2],"6289":[154,26,186,2],"6297":[154,1,186,2],"6305":[154,1,186,3],"6313":[187,1,187,4],"6321":[187,1,187,14],"6329":[188,19,188,20],"6337":[188,27,188,30],"6345":[188,27,188,36],"6353":[188,19,188,37],"6355":[188,19,188,26],"6361":[189,14,189,15],"6369":[190,17,190,24],"6377":[191,17,191,23],"6385":[192,17,192,25],"6393":[193,17,193,28],"6401":[189,25,194,14],"6409":[194,16,194,19],"6417":[189,14,194,20],"6419":[189,14,189,24],"6425":[195,26,195,28],"6433":[195,26,195,28],"6441":[195,26,195,28],"6449":[196,13,196,19],"6457":[196,20,196,23],"6465":[196,27,196,31],"6473":[196,13,196,31],"6481":[196,13,196,32],"6489":[197,20,197,26],"6497":[197,20,197,26],"6505":[197,13,197,27],"6513":[188,42,199,6],"6521":[188,42,199,6],"6529":[188,42,199,6],"6537":[188,42,199,6],"6545":[188,42,199,6],"6553":[188,42,199,6],"6561":[188,19,199,7],"6563":[188,19,188,41],"6569":[200,18,200,22],"6577":[200,16,200,22],"6585":[200,9,200,23],"6593":[199,15,201,6],"6601":[199,15,201,6],"6609":[199,15,201,6],"6617":[199,15,201,6],"6625":[188,19,201,7],"6627":[188,19,199,14],"6633":[202,20,202,21],"6641":[202,27,202,31],"6649":[202,20,202,32],"6651":[202,20,202,26],"6657":[202,33,202,34],"6665":[202,20,202,35],"6673":[202,42,202,45],"6681":[202,20,202,46],"6683":[202,20,202,41],"6689":[202,20,202,46],"6697":[202,20,202,46],"6705":[203,16,203,17],"6713":[203,25,203,29],"6721":[204,25,204,30],"6729":[204,35,204,39],"6737":[204,35,204,46],"6745":[204,49,204,50],"6753":[204,54,204,58],"6761":[204,54,204,65],"6769":[204,70,204,71],"6777":[204,74,204,75],"6785":[204,83,204,87],"6793":[204,74,204,88],"6795":[204,74,204,82],"6801":[204,89,204,90],"6809":[204,74,204,91],"6817":[204,94,204,96],"6825":[204,25,204,96],"6833":[204,25,204,96],"6841":[205,17,205,22],"6849":[205,27,205,28],"6857":[206,17,206,20],"6865":[206,21,206,24],"6873":[206,28,206,32],"6881":[206,28,206,39],"6889":[206,42,206,43],"6897":[206,46,206,48],"6905":[206,51,206,56],"6913":[206,17,206,56],"6921":[206,17,206,57],"6929":[208,17,208,20],"6937":[208,21,208,25],"6945":[208,26,208,31],"6953":[208,34,208,35],"6961":[208,21,208,36],"6969":[208,17,208,37],"6977":[208,38,208,41],"6985":[208,45,208,50],"6993":[208,17,208,50],"7001":[208,17,208,51],"7009":[210,20,210,23],"7017":[210,20,210,23],"7025":[210,13,210,24],"7033":[203,31,211,10],"7041":[203,31,211,10],"7049":[203,31,211,10],"7057":[203,31,211,10],"7065":[203,31,211,10],"7073":[203,31,211,10],"7081":[203,31,211,10],"7089":[211,12,211,14],"7097":[203,16,211,15],"7099":[203,16,203,24],"7105":[203,16,211,15],"7113":[203,9,211,16],"7121":[201,12,212,6],"7129":[201,12,212,6],"7137":[201,12,212,6],"7145":[201,12,212,6],"7153":[201,12,212,6],"7161":[188,19,212,7],"7163":[188,19,201,11],"7169":[188,19,212,15],"7171":[188,19,212,13],"7177":[188,19,212,15],"7185":[188,19,212,15],"7193":[213,12,213,19],"7201":[213,12,213,19],"7209":[213,5,213,20],"7217":[187,28,214,2],"7225":[187,28,214,2],"7233":[187,28,214,2],"7241":[187,28,214,2],"7249":[187,28,214,2],"7257":[187,1,214,2],"7265":[187,1,214,3],"7273":[215,1,215,4],"7281":[215,1,215,14],"7289":[217,17,217,21],"7297":[217,17,217,34],"7305":[217,17,217,42],"7313":[217,49,217,58],"7321":[217,17,217,59],"7323":[217,17,217,48],"7329":[217,17,217,59],"7337":[217,17,217,59],"7345":[218,13,218,18],"7353":[218,13,218,21],"7361":[220,16,220,20],"7369":[220,16,220,33],"7377":[220,16,220,41],"7385":[220,55,220,60],"7393":[220,62,220,67],"7401":[220,62,220,69],"7409":[220,16,220,70],"7411":[220,16,220,54],"7417":[220,16,220,70],"7425":[220,9,220,71],"7433":[219,10,219,13],"7441":[223,16,223,21],"7449":[223,16,223,23],"7457":[223,16,223,28],"7465":[223,16,223,28],"7473":[223,9,223,29],"7481":[222,10,222,13],"7489":[226,16,226,18],"7497":[226,16,226,18],"7505":[226,9,226,19],"7513":[228,12,228,16],"7521":[228,12,228,16],"7529":[228,5,228,17],"7537":[215,25,229,2],"7545":[215,25,229,2],"7553":[215,25,229,2],"7561":[215,25,229,2],"7569":[215,25,229,2],"7577":[215,25,229,2],"7585":[215,25,229,2],"7593":[215,1,229,2],"7601":[215,1,229,3],"7609":[230,1,230,4],"7617":[230,1,230,14],"7625":[231,12,231,19],"7633":[231,30,231,39],"7641":[231,12,231,40],"7643":[231,12,231,29],"7649":[231,43,231,46],"7657":[231,49,231,54],"7665":[231,49,231,57],"7673":[231,12,231,57],"7681":[231,5,231,58],"7689":[230,30,232,2],"7697":[230,30,232,2],"7705":[230,30,232,2],"7713":[230,30,232,2],"7721":[230,30,232,2],"7729":[230,1,232,2],"7737":[230,1,232,3],"7745":[233,1,233,7],"7753":[233,18,233,21],"7761":[233,1,233,21],"7769":[233,1,233,22],"7777":[1,1,233,22],"7785":[1,1,233,22],"7793":[1,1,233,22],"7801":[1,1,233,22],"7809":[1,1,233,22],"7817":[1,1,233,22],"7825":[1,1,233,22],"7833":[1,1,233,22],"7841":[1,1,233,22],"7849":[1,1,233,22],"7857":[1,1,233,22],"7865":[1,1,233,22],"7873":[11,11,12,2],"7881":[11,11,12,2],"7889":[23,26,23,121],"7897":[22,5,25,6],"7905":[13,22,27,2],"7913":[13,22,27,2],"7921":[29,23,29,80],"7929":[30,5,32,6],"7937":[33,5,39,6],"7945":[40,5,46,6],"7953":[48,70,50,10],"7961":[48,70,50,10],"7969":[51,40,53,10],"7977":[51,40,53,10],"7985":[54,9,60,10],"7993":[47,5,61,6],"8001":[28,45,63,2],"8009":[28,45,63,2],"8017":[73,23,73,80],"8025":[74,5,76,6],"8033":[77,48,79,6],"8041":[77,48,79,6],"8049":[89,20,91,6],"8057":[89,20,91,6],"8065":[92,21,94,6],"8073":[92,21,94,6],"8081":[104,38,104,101],"8089":[103,60,106,18],"8097":[103,60,106,18],"8105":[108,21,111,22],"8113":[107,42,112,18],"8121":[107,42,112,18],"8129":[118,58,120,22],"8137":[118,58,120,22],"8145":[121,21,127,22],"8153":[113,17,129,18],"8161":[101,40,130,14],"8169":[101,40,130,14],"8177":[131,47,134,14],"8185":[131,47,134,14],"8193":[96,40,135,10],"8201":[96,40,135,10],"8209":[135,18,138,10],"8217":[135,18,138,10],"8225":[95,21,139,6],"8233":[95,21,139,6],"8241":[64,25,140,2],"8249":[64,25,140,2],"8257":[143,5,145,6],"8265":[141,29,146,2],"8273":[141,29,146,2],"8281":[147,35,149,2],"8289":[147,35,149,2],"8297":[150,37,153,2],"8305":[150,37,153,2],"8313":[157,32,163,6],"8321":[157,32,163,6],"8329":[170,57,172,14],"8337":[170,57,172,14],"8345":[169,9,175,10],"8353":[180,13,181,36],"8361":[179,20,184,10],"8369":[179,20,184,10],"8377":[168,24,185,6],"8385":[168,24,185,6],"8393":[154,26,186,2],"8401":[154,26,186,2],"8409":[189,9,198,10],"8417":[188,42,199,6],"8425":[188,42,199,6],"8433":[199,15,201,6],"8441":[199,15,201,6],"8449":[204,25,204,96],"8457":[206,28,206,56],"8465":[205,13,209,14],"8473":[203,31,211,10],"8481":[203,31,211,10],"8489":[201,12,212,6],"8497":[201,12,212,6],"8505":[187,28,214,2],"8513":[187,28,214,2],"8521":[218,13,218,21],"8529":[219,10,219,13],"8537":[222,10,222,13],"8545":[215,25,229,2],"8553":[215,25,229,2],"8561":[230,30,232,2],"8569":[230,30,232,2],"8577":[1,1,233,22],"8585":[1,1,233,22],"nBranches":62,"originalCodeFileName":"/home/blake/ExpoSE/Targets/harvesterjs/node_modules/harvesterjs/lib/sse.js","instrumentedCodeFileName":"/home/blake/ExpoSE/Targets/harvesterjs/node_modules/harvesterjs/lib/sse_jalangi_.js","code":"var _ = require('lodash');\nvar mongojs = require('mongojs');\nvar mongoose = require('mongoose')\nvar inflect = require('i')();\nvar tinySSE = require('tiny-sse');\nvar Promise = require('bluebird');\nvar hl = require('highland');\nvar JSONAPI_Error = require('./jsonapi-error');\n\n/*\nUsage:\n======================================\nWhen setting up Multi SSE (ie: SSE for multiple resources), you just need to pass in Harvester context as such:\n\nthis.multiSSE = new SSE();\nthis.multiSSE.init({\n    context: harvesterApp\n});\n\nYou can then point an EventReader to listen from \"{base_url}/changes/stream?resouces=foo,bar,baz\".\n\nWhen setting up SSE for a single route, you will need to pass the resource name:\n\nthis.singleSSE = new SSE();\nthis.singleSSE.init({\n    context: harvesterApp,\n    singleResourceName: 'foo'\n});\n\nYou can then point an EventReader to listen from \"{base_url}/foo/changes/stream\".\n\nVerbs:\n======================================\nYou can also pass a \"verbs\" option to this module. If none is passed, SSE will only listen to \"insert\" events from uplog.\nValues you can pass are \"post\", \"put\" and \"delete\" which in turn currespond to oplog ops \"i\", \"u\" and \"d\".\n\nthis.singleSSE = new SSE();\nthis.singleSSE.init({\n    context: harvesterApp,\n    singleResourceName: 'foo',\n    verbs: ['post', 'put', 'delete']\n});\n*/\n\nvar SSE = function() {\n};\n\nSSE.prototype.init = function(config) {\n    this.config = config;\n    this.options = config.context.options;\n    this.harvesterApp = config.context;\n\n    //only listen to post events if the verb is not specified\n    this.verbs = config.verbs || ['post'];\n\n    //wraps it up in an array of single item, so that it fits the current logic without too many conditions\n    this.singleResourceName = config.singleResourceName && [config.singleResourceName];\n    var that = this;\n\n    this.db = this.harvesterApp.adapter.oplogDB;\n\n    var routePrefix =  '';\n\n    if (config.singleResourceName) {\n        var pluralName = (this.options.inflect) ? inflect.pluralize(config.singleResourceName) : config.singleResourceName;\n\n        routePrefix = '/' + pluralName;\n    }\n\n    this.harvesterApp.router.get(this.options.baseUrl + routePrefix + '/changes/stream', this.requestValidationMiddleware.bind(this), tinySSE.head(), tinySSE.ticker({seconds: 3}), this.handler.bind(this));\n};\n\nSSE.prototype.requestValidationMiddleware = function (req, res, next) {\n    this.routeNames = req.query.resources ? req.query.resources.split(',') : [];\n\n    if (this.singleResourceName) {\n        this.routeNames = this.singleResourceName;\n    }\n\n    if (this.routeNames.length === 0) {\n        throw new JSONAPI_Error({\n            status: 400,\n            title: 'Requested changes on missing resource',\n            detail: 'You have not specified any resources, please do so by providing \"resource?foo,bar\" as query'\n        });\n    }\n\n    if (!this.allResourcesExist(this.routeNames)) {\n        throw new JSONAPI_Error({\n            status: 400,\n            title: 'Requested changes on missing resource',\n            detail: 'The follow resources don\\'t exist ' +  this.getMissingResources(this.routeNames).join(',')\n        });\n    }\n\n    if (req.headers['last-event-id']) {\n        var tsSplit = _.map(req.headers['last-event-id'].split('_'), function (item) {\n            return parseInt(item, 10);\n        });\n\n        var isValidTS = _.all(tsSplit, function(ts) {\n            return !isNaN(ts);\n        });\n\n        if(!isValidTS) {\n            throw new JSONAPI_Error({\n                status: 400,\n                title: 'Invalid Timestamp',\n                detail: 'Could not parse the time stamp provided'\n            });\n        }\n    }\n\n    next();\n};\n\nSSE.prototype.handler = function (req, res, next) {\n    var oplogConnectionString = this.options.oplogConnectionString || '';\n\n    var that = this;\n    var options = {\n        tailable: true,\n        awaitdata: true,\n        oplogReplay: true,\n        numberOfRetries: Number.MAX_VALUE\n    };\n\n    this.routeNames = req.query.resources ? req.query.resources.split(',') : [];\n\n    if (this.singleResourceName) {\n        this.routeNames = this.singleResourceName;\n    }\n\n    var pluralRouteNames = this.routeNames.map(function(routeName) {\n        return inflect.pluralize(routeName);\n    });\n\n    var regex = new RegExp('.*\\\\.(' + pluralRouteNames.join('|') + ')', 'i');\n    var docStream = hl();\n\n\n    // always include keepAlive in connection options\n    // see: http://mongoosejs.com/docs/connections.html\n    var gooseOpt = {\n      server: {\n        poolSize: 1,\n        keepAlive: 1\n      }\n    };\n\n    var db = mongoose.createConnection(oplogConnectionString, gooseOpt);\n    db.on('error', function(err){\n      that.handleError(err, res, docStream);\n    });\n\n    req.on('close', function(){\n      db.close();\n    });\n\n    db.once('open', function(){\n      that.getQuery(req, regex)\n      .then(function(query) {\n              var collection = db.collection('oplog.rs')\n              var stream = collection.find(query, options).stream();\n              var docStream = hl(stream);\n\n              docStream.resume();\n\n              var consume = hl().consume(function(err, chunk, push, next) {\n                  var routeName = '';  // routeName for the SSE, '' indicates SSE does not match a route requested.\n                  var resourceNames = _.map(that.routeNames, function(routeName) {\n                      var pluralName = (that.options.inflect) ? inflect.pluralize(routeName) : routeName;\n                      return new RegExp(pluralName, 'i');\n                  });\n\n                  // find routeName (if any) the event matches.\n                  _.forEach(resourceNames, function (resourceName, index) {\n                    if (resourceName.test(chunk.ns)) {\n                        routeName = that.routeNames[index];\n                        return false;\n                    }\n                  });\n\n                  if (routeName) {\n                      var id = chunk.ts.getHighBits() + '_' + chunk.ts.getLowBits();\n                      var eventName = that.getEventName(routeName, chunk);\n                      var data = that.getData(routeName, chunk);\n\n                      var filters = that.getFilters(req);\n\n                      var passedFilter = _.reduce(filters, function(obj, filter) {\n                          return _.filter([data], _.matches(filter));\n                      }, true);\n\n                      //if we have filters, make sure they are passed\n                      if (passedFilter.length > 0 || filters.length === 0) {\n                          tinySSE.send({id: id, event: eventName, data: data})(req, res);\n                      }\n\n                      next();\n                  }\n              });\n\n              docStream.through(consume).errors(function(err) {\n                  console.log('HARVESTER SSE ERROR>>> ' + err.stack)\n                  that.handleError(err, res, docStream);\n              });\n      })\n      .catch(function(err) {\n          console.log('HARVESTER SSE ERROR>>> ' + err.stack)\n          that.handleError(err, res, docStream);\n      });\n    });\n};\n\nSSE.prototype.handleError = function(err, res, docStream) {\n    res.end();\n    if(docStream) {\n        docStream.destroy();\n    }\n};\n\nSSE.prototype.allResourcesExist = function(resourceNames) {\n    return this.getMissingResources(resourceNames).length === 0;\n};\n\nSSE.prototype.getMissingResources = function(resourceNames) {\n\n    var harvesterResourceNames = this.resourceName || _.keys(this.harvesterApp.createdResources);\n\n    return _.difference(resourceNames, harvesterResourceNames);\n}\n\nSSE.prototype.getQuery = function(req, ns) {\n    var lastEventId = req.headers['last-event-id'];\n    var coll = this.db.collection('oplog.rs');\n\n    var verbs = this.verbs.map(function(verb) {\n        return {\n            'post' : 'i',\n            'put' : 'u',\n            'delete' : 'd'\n        }[verb]\n    });\n\n    var query = {\n        ns : ns,\n        op : new RegExp('(' + verbs.join('|') + ')', 'i')\n    };\n    return new Promise(function(resolve, reject) {\n        if (req.headers['last-event-id']) {\n            var tsSplit = _.map(lastEventId.split('_'), function (item) {\n                return parseInt(item, 10);\n            });\n\n            query.ts = {\n                $gt: new mongojs.Timestamp(tsSplit[1], tsSplit[0])\n            };\n\n            return resolve(query);\n        }\n\n        coll.find({op : query.op}, {sort : {$natural : -1}, limit : 1}).toArray(function(err, items) {\n            if (err || !items) return reject(err);\n            query.ts = {\n                $gt: items[0].ts\n            };\n\n            return resolve(query);\n        });\n    });\n};\n\nSSE.prototype.getFilters = function(req) {\n\n    var filters = _.chain(req.query)\n    .map(function(item, key) {\n        if (!_.contains(['limit', 'sort', 'offset', 'resources'], key)) {\n            var filter = {};\n            filter[key] = item;\n            return filter;\n        }\n    })\n    .filter(function(item) {\n        return !!item;\n    })\n    //converts {'foo.bar' : 'foobar'} to {foo : { bar : 'foobar' }}\n    .map(function(item) {\n        var keys = _.keys(item)[0].split('.');\n        return _.reduce(keys, function(obj, key, index) {\n\n            var value = (index === keys.length - 1 || keys.length === 1) ? _.values(item)[0] : {};\n\n            if (index === 0) {\n                obj[key] = (keys.length > 1) ? {} : value;\n            } else {\n                obj[keys[index - 1]][key] = value;\n            }\n            return obj;\n        }, {});\n    })\n    .value();\n\n    return filters;\n\n};\n\nSSE.prototype.getData = function(routeName, chunk) {\n    var data;\n    var model = this.harvesterApp.adapter.model(routeName);\n\n    switch (chunk.op) {\n        case 'i' : data = this.harvesterApp.adapter._deserialize(model, chunk.o); break;\n        case 'u' : data = chunk.o.$set; break;\n        default : data = {}\n    }\n\n    return data;\n};\n\nSSE.prototype.getEventName = function(routeName, chunk) {\n    return inflect.pluralize(routeName) + '_' + chunk.op;\n};\n\nmodule.exports = SSE;\n"}