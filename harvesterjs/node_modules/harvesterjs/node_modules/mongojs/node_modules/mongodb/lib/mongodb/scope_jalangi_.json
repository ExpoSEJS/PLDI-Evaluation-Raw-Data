{"8":[6,22,6,42],"9":[1,20,1,27],"10":[17,21,17,34],"16":[7,26,7,62],"17":[1,28,1,32],"18":[17,21,17,46],"24":[11,27,11,47],"25":[1,20,1,33],"26":[17,50,17,61],"32":[15,32,15,52],"33":[1,20,1,33],"40":[17,21,17,61],"41":[1,20,1,33],"48":[17,21,17,61],"49":[2,26,2,38],"56":[28,34,28,54],"57":[2,26,2,45],"64":[29,36,29,56],"65":[2,26,2,45],"72":[30,17,30,38],"73":[2,26,2,45],"81":[3,14,3,21],"89":[3,22,3,32],"97":[3,14,3,33],"105":[3,14,3,40],"113":[3,53,3,60],"121":[3,61,3,69],"129":[3,53,3,70],"137":[3,53,3,79],"145":[3,89,3,96],"153":[3,97,3,106],"161":[3,89,3,107],"169":[3,120,3,127],"177":[3,128,3,134],"185":[3,120,3,135],"193":[3,120,3,144],"201":[3,14,3,40],"209":[3,14,3,40],"217":[3,53,3,79],"225":[3,53,3,79],"233":[3,89,3,107],"241":[3,89,3,107],"249":[3,120,3,144],"257":[3,120,3,144],"265":[5,16,5,20],"273":[5,16,5,20],"281":[5,16,5,20],"289":[6,22,6,36],"297":[6,40,6,42],"305":[6,22,6,42],"313":[6,5,6,43],"321":[7,26,7,40],"329":[7,26,7,54],"337":[7,58,7,62],"345":[7,26,7,62],"353":[7,26,7,62],"361":[8,23,8,29],"369":[8,30,8,40],"377":[8,30,8,43],"385":[8,45,8,55],"393":[8,57,8,66],"401":[8,68,8,75],"409":[8,77,8,91],"417":[8,19,8,92],"425":[8,19,8,92],"433":[8,19,8,92],"441":[11,27,11,41],"449":[11,45,11,47],"457":[11,27,11,47],"465":[11,27,11,47],"473":[12,13,12,23],"481":[12,31,12,40],"489":[12,42,12,49],"497":[12,51,12,59],"505":[12,13,12,60],"507":[12,13,12,30],"513":[12,13,12,61],"521":[10,17,13,10],"529":[10,17,13,10],"537":[10,17,13,10],"545":[10,17,13,10],"553":[10,17,13,10],"561":[10,17,13,10],"569":[15,32,15,46],"577":[15,50,15,52],"585":[15,32,15,52],"593":[15,32,15,52],"601":[16,13,16,23],"609":[16,29,16,37],"617":[16,39,16,51],"625":[17,28,17,34],"633":[17,38,17,46],"641":[17,50,17,56],"649":[17,60,17,61],"657":[18,28,18,36],"665":[18,37,18,41],"673":[18,43,18,51],"681":[18,28,18,52],"689":[18,28,18,52],"697":[18,21,18,53],"705":[20,24,20,32],"713":[20,33,20,37],"721":[20,39,20,47],"729":[20,24,20,48],"737":[20,24,20,48],"745":[20,17,20,49],"753":[16,53,21,14],"761":[16,53,21,14],"769":[16,53,21,14],"777":[16,53,21,14],"785":[16,53,21,14],"793":[16,13,21,15],"795":[16,13,16,28],"801":[16,13,21,16],"809":[14,15,22,10],"817":[14,15,22,10],"825":[14,15,22,10],"833":[14,15,22,10],"841":[14,15,22,10],"849":[14,15,22,10],"857":[24,25,24,33],"865":[24,25,24,33],"873":[24,13,24,34],"881":[25,20,25,32],"889":[25,20,25,32],"897":[25,13,25,33],"905":[23,15,26,10],"913":[23,15,26,10],"921":[23,15,26,10],"929":[23,15,26,10],"937":[28,34,28,48],"945":[28,52,28,54],"953":[28,34,28,54],"961":[28,34,28,54],"969":[29,13,29,27],"977":[29,36,29,50],"985":[29,36,29,56],"993":[29,59,29,73],"1001":[29,59,29,79],"1009":[29,82,29,86],"1017":[29,13,29,86],"1025":[29,13,29,87],"1033":[30,17,30,31],"1041":[30,17,30,38],"1049":[31,17,31,31],"1057":[31,41,31,55],"1065":[31,41,31,62],"1073":[31,17,31,62],"1081":[31,17,31,63],"1089":[32,13,32,23],"1097":[32,31,32,40],"1105":[32,42,32,52],"1113":[32,54,32,68],"1121":[33,17,33,25],"1129":[33,26,33,29],"1137":[33,31,33,34],"1145":[33,17,33,35],"1153":[33,17,33,36],"1161":[32,70,34,14],"1169":[32,70,34,14],"1177":[32,70,34,14],"1185":[32,70,34,14],"1193":[32,70,34,14],"1201":[32,70,34,14],"1209":[32,13,34,15],"1211":[32,13,32,30],"1217":[32,13,34,16],"1225":[27,17,35,10],"1233":[27,17,35,10],"1241":[27,17,35,10],"1249":[27,17,35,10],"1257":[27,17,35,10],"1265":[27,17,35,10],"1273":[9,24,36,6],"1281":[9,24,36,6],"1289":[9,24,36,6],"1297":[37,5,37,9],"1305":[38,9,38,23],"1313":[38,40,38,53],"1321":[38,9,38,53],"1329":[38,9,38,54],"1337":[39,26,39,39],"1345":[39,26,39,39],"1353":[39,9,39,40],"1361":[40,16,40,28],"1369":[40,16,40,28],"1377":[40,9,40,29],"1385":[37,29,41,6],"1393":[37,29,41,6],"1401":[37,29,41,6],"1409":[37,29,41,6],"1417":[37,5,41,6],"1425":[37,5,41,7],"1433":[42,5,42,9],"1441":[43,21,43,29],"1449":[43,21,43,29],"1457":[43,9,43,30],"1465":[44,9,44,16],"1473":[44,28,44,36],"1481":[44,9,44,36],"1489":[44,9,44,37],"1497":[45,16,45,22],"1505":[45,40,45,47],"1513":[45,49,45,63],"1521":[45,16,45,64],"1523":[45,16,45,39],"1529":[45,16,45,64],"1537":[45,9,45,65],"1545":[42,17,46,6],"1553":[42,17,46,6],"1561":[42,17,46,6],"1569":[42,17,46,6],"1577":[42,17,46,6],"1585":[42,5,46,6],"1593":[42,5,46,7],"1601":[4,13,47,2],"1609":[4,13,47,2],"1617":[4,13,47,2],"1625":[4,13,47,2],"1633":[4,13,47,2],"1641":[4,13,47,2],"1649":[4,13,47,2],"1657":[4,13,47,2],"1665":[4,13,47,2],"1673":[4,13,47,2],"1681":[4,13,47,2],"1689":[4,13,47,2],"1697":[4,13,47,2],"1705":[48,1,48,8],"1713":[48,17,48,22],"1721":[48,1,48,22],"1729":[48,1,48,23],"1737":[1,1,48,23],"1745":[1,1,48,23],"1753":[1,1,48,23],"1761":[1,1,48,23],"1769":[1,1,48,23],"1777":[1,1,48,23],"1785":[1,1,48,23],"1793":[1,1,48,23],"1801":[10,17,13,10],"1809":[10,17,13,10],"1817":[17,17,19,18],"1825":[16,53,21,14],"1833":[16,53,21,14],"1841":[14,15,22,10],"1849":[14,15,22,10],"1857":[23,15,26,10],"1865":[23,15,26,10],"1873":[29,36,29,86],"1881":[30,13,31,63],"1889":[32,70,34,14],"1897":[32,70,34,14],"1905":[27,17,35,10],"1913":[27,17,35,10],"1921":[37,29,41,6],"1929":[37,29,41,6],"1937":[42,17,46,6],"1945":[42,17,46,6],"1953":[4,13,47,2],"1961":[4,13,47,2],"1969":[1,1,48,23],"1977":[1,1,48,23],"nBranches":18,"originalCodeFileName":"/home/blake/ExpoSE/Targets/harvesterjs/node_modules/harvesterjs/node_modules/mongojs/node_modules/mongodb/lib/mongodb/scope.js","instrumentedCodeFileName":"/home/blake/ExpoSE/Targets/harvesterjs/node_modules/harvesterjs/node_modules/mongojs/node_modules/mongodb/lib/mongodb/scope_jalangi_.js","code":"var Cursor = require('./cursor').Cursor\n  , Readable = require('stream').Readable\n  , utils = require('./utils')\n  , inherits = require('util').inherits;\n\nvar Scope = function(collection, _selector, _fields, _scope_options) {\n  var self = this;\n\n  // Ensure we have at least an empty cursor options object\n  _scope_options = _scope_options || {};\n  var _write_concern = _scope_options.write_concern || null;\n\n  // Ensure default read preference\n  // if(!_scope_options.readPreference) _scope_options.readPreference = 'primary';\n\n  // Set up the cursor\n  var _cursor = new Cursor(\n        collection.db, collection, _selector\n      , _fields, _scope_options\n    );\n\n  // Write branch options\n  var writeOptions = {\n    insert: function(documents, callback) {\n      // Merge together options\n      var options = _write_concern || {};\n      // Execute insert\n      collection.insert(documents, options, callback);\n    },\n\n    save: function(document, callback) {\n      // Merge together options\n      var save_options = _write_concern || {};\n      // Execute save\n      collection.save(document, save_options, function(err, result) {\n        if(typeof result == 'number' && result == 1) {\n          return callback(null, document);\n        }\n\n        return callback(null, document);\n      });\n    },\n\n    find: function(selector) {\n      _selector = selector;\n      return writeOptions;\n    },\n\n    //\n    // Update is implicit multiple document update\n    update: function(operations, callback) {\n      // Merge together options\n      var update_options = _write_concern || {};\n\n      // Set up options, multi is default operation\n      update_options.multi = _scope_options.multi ? _scope_options.multi : true;\n      if(_scope_options.upsert) update_options.upsert = _scope_options.upsert;\n\n      // Execute options\n      collection.update(_selector, operations, update_options, function(err, result, obj) {\n        callback(err, obj);\n      });\n    },\n  }\n\n  // Set write concern\n  this.withWriteConcern = function(write_concern) {\n    // Save the current write concern to the Scope\n    _scope_options.write_concern = write_concern;\n    _write_concern = write_concern;\n    // Only allow legal options\n    return writeOptions;\n  }\n\n  // Start find\n  this.find = function(selector, options) {\n    // Save the current selector\n    _selector = selector;\n    // Set the cursor\n    _cursor.selector = selector;\n    // Return only legal read options\n    return Cursor.cloneWithOptions(_cursor, _scope_options);\n  }\n}\n\nexports.Scope = Scope;\n"}