{"8":[7,9,7,40],"9":[1,20,1,27],"10":[7,11,7,39],"16":[9,15,9,22],"17":[1,28,1,32],"18":[7,9,7,40],"24":[25,9,25,24],"25":[1,20,1,33],"26":[46,9,46,13],"32":[30,9,30,39],"33":[1,20,1,33],"34":[46,18,46,41],"40":[30,9,30,39],"41":[1,20,1,33],"42":[46,45,46,68],"48":[34,13,34,43],"49":[2,26,2,38],"50":[50,20,50,49],"56":[34,13,34,43],"57":[2,26,2,45],"58":[50,20,50,63],"64":[42,9,42,12],"65":[2,26,2,45],"66":[60,9,60,21],"72":[46,18,46,68],"73":[2,26,2,45],"74":[62,9,62,28],"80":[46,9,46,69],"81":[3,14,3,21],"82":[62,9,62,33],"88":[50,20,50,63],"89":[3,22,3,30],"90":[75,16,75,50],"96":[49,16,49,19],"97":[3,14,3,31],"104":[46,9,46,69],"105":[3,14,3,31],"112":[60,9,60,21],"113":[3,14,3,31],"120":[62,9,62,33],"121":[4,17,4,24],"128":[70,9,70,24],"129":[4,25,4,34],"136":[75,9,75,50],"137":[4,17,4,35],"144":[75,9,75,50],"145":[4,17,4,47],"147":[4,17,4,45],"153":[4,17,4,47],"161":[4,17,4,47],"169":[5,14,5,21],"177":[5,22,5,30],"185":[5,14,5,31],"193":[5,14,5,38],"201":[5,14,5,38],"209":[5,14,5,38],"217":[7,11,7,15],"225":[7,27,7,39],"233":[8,20,8,32],"241":[8,33,8,39],"249":[8,16,8,40],"257":[8,16,8,40],"265":[8,9,8,41],"273":[9,15,9,22],"281":[9,25,9,32],"289":[9,35,9,37],"297":[9,15,9,37],"305":[9,5,9,38],"313":[10,5,10,11],"321":[10,17,10,21],"329":[10,5,10,22],"331":[10,5,10,16],"337":[10,5,10,23],"345":[11,5,11,9],"353":[11,21,11,25],"361":[11,5,11,25],"369":[11,5,11,26],"377":[12,5,12,9],"385":[12,19,12,24],"393":[12,5,12,24],"401":[12,5,12,25],"409":[13,5,13,9],"417":[13,20,13,26],"425":[13,5,13,26],"433":[13,5,13,27],"441":[14,5,14,9],"449":[14,23,14,27],"457":[14,5,14,27],"465":[14,5,14,28],"473":[15,5,15,9],"481":[15,20,15,27],"489":[15,5,15,27],"497":[15,5,15,28],"505":[16,16,16,20],"513":[16,16,16,20],"521":[16,16,16,20],"529":[17,5,17,12],"537":[18,9,18,13],"545":[18,9,18,21],"547":[18,9,18,19],"553":[18,9,18,22],"561":[17,22,19,6],"569":[17,22,19,6],"577":[17,22,19,6],"585":[17,5,19,7],"587":[17,5,17,21],"593":[17,5,19,8],"601":[6,1,20,2],"609":[6,1,20,2],"617":[6,1,20,2],"625":[6,1,20,2],"633":[6,1,20,2],"641":[21,1,21,13],"649":[21,1,21,23],"657":[21,36,21,42],"665":[21,36,21,52],"673":[21,1,21,52],"681":[21,1,21,53],"689":[22,1,22,13],"697":[22,1,22,23],"705":[22,1,22,32],"713":[22,1,22,33],"721":[23,1,23,13],"729":[23,1,23,23],"737":[23,1,23,30],"745":[23,1,23,31],"753":[24,1,24,13],"761":[24,1,24,23],"769":[25,9,25,13],"777":[25,9,25,24],"785":[26,9,26,16],"793":[26,9,26,16],"801":[27,5,27,9],"809":[27,5,27,17],"811":[27,5,27,15],"817":[27,5,27,18],"825":[24,32,28,2],"833":[24,32,28,2],"841":[24,32,28,2],"849":[24,1,28,2],"857":[24,1,28,3],"865":[29,1,29,13],"873":[29,1,29,23],"881":[30,9,30,13],"889":[30,9,30,20],"897":[30,24,30,28],"905":[30,24,30,39],"913":[31,9,31,16],"921":[31,9,31,16],"929":[32,16,32,20],"937":[32,16,32,20],"945":[32,16,32,20],"953":[33,5,33,14],"961":[34,13,34,17],"969":[34,13,34,24],"977":[34,28,34,32],"985":[34,28,34,43],"993":[35,13,35,20],"1001":[35,13,35,20],"1009":[36,9,36,13],"1017":[36,9,36,21],"1025":[37,13,37,17],"1033":[37,32,37,35],"1041":[37,37,37,40],"1049":[37,13,37,41],"1051":[37,13,37,31],"1057":[37,13,37,42],"1065":[36,33,38,10],"1073":[36,33,38,10],"1081":[36,33,38,10],"1089":[36,33,38,10],"1097":[36,33,38,10],"1105":[36,9,38,11],"1107":[36,9,36,32],"1113":[36,9,38,12],"1121":[33,15,39,6],"1129":[33,15,39,6],"1137":[33,15,39,6],"1145":[33,5,39,7],"1153":[33,5,39,8],"1161":[29,32,40,2],"1169":[29,32,40,2],"1177":[29,32,40,2],"1185":[29,32,40,2],"1193":[29,1,40,2],"1201":[29,1,40,3],"1209":[41,1,41,13],"1217":[41,1,41,23],"1225":[42,9,42,12],"1233":[43,9,43,13],"1241":[43,22,43,25],"1249":[43,9,43,26],"1251":[43,9,43,21],"1257":[43,9,43,27],"1265":[44,16,44,20],"1273":[44,26,44,31],"1281":[44,16,44,32],"1283":[44,16,44,25],"1289":[44,16,44,32],"1297":[44,9,44,33],"1305":[46,10,46,13],"1313":[46,18,46,22],"1321":[46,18,46,30],"1329":[46,18,46,36],"1337":[46,40,46,41],"1345":[46,45,46,49],"1353":[46,45,46,57],"1361":[46,45,46,63],"1369":[46,67,46,68],"1377":[47,9,47,13],"1385":[47,19,47,24],"1393":[47,9,47,25],"1395":[47,9,47,18],"1401":[47,9,47,26],"1409":[48,16,48,20],"1417":[48,16,48,30],"1419":[48,16,48,28],"1425":[48,16,48,30],"1433":[48,9,48,31],"1441":[49,16,49,19],"1449":[50,27,50,31],"1457":[50,27,50,39],"1465":[50,27,50,49],"1473":[50,53,50,63],"1481":[50,66,50,70],"1489":[50,66,50,78],"1497":[50,89,50,92],"1505":[50,66,50,93],"1507":[50,66,50,88],"1513":[50,96,50,99],"1521":[50,20,50,99],"1529":[50,20,50,99],"1537":[51,9,51,13],"1545":[51,19,51,25],"1553":[51,27,51,31],"1561":[51,9,51,32],"1563":[51,9,51,18],"1569":[51,9,51,33],"1577":[52,9,52,13],"1585":[52,9,52,21],"1587":[52,9,52,19],"1593":[52,9,52,22],"1601":[41,40,54,2],"1609":[41,40,54,2],"1617":[41,40,54,2],"1625":[41,40,54,2],"1633":[41,40,54,2],"1641":[41,40,54,2],"1649":[41,1,54,2],"1657":[41,1,54,3],"1665":[55,1,55,13],"1673":[55,1,55,23],"1681":[56,5,56,9],"1689":[56,19,56,23],"1697":[56,5,56,23],"1705":[56,5,56,24],"1713":[55,32,57,2],"1721":[55,32,57,2],"1729":[55,32,57,2],"1737":[55,1,57,2],"1745":[55,1,57,3],"1753":[58,1,58,13],"1761":[58,1,58,23],"1769":[59,16,59,20],"1777":[59,16,59,20],"1785":[59,16,59,20],"1793":[60,10,60,14],"1801":[60,10,60,21],"1809":[61,9,61,16],"1817":[61,9,61,16],"1825":[62,10,62,14],"1833":[62,10,62,22],"1841":[62,10,62,28],"1849":[62,32,62,33],"1857":[63,9,63,16],"1865":[63,9,63,16],"1873":[64,5,64,12],"1881":[65,9,65,13],"1889":[65,23,65,28],"1897":[65,9,65,28],"1905":[65,9,65,29],"1913":[66,9,66,13],"1921":[66,9,66,21],"1923":[66,9,66,19],"1929":[66,9,66,22],"1937":[64,22,67,6],"1945":[64,22,67,6],"1953":[64,22,67,6],"1961":[64,5,67,7],"1963":[64,5,64,21],"1969":[64,5,67,8],"1977":[58,33,68,2],"1985":[58,33,68,2],"1993":[58,33,68,2],"2001":[58,33,68,2],"2009":[58,1,68,2],"2017":[58,1,68,3],"2025":[69,1,69,13],"2033":[69,1,69,23],"2041":[70,9,70,13],"2049":[70,9,70,24],"2057":[71,9,71,16],"2065":[71,9,71,16],"2073":[72,5,72,9],"2081":[72,23,72,27],"2089":[72,5,72,27],"2097":[72,5,72,28],"2105":[73,5,73,9],"2113":[73,21,73,26],"2121":[73,5,73,26],"2129":[73,5,73,27],"2137":[74,5,74,9],"2145":[74,5,74,17],"2153":[74,5,74,25],"2155":[74,5,74,23],"2161":[74,5,74,26],"2169":[75,9,75,12],"2177":[75,16,75,20],"2185":[75,31,75,38],"2193":[75,16,75,39],"2195":[75,16,75,30],"2201":[75,16,75,46],"2209":[75,49,75,50],"2217":[76,16,76,20],"2225":[76,26,76,33],"2233":[76,35,76,38],"2241":[76,16,76,39],"2243":[76,16,76,25],"2249":[76,16,76,39],"2257":[76,9,76,40],"2265":[78,5,78,9],"2273":[78,15,78,22],"2281":[78,5,78,23],"2283":[78,5,78,14],"2289":[78,5,78,24],"2297":[69,34,79,2],"2305":[69,34,79,2],"2313":[69,34,79,2],"2321":[69,34,79,2],"2329":[69,1,79,2],"2337":[69,1,79,3],"2345":[80,1,80,7],"2353":[80,28,80,40],"2361":[80,28,80,40],"2369":[80,1,80,40],"2377":[80,1,80,41],"2385":[1,1,80,41],"2393":[1,1,80,41],"2401":[1,1,80,41],"2409":[1,1,80,41],"2417":[1,1,80,41],"2425":[1,1,80,41],"2433":[6,1,20,2],"2441":[1,1,80,41],"2449":[7,5,8,41],"2457":[9,15,9,37],"2465":[17,22,19,6],"2473":[17,22,19,6],"2481":[6,1,20,2],"2489":[6,1,20,2],"2497":[25,5,26,16],"2505":[24,32,28,2],"2513":[24,32,28,2],"2521":[30,5,31,16],"2529":[34,9,35,20],"2537":[36,33,38,10],"2545":[36,33,38,10],"2553":[33,15,39,6],"2561":[33,15,39,6],"2569":[29,32,40,2],"2577":[29,32,40,2],"2585":[42,5,45,6],"2593":[50,20,50,99],"2601":[49,12,53,6],"2609":[46,5,53,6],"2617":[41,40,54,2],"2625":[41,40,54,2],"2633":[55,32,57,2],"2641":[55,32,57,2],"2649":[60,5,61,16],"2657":[62,5,63,16],"2665":[64,22,67,6],"2673":[64,22,67,6],"2681":[58,33,68,2],"2689":[58,33,68,2],"2697":[70,5,71,16],"2705":[75,5,77,6],"2713":[69,34,79,2],"2721":[69,34,79,2],"2729":[1,1,80,41],"2737":[1,1,80,41],"nBranches":36,"originalCodeFileName":"/home/blake/ExpoSE/Targets/harvesterjs/node_modules/harvesterjs/node_modules/mongojs/node_modules/mongodb/lib/mongodb/cursorstream.js","instrumentedCodeFileName":"/home/blake/ExpoSE/Targets/harvesterjs/node_modules/harvesterjs/node_modules/mongojs/node_modules/mongodb/lib/mongodb/cursorstream_jalangi_.js","code":"var timers = require('timers');\n\n// Set processor, setImmediate if 0.10 otherwise nextTick\nvar processor = require('./utils').processor();\n\n/**\n * Module dependecies.\n */\nvar Stream = require('stream').Stream;\n\n/**\n * CursorStream\n *\n * Returns a stream interface for the **cursor**.\n *\n * Options\n *  - **transform** {Function} function of type function(object) { return transformed }, allows for transformation of data before emitting.\n *\n * Events\n *  - **data** {function(item) {}} the data event triggers when a document is ready.\n *  - **error** {function(err) {}} the error event triggers if an error happens.\n *  - **close** {function() {}} the end event triggers when there is no more documents available.\n *\n * @class Represents a CursorStream.\n * @param {Cursor} cursor a cursor object that the stream wraps.\n * @return {Stream}\n */\nfunction CursorStream(cursor, options) {\n  if(!(this instanceof CursorStream)) return new CursorStream(cursor);\n  options = options ? options : {};\n\n  Stream.call(this);\n\n  this.readable = true;\n  this.paused = false;\n  this._cursor = cursor;\n  this._destroyed = null;\n  this.options = options;\n\n  // give time to hook up events\n  var self = this;\n  process.nextTick(function() {\n    self._init();      \n  });\n}\n\n/**\n * Inherit from Stream\n * @ignore\n * @api private\n */\nCursorStream.prototype.__proto__ = Stream.prototype;\n\n/**\n * Flag stating whether or not this stream is readable.\n */\nCursorStream.prototype.readable;\n\n/**\n * Flag stating whether or not this stream is paused.\n */\nCursorStream.prototype.paused;\n\n/**\n * Initialize the cursor.\n * @ignore\n * @api private\n */\nCursorStream.prototype._init = function () {\n  if (this._destroyed) return;\n  this._next();\n}\n\n/**\n * Pull the next document from the cursor.\n * @ignore\n * @api private\n */\nCursorStream.prototype._next = function () {\n  if(this.paused || this._destroyed) return;\n\n  var self = this;\n  // Get the next object\n  processor(function() {\n    if(self.paused || self._destroyed) return;\n\n    self._cursor.nextObject(function (err, doc) {\n      self._onNextObject(err, doc);\n    });    \n  });\n}\n\n/**\n * Handle each document as its returned from the cursor.\n * @ignore\n * @api private\n */\nCursorStream.prototype._onNextObject = function (err, doc) {\n  if(err) {\n    this.destroy(err);\n    return this.emit('end');\n  }\n\n  // when doc is null we hit the end of the cursor\n  if(!doc && (this._cursor.state == 1 || this._cursor.state == 2)) {\n    this.emit('end')\n    return this.destroy();\n  } else if(doc) {\n    var data = typeof this.options.transform == 'function' ? this.options.transform(doc) : doc;\n    this.emit('data', data);\n    this._next();\n  }\n}\n\n/**\n * Pauses the stream.\n *\n * @api public\n */\nCursorStream.prototype.pause = function () {\n  this.paused = true;\n}\n\n/**\n * Resumes the stream.\n *\n * @api public\n */\nCursorStream.prototype.resume = function () {\n  var self = this;\n\n  // Don't do anything if we are not paused\n  if(!this.paused) return;\n  if(!this._cursor.state == 3) return;\n\n  process.nextTick(function() {\n    self.paused = false;\n    // Only trigger more fetching if the cursor is open\n    self._next();\n  })\n}\n\n/**\n * Destroys the stream, closing the underlying\n * cursor. No more events will be emitted.\n *\n * @api public\n */\nCursorStream.prototype.destroy = function (err) {\n  if (this._destroyed) return;\n  this._destroyed = true;\n  this.readable = false;\n\n  this._cursor.close();\n\n  if(err && this.listeners('error').length > 0) {\n    return this.emit('error', err);\n  }\n\n  this.emit('close');\n}\n\n// TODO - maybe implement the raw option to pass binary?\n//CursorStream.prototype.setEncoding = function () {\n//}\n\nmodule.exports = exports = CursorStream;\n"}