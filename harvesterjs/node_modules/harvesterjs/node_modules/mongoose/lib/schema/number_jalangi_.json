{"8":[14,16,14,67],"9":[1,20,1,27],"10":[12,16,12,29],"16":[11,9,11,50],"17":[1,28,1,32],"18":[14,16,14,28],"24":[18,9,18,26],"25":[1,20,1,33],"26":[14,16,14,40],"32":[24,19,24,54],"33":[1,20,1,33],"34":[14,44,14,67],"40":[28,24,28,47],"41":[1,20,1,33],"42":[20,20,20,52],"48":[23,9,23,22],"49":[2,26,2,38],"50":[23,9,23,22],"56":[38,9,38,26],"57":[2,26,2,45],"58":[28,24,28,33],"64":[44,19,44,54],"65":[2,26,2,45],"66":[28,37,28,47],"72":[48,24,48,47],"73":[2,26,2,45],"74":[40,20,40,52],"80":[43,9,43,22],"81":[3,18,3,25],"82":[43,9,43,22],"88":[59,13,59,26],"89":[3,26,3,41],"90":[48,24,48,33],"96":[62,9,62,58],"97":[3,18,3,42],"98":[48,37,48,47],"104":[63,13,63,38],"105":[3,56,3,66],"106":[59,13,59,26],"112":[69,20,69,68],"113":[3,56,3,76],"114":[63,13,63,38],"120":[69,20,69,68],"121":[3,94,3,101],"122":[67,25,67,37],"128":[67,13,67,37],"129":[3,102,3,112],"130":[67,13,67,37],"136":[73,21,73,38],"137":[3,94,3,113],"138":[69,46,69,68],"144":[58,9,58,50],"145":[3,94,3,122],"146":[80,9,80,20],"152":[79,15,79,33],"153":[3,132,3,139],"154":[81,13,81,25],"160":[79,15,79,33],"161":[3,140,3,150],"162":[83,13,83,23],"168":[81,13,81,25],"169":[3,132,3,151],"170":[85,13,85,23],"176":[83,13,83,23],"177":[3,18,3,42],"178":[85,13,85,36],"184":[85,13,85,64],"185":[3,18,3,42],"186":[85,40,85,50],"192":[85,13,85,64],"193":[3,56,3,76],"194":[85,40,85,64],"200":[88,13,88,34],"201":[3,56,3,76],"202":[88,13,88,34],"208":[90,13,90,35],"209":[3,94,3,122],"210":[90,25,90,35],"216":[92,13,92,48],"217":[3,94,3,122],"218":[90,13,90,35],"224":[92,13,92,81],"225":[3,132,3,151],"226":[92,29,92,48],"232":[92,13,92,81],"233":[3,132,3,151],"234":[92,52,92,81],"240":[80,9,80,20],"241":[5,5,5,15],"242":[103,9,103,28],"248":[103,9,103,28],"249":[5,21,5,25],"250":[119,9,119,31],"256":[121,13,121,21],"257":[5,27,5,30],"258":[121,13,121,21],"264":[126,16,126,27],"265":[5,32,5,39],"266":[122,29,122,57],"272":[119,9,119,31],"273":[5,41,5,49],"274":[122,29,122,75],"281":[5,5,5,50],"282":[126,16,126,27],"283":[5,5,5,20],"289":[5,5,5,51],"297":[4,1,6,2],"305":[4,1,6,2],"313":[4,1,6,2],"321":[4,1,6,2],"329":[7,1,7,13],"337":[7,27,7,35],"345":[7,1,7,35],"353":[7,1,7,36],"361":[8,1,8,13],"369":[8,26,8,32],"377":[8,40,8,50],"385":[8,40,8,60],"393":[8,26,8,61],"395":[8,26,8,39],"401":[8,1,8,61],"409":[8,1,8,62],"417":[9,1,9,13],"425":[9,1,9,23],"433":[9,38,9,50],"441":[9,1,9,50],"449":[9,1,9,51],"457":[10,1,10,13],"465":[10,1,10,23],"473":[11,9,11,19],"481":[11,27,11,31],"489":[11,33,11,38],"497":[11,40,11,43],"505":[11,45,11,49],"513":[11,9,11,50],"515":[11,9,11,26],"521":[12,16,12,20],"529":[12,24,12,29],"537":[12,16,12,29],"545":[12,9,12,30],"553":[14,23,14,28],"561":[14,32,14,40],"569":[14,44,14,49],"577":[14,61,14,67],"585":[14,16,14,67],"593":[14,9,14,68],"601":[10,40,16,2],"609":[10,40,16,2],"617":[10,40,16,2],"625":[10,40,16,2],"633":[10,40,16,2],"641":[10,40,16,2],"649":[10,1,16,2],"657":[10,1,16,3],"665":[17,1,17,13],"673":[17,1,17,23],"681":[18,9,18,13],"689":[18,9,18,26],"697":[19,9,19,13],"705":[19,27,19,31],"713":[19,27,19,42],"721":[20,20,20,21],"729":[20,20,20,31],"737":[20,35,20,39],"745":[20,35,20,52],"753":[20,20,20,52],"761":[20,13,20,53],"769":[19,50,21,10],"777":[19,50,21,10],"785":[19,50,21,10],"793":[19,50,21,10],"801":[21,12,21,16],"809":[19,27,21,17],"811":[19,27,19,49],"817":[19,9,21,17],"825":[19,9,21,18],"833":[23,9,23,13],"841":[23,17,23,22],"849":[24,19,24,26],"857":[24,30,24,43],"865":[24,30,24,50],"873":[24,30,24,54],"881":[24,19,24,54],"889":[24,19,24,54],"897":[25,15,25,18],"905":[25,27,25,34],"913":[25,36,25,41],"921":[25,15,25,42],"923":[25,15,25,26],"929":[25,15,25,42],"937":[25,9,25,43],"945":[26,9,26,13],"953":[26,9,26,24],"961":[27,24,27,28],"969":[28,24,28,25],"977":[28,29,28,33],"985":[28,37,28,38],"993":[28,42,28,47],"1001":[28,24,28,47],"1009":[28,17,28,48],"1017":[27,44,29,14],"1025":[27,44,29,14],"1033":[27,44,29,14],"1041":[27,44,29,14],"1049":[27,24,29,14],"1057":[30,22,30,25],"1065":[31,19,31,24],"1073":[32,18,32,23],"1081":[26,30,33,10],"1089":[26,9,33,11],"1091":[26,9,26,29],"1097":[26,9,33,12],"1105":[35,12,35,16],"1113":[35,12,35,16],"1121":[35,5,35,17],"1129":[17,30,36,2],"1137":[17,30,36,2],"1145":[17,30,36,2],"1153":[17,30,36,2],"1161":[17,30,36,2],"1169":[17,30,36,2],"1177":[17,1,36,2],"1185":[17,1,36,3],"1193":[37,1,37,13],"1201":[37,1,37,23],"1209":[38,9,38,13],"1217":[38,9,38,26],"1225":[39,9,39,13],"1233":[39,27,39,31],"1241":[39,27,39,42],"1249":[40,20,40,21],"1257":[40,20,40,31],"1265":[40,35,40,39],"1273":[40,35,40,52],"1281":[40,20,40,52],"1289":[40,13,40,53],"1297":[39,50,41,10],"1305":[39,50,41,10],"1313":[39,50,41,10],"1321":[39,50,41,10],"1329":[41,12,41,16],"1337":[39,27,41,17],"1339":[39,27,39,49],"1345":[39,9,41,17],"1353":[39,9,41,18],"1361":[43,9,43,13],"1369":[43,17,43,22],"1377":[44,19,44,26],"1385":[44,30,44,43],"1393":[44,30,44,50],"1401":[44,30,44,54],"1409":[44,19,44,54],"1417":[44,19,44,54],"1425":[45,15,45,18],"1433":[45,27,45,34],"1441":[45,36,45,41],"1449":[45,15,45,42],"1451":[45,15,45,26],"1457":[45,15,45,42],"1465":[45,9,45,43],"1473":[46,9,46,13],"1481":[46,9,46,24],"1489":[47,24,47,28],"1497":[48,24,48,25],"1505":[48,29,48,33],"1513":[48,37,48,38],"1521":[48,42,48,47],"1529":[48,24,48,47],"1537":[48,17,48,48],"1545":[47,44,49,14],"1553":[47,44,49,14],"1561":[47,44,49,14],"1569":[47,44,49,14],"1577":[47,24,49,14],"1585":[50,22,50,25],"1593":[51,19,51,24],"1601":[52,18,52,23],"1609":[46,30,53,10],"1617":[46,9,53,11],"1619":[46,9,46,29],"1625":[46,9,53,12],"1633":[55,12,55,16],"1641":[55,12,55,16],"1649":[55,5,55,17],"1657":[37,30,56,2],"1665":[37,30,56,2],"1673":[37,30,56,2],"1681":[37,30,56,2],"1689":[37,30,56,2],"1697":[37,30,56,2],"1705":[37,1,56,2],"1713":[37,1,56,3],"1721":[57,1,57,13],"1729":[57,1,57,23],"1737":[58,9,58,19],"1745":[58,27,58,31],"1753":[58,33,58,38],"1761":[58,40,58,43],"1769":[58,45,58,49],"1777":[58,9,58,50],"1779":[58,9,58,26],"1785":[59,13,59,17],"1793":[59,21,59,26],"1801":[60,20,60,25],"1809":[60,20,60,25],"1817":[60,13,60,26],"1825":[62,9,62,17],"1833":[62,33,62,40],"1841":[62,41,62,56],"1849":[62,33,62,57],"1857":[62,33,62,57],"1865":[62,9,62,59],"1873":[63,13,63,18],"1881":[63,30,63,38],"1889":[64,13,64,18],"1897":[64,13,64,22],"1905":[64,38,64,42],"1913":[64,13,64,42],"1921":[64,13,64,43],"1929":[65,20,65,25],"1937":[65,20,65,25],"1945":[65,13,65,26],"1953":[67,13,67,21],"1961":[67,32,67,37],"1969":[68,20,68,25],"1977":[68,20,68,25],"1985":[68,13,68,26],"1993":[69,20,69,26],"2001":[69,36,69,41],"2009":[69,20,69,42],"2011":[69,20,69,35],"2017":[69,47,69,52],"2025":[69,62,69,67],"2033":[69,47,69,68],"2035":[69,47,69,61],"2041":[70,23,70,32],"2049":[70,33,70,41],"2057":[70,43,70,48],"2065":[70,50,70,54],"2073":[70,50,70,59],"2081":[70,19,70,60],"2089":[70,19,70,60],"2097":[70,13,70,61],"2105":[72,20,72,23],"2113":[72,36,72,40],"2121":[72,36,72,45],"2129":[72,20,72,46],"2131":[72,20,72,35],"2137":[72,20,72,46],"2145":[72,20,72,46],"2153":[73,21,73,24],"2161":[73,21,73,38],"2169":[73,41,73,44],"2177":[73,41,73,60],"2179":[73,41,73,58],"2185":[73,63,73,66],"2193":[73,21,73,66],"2201":[73,21,73,66],"2209":[74,19,74,24],"2217":[74,35,74,39],"2225":[74,41,74,45],"2233":[74,19,74,46],"2235":[74,19,74,34],"2241":[74,19,74,46],"2249":[74,19,74,46],"2257":[75,23,75,26],"2265":[75,23,75,34],"2273":[75,41,75,46],"2281":[75,19,75,47],"2283":[75,23,75,40],"2289":[75,19,75,47],"2297":[75,19,75,47],"2305":[76,9,76,12],"2313":[76,9,76,16],"2321":[76,32,76,36],"2329":[76,9,76,36],"2337":[76,9,76,37],"2345":[77,16,77,19],"2353":[77,16,77,19],"2361":[77,9,77,20],"2369":[79,15,79,20],"2377":[79,24,79,29],"2385":[79,24,79,33],"2393":[79,36,79,41],"2401":[79,36,79,45],"2409":[79,48,79,53],"2417":[79,15,79,53],"2425":[79,15,79,53],"2433":[80,10,80,15],"2441":[80,16,80,19],"2449":[80,10,80,20],"2457":[81,13,81,17],"2465":[81,22,81,25],"2473":[82,20,82,23],"2481":[82,20,82,23],"2489":[82,13,82,24],"2497":[83,13,83,15],"2505":[83,20,83,23],"2513":[84,20,84,24],"2521":[84,20,84,24],"2529":[84,13,84,25],"2537":[85,20,85,23],"2545":[85,28,85,36],"2553":[85,47,85,50],"2561":[85,55,85,64],"2569":[86,19,86,25],"2577":[86,26,86,29],"2585":[86,19,86,30],"2593":[86,19,86,30],"2601":[86,13,86,31],"2609":[88,13,88,16],"2617":[88,28,88,34],"2625":[89,20,89,23],"2633":[89,20,89,23],"2641":[89,13,89,24],"2649":[90,13,90,21],"2657":[90,32,90,35],"2665":[91,20,91,23],"2673":[91,20,91,23],"2681":[91,13,91,24],"2689":[92,13,92,16],"2697":[92,13,92,25],"2705":[92,30,92,35],"2713":[92,44,92,47],"2721":[92,30,92,48],"2723":[92,30,92,43],"2729":[92,52,92,55],"2737":[92,52,92,66],"2739":[92,52,92,64],"2745":[92,70,92,76],"2753":[92,77,92,80],"2761":[92,70,92,81],"2769":[93,24,93,30],"2777":[93,31,93,34],"2785":[93,20,93,35],"2793":[93,20,93,35],"2801":[93,13,93,36],"2809":[96,15,96,24],"2817":[96,25,96,33],"2825":[96,35,96,40],"2833":[96,42,96,46],"2841":[96,42,96,51],"2849":[96,11,96,52],"2857":[96,11,96,52],"2865":[96,5,96,53],"2873":[57,31,97,2],"2881":[57,31,97,2],"2889":[57,31,97,2],"2897":[57,31,97,2],"2905":[57,31,97,2],"2913":[57,31,97,2],"2921":[57,31,97,2],"2929":[57,31,97,2],"2937":[57,31,97,2],"2945":[57,31,97,2],"2953":[57,31,97,2],"2961":[57,1,97,2],"2969":[57,1,97,3],"2977":[99,12,99,16],"2985":[99,22,99,25],"2993":[99,12,99,26],"2995":[99,12,99,21],"3001":[99,12,99,26],"3009":[99,5,99,27],"3017":[98,1,100,2],"3025":[98,1,100,2],"3033":[98,1,100,2],"3041":[102,16,102,20],"3049":[102,16,102,20],"3057":[102,16,102,20],"3065":[103,10,103,15],"3073":[103,24,103,27],"3081":[103,10,103,28],"3083":[103,10,103,23],"3089":[104,17,104,21],"3097":[104,27,104,30],"3105":[104,17,104,31],"3107":[104,17,104,26],"3113":[104,16,104,32],"3121":[104,16,104,32],"3129":[104,9,104,33],"3137":[106,12,106,15],"3145":[107,16,107,20],"3153":[107,26,107,27],"3161":[107,16,107,28],"3163":[107,16,107,25],"3169":[107,16,107,28],"3177":[107,9,107,29],"3185":[106,20,108,6],"3193":[106,20,108,6],"3201":[106,20,108,6],"3209":[106,20,108,6],"3217":[106,12,108,7],"3219":[106,12,106,19],"3225":[106,12,108,7],"3233":[106,5,108,8],"3241":[101,1,109,2],"3249":[101,1,109,2],"3257":[101,1,109,2],"3265":[101,1,109,2],"3273":[110,1,110,13],"3281":[110,1,110,23],"3289":[110,47,110,52],"3297":[110,61,110,71],"3305":[110,61,110,81],"3313":[110,61,110,102],"3321":[111,12,111,24],"3329":[112,13,112,25],"3337":[113,12,113,24],"3345":[114,13,114,25],"3353":[115,13,115,24],"3361":[110,104,116,2],"3369":[110,47,116,3],"3371":[110,47,110,60],"3377":[110,1,116,3],"3385":[110,1,116,4],"3393":[117,1,117,13],"3401":[117,1,117,23],"3409":[119,9,119,18],"3417":[119,9,119,25],"3425":[119,30,119,31],"3433":[120,19,120,23],"3441":[120,19,120,44],"3449":[120,45,120,57],"3457":[120,19,120,58],"3465":[120,19,120,58],"3473":[120,9,120,59],"3481":[121,14,121,21],"3489":[122,23,122,28],"3497":[122,29,122,42],"3505":[122,45,122,57],"3513":[122,60,122,75],"3521":[122,19,122,76],"3529":[122,19,122,76],"3537":[122,13,122,77],"3545":[123,16,123,23],"3553":[123,29,123,33],"3561":[123,35,123,38],"3569":[123,16,123,39],"3571":[123,16,123,28],"3577":[123,16,123,39],"3585":[123,9,123,40],"3593":[125,15,125,19],"3601":[125,25,125,37],"3609":[125,15,125,38],"3611":[125,15,125,24],"3617":[125,15,125,38],"3625":[125,9,125,39],"3633":[126,16,126,19],"3641":[126,23,126,27],"3649":[126,30,126,33],"3657":[126,36,126,39],"3665":[126,16,126,39],"3673":[126,9,126,40],"3681":[117,39,128,2],"3689":[117,39,128,2],"3697":[117,39,128,2],"3705":[117,39,128,2],"3713":[117,39,128,2],"3721":[117,39,128,2],"3729":[117,1,128,2],"3737":[117,1,128,3],"3745":[129,1,129,7],"3753":[129,18,129,30],"3761":[129,1,129,30],"3769":[129,1,129,31],"3777":[1,1,129,31],"3785":[1,1,129,31],"3793":[1,1,129,31],"3801":[1,1,129,31],"3809":[1,1,129,31],"3817":[1,1,129,31],"3825":[1,1,129,31],"3833":[1,1,129,31],"3841":[4,1,6,2],"3849":[1,1,129,31],"3857":[98,1,100,2],"3865":[1,1,129,31],"3873":[101,1,109,2],"3881":[1,1,129,31],"3889":[4,1,6,2],"3897":[4,1,6,2],"3905":[11,5,15,6],"3913":[10,40,16,2],"3921":[10,40,16,2],"3929":[19,50,21,10],"3937":[19,50,21,10],"3945":[18,5,22,6],"3953":[27,44,29,14],"3961":[27,44,29,14],"3969":[23,5,34,6],"3977":[17,30,36,2],"3985":[17,30,36,2],"3993":[39,50,41,10],"4001":[39,50,41,10],"4009":[38,5,42,6],"4017":[47,44,49,14],"4025":[47,44,49,14],"4033":[43,5,54,6],"4041":[37,30,56,2],"4049":[37,30,56,2],"4057":[59,9,61,10],"4065":[63,9,66,10],"4073":[69,16,71,10],"4081":[67,9,71,10],"4089":[73,21,73,66],"4097":[58,5,78,6],"4105":[79,15,79,53],"4113":[81,9,82,24],"4121":[83,9,84,25],"4129":[85,9,87,10],"4137":[88,9,89,24],"4145":[90,9,91,24],"4153":[92,9,94,10],"4161":[80,5,95,6],"4169":[57,31,97,2],"4177":[57,31,97,2],"4185":[98,1,100,2],"4193":[98,1,100,2],"4201":[103,5,105,6],"4209":[106,20,108,6],"4217":[106,20,108,6],"4225":[101,1,109,2],"4233":[101,1,109,2],"4241":[121,9,122,77],"4249":[126,16,126,39],"4257":[119,5,127,6],"4265":[117,39,128,2],"4273":[117,39,128,2],"4281":[1,1,129,31],"4289":[1,1,129,31],"nBranches":68,"originalCodeFileName":"/home/blake/ExpoSE/Targets/harvesterjs/node_modules/harvesterjs/node_modules/mongoose/lib/schema/number.js","instrumentedCodeFileName":"/home/blake/ExpoSE/Targets/harvesterjs/node_modules/harvesterjs/node_modules/mongoose/lib/schema/number_jalangi_.js","code":"/*!\n * Module requirements.\n */\n\nvar SchemaType = require('../schematype'),\n    CastError = SchemaType.CastError,\n    errorMessages = require('../error').messages,\n    utils = require('../utils'),\n    Document;\n\n/**\n * Number SchemaType constructor.\n *\n * @param {String} key\n * @param {Object} options\n * @inherits SchemaType\n * @api private\n */\n\nfunction SchemaNumber(key, options) {\n  SchemaType.call(this, key, options, 'Number');\n}\n\n/**\n * This schema type's name, to defend against minifiers that mangle\n * function names.\n *\n * @api private\n */\nSchemaNumber.schemaName = 'Number';\n\n/*!\n * Inherits from SchemaType.\n */\nSchemaNumber.prototype = Object.create( SchemaType.prototype );\nSchemaNumber.prototype.constructor = SchemaNumber;\n\n/**\n * Required validator for number\n *\n * @api private\n */\n\nSchemaNumber.prototype.checkRequired = function checkRequired(value, doc) {\n  if (SchemaType._isRef(this, value, doc, true)) {\n    return null != value;\n  } else {\n    return typeof value == 'number' || value instanceof Number;\n  }\n};\n\n/**\n * Sets a minimum number validator.\n *\n * ####Example:\n *\n *     var s = new Schema({ n: { type: Number, min: 10 })\n *     var M = db.model('M', s)\n *     var m = new M({ n: 9 })\n *     m.save(function (err) {\n *       console.error(err) // validator error\n *       m.n = 10;\n *       m.save() // success\n *     })\n *\n *     // custom error messages\n *     // We can also use the special {MIN} token which will be replaced with the invalid value\n *     var min = [10, 'The value of path `{PATH}` ({VALUE}) is beneath the limit ({MIN}).'];\n *     var schema = new Schema({ n: { type: Number, min: min })\n *     var M = mongoose.model('Measurement', schema);\n *     var s= new M({ n: 4 });\n *     s.validate(function (err) {\n *       console.log(String(err)) // ValidationError: The value of path `n` (4) is beneath the limit (10).\n *     })\n *\n * @param {Number} value minimum number\n * @param {String} [message] optional custom error message\n * @return {SchemaType} this\n * @see Customized Error Messages #error_messages_MongooseError-messages\n * @api public\n */\n\nSchemaNumber.prototype.min = function(value, message) {\n  if (this.minValidator) {\n    this.validators = this.validators.filter(function(v) {\n      return v.validator != this.minValidator;\n    }, this);\n  }\n\n  if (null != value) {\n    var msg = message || errorMessages.Number.min;\n    msg = msg.replace(/{MIN}/, value);\n    this.validators.push({\n      validator: this.minValidator = function(v) {\n        return v == null || v >= value;\n      },\n      message: msg,\n      type: 'min',\n      min: value\n    });\n  }\n\n  return this;\n};\n\n/**\n * Sets a maximum number validator.\n *\n * ####Example:\n *\n *     var s = new Schema({ n: { type: Number, max: 10 })\n *     var M = db.model('M', s)\n *     var m = new M({ n: 11 })\n *     m.save(function (err) {\n *       console.error(err) // validator error\n *       m.n = 10;\n *       m.save() // success\n *     })\n *\n *     // custom error messages\n *     // We can also use the special {MAX} token which will be replaced with the invalid value\n *     var max = [10, 'The value of path `{PATH}` ({VALUE}) exceeds the limit ({MAX}).'];\n *     var schema = new Schema({ n: { type: Number, max: max })\n *     var M = mongoose.model('Measurement', schema);\n *     var s= new M({ n: 4 });\n *     s.validate(function (err) {\n *       console.log(String(err)) // ValidationError: The value of path `n` (4) exceeds the limit (10).\n *     })\n *\n * @param {Number} maximum number\n * @param {String} [message] optional custom error message\n * @return {SchemaType} this\n * @see Customized Error Messages #error_messages_MongooseError-messages\n * @api public\n */\n\nSchemaNumber.prototype.max = function(value, message) {\n  if (this.maxValidator) {\n    this.validators = this.validators.filter(function(v) {\n      return v.validator != this.maxValidator;\n    }, this);\n  }\n\n  if (null != value) {\n    var msg = message || errorMessages.Number.max;\n    msg = msg.replace(/{MAX}/, value);\n    this.validators.push({\n      validator: this.maxValidator = function(v) {\n        return v == null || v <= value;\n      },\n      message: msg,\n      type: 'max',\n      max: value\n    });\n  }\n\n  return this;\n};\n\n/**\n * Casts to number\n *\n * @param {Object} value value to cast\n * @param {Document} doc document that triggers the casting\n * @param {Boolean} init\n * @api private\n */\n\nSchemaNumber.prototype.cast = function(value, doc, init) {\n  if (SchemaType._isRef(this, value, doc, init)) {\n    // wait! we may need to cast this to a document\n\n    if (null == value) {\n      return value;\n    }\n\n    // lazy load\n    Document || (Document = require('./../document'));\n\n    if (value instanceof Document) {\n      value.$__.wasPopulated = true;\n      return value;\n    }\n\n    // setting a populated path\n    if ('number' == typeof value) {\n      return value;\n    } else if (Buffer.isBuffer(value) || !utils.isObject(value)) {\n      throw new CastError('number', value, this.path);\n    }\n\n    // Handle the case where user directly sets a populated\n    // path to a plain object; cast to the Model used in\n    // the population query.\n    var path = doc.$__fullPath(this.path);\n    var owner = doc.ownerDocument ? doc.ownerDocument() : doc;\n    var pop = owner.populated(path, true);\n    var ret = new pop.options.model(value);\n    ret.$__.wasPopulated = true;\n    return ret;\n  }\n\n  var val = value && value._id\n    ? value._id // documents\n    : value;\n\n  if (!isNaN(val)) {\n    if (null === val) return val;\n    if ('' === val) return null;\n    if (typeof val === 'string' || typeof val === 'boolean') {\n      val = Number(val);\n    }\n    if (val instanceof Number) return val;\n    if ('number' == typeof val) return val;\n    if (val.toString && !Array.isArray(val) &&\n        val.toString() == Number(val)) {\n      return new Number(val);\n    }\n  }\n\n  throw new CastError('number', value, this.path);\n};\n\n/*!\n * ignore\n */\n\nfunction handleSingle(val) {\n  return this.cast(val);\n}\n\nfunction handleArray(val) {\n  var self = this;\n  if (!Array.isArray(val)) {\n    return [this.cast(val)];\n  }\n  return val.map(function(m) {\n    return self.cast(m);\n  });\n}\n\nSchemaNumber.prototype.$conditionalHandlers =\n  utils.options(SchemaType.prototype.$conditionalHandlers, {\n    '$gt' : handleSingle,\n    '$gte': handleSingle,\n    '$lt' : handleSingle,\n    '$lte': handleSingle,\n    '$mod': handleArray\n  });\n\n/**\n * Casts contents for queries.\n *\n * @param {String} $conditional\n * @param {any} [value]\n * @api private\n */\n\nSchemaNumber.prototype.castForQuery = function($conditional, val) {\n  var handler;\n  if (arguments.length === 2) {\n    handler = this.$conditionalHandlers[$conditional];\n    if (!handler)\n      throw new Error(\"Can't use \" + $conditional + \" with Number.\");\n    return handler.call(this, val);\n  } else {\n    val = this.cast($conditional);\n    return val == null ? val : val;\n  }\n};\n\n/*!\n * Module exports.\n */\n\nmodule.exports = SchemaNumber;\n"}